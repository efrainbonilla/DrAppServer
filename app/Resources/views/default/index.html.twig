{% extends 'base_async.html.twig' %}

{% block stylesheets %}
	{# {% stylesheets '@AppBundle/Resources/public/components/bootstrap/dist/css/bootstrap.css' %}
		<link href="{{ asset_url }}" rel="stylesheet" type="text/css" />
	{% endstylesheets %} #}
{% endblock %}

{% block javascripts_async_head %}
	<script type="text/javascript">
	    var browserSupport = 0, browserIE9 = 0, browserFirefox = 0;
	</script>
	<!--[if lt IE 9]><script type="text/javascript">browserSupport=0;</script><![endif]-->
	<!--[if IE 9]><script type="text/javascript">browserIE9=1;</script><![endif]-->
	<script src="{{ asset('bundles/app/js/browser.js') }}"></script>
	<script type="text/javascript">
	if (browser.chrome && browser.version < 22){
	    browserSupport = 1;
	} else if (browser.gecko && browser.version < 3.6){
	    browserFirefox = 1, browserSupport = 1;
	}
	</script>
	<script src="{{ asset('bundles/app/js/async-loader.js') }}"></script>

	<script type="text/javascript">
	window.onload = function() {
	// load all of the dependencies asynchronously.
	    $script([{
	        'f': 'bundles/app/components/angular/angular.js',
	        'n': "angular_js",
	        'j': 1,
	        'w': 0
	    }, {
    		'f': 'bundles/app/components/angular-animate/angular-animate.js',
    		'n': "angular_animate_js",
    		'j': 1,
    		'w': 0
    	}, {
    		'f': 'bundles/app/components/angular-sanitize/angular-sanitize.js',
    		'n': "angular_sanitize_js",
    		'j': 1,
    		'w': 0
    	}, {
    		'f': 'bundles/app/components/angular-cookies/angular-cookies.js',
    		'n': "angular_cookies_js",
    		'j': 1,
    		'w': 0
    	}, {
    		'f': 'bundles/app/components/angular-touch/angular-touch.js',
    		'n': "angular_touch_js",
    		'j': 1,
    		'w': 0
    	}, {
    		'f': 'bundles/app/components/angular-resource/angular-resource.js',
    		'n': "angular_resource_js",
    		'j': 1,
    		'w': 0
    	}, {
	        'f': 'bundles/app/components/angular-ui-utils/ui-utils.js',
	        'n': "angular_ui_utils_js",
	        'j': 1,
	        'w': 0
	    }, {
	        'f': 'bundles/app/components/angular-ui-router/release/angular-ui-router.js',
	        'n': "angular_ui_router_js",
	        'j': 1,
	        'w': 0
	    }, {
	        'f': 'bundles/app/components/angular-bootstrap/ui-bootstrap-tpls.js',
	        'n': "_js",
	        'j': 1,
	        'w': 0
	    }, {
	        'f': 'bundles/app/components/angular-http-auth/src/http-auth-interceptor.js',
	        'n': "angular_http_auth_js",
	        'j': 1,
	        'w': 0
	    }, {
	        'f': 'bundles/app/components/ng-table/dist/ng-table.js',
	        'n': "ng_table_js",
	        'j': 1,
	        'w': 0
	    }, {
	        'f': 'bundles/app/js/app.js',
	        'n': "app_js",
	        'j': 1,
	        'w': 0
	    }, {
	        'f': 'bundles/app/js/services.js',
	        'n': "service_js",
	        'j': 1,
	        'w': 0
	    }, {
	        'f': 'bundles/app/js/resources.js',
	        'n': "resources_js",
	        'j': 1,
	        'w': 0
	    }, {
	        'f': 'bundles/app/js/controllers.js',
	        'n': "controllers_js",
	        'j': 1,
	        'w': 0
	    }, {
	        'f': 'bundles/app/js/filters.js',
	        'n': "filters_js",
	        'j': 1,
	        'w': 0
	    }, {
	        'f': 'bundles/app/js/directives.js',
	        'n': "directives_js",
	        'j': 1,
	        'w': 0
	    }], {
	        browserSupport: browserSupport,//0 app browser support , 1 browser upgrade
	        staticUrl: 'http://drapp.local:9012/'
	    }, function() {

	        angular.bootstrap(document, ['myApp']);

	    });
	};
	</script>
{% endblock %}

{% block body %}
    <div class="container" ng-controller="MainCtrl">

    	Homepage.

    	<ul class="menu">
	        <li><a ui-sref="admin">Admin </a></li>
	    </ul>
	    <div class="container">
	        <div ui-view="main"></div>
	    </div>

	    <script type="text/ng-template" id="login.html">
		    <div class="modal-header">
		        <h4 class="modal-title">Login required</h4>
		    </div>
		    <div class="modal-body">
		        <form class="form-horizontal" role="form" ng-submit="submit(credentials)">
		            <div class="alert alert-danger" ng-if="errorMessage">

		            </div>
		            <div class="form-group">
		                <label for="inputEmail3" class="col-sm-2 control-label">Username</label>
		                <div class="col-sm-10">
		                    <input type="text" class="form-control" ng-model="credentials.username" placeholder="Username" required>
		                </div>
		            </div>
		            <div class="form-group">
		                <label for="inputPassword3" class="col-sm-2 control-label">Password</label>
		                <div class="col-sm-10">
		                    <input type="password" class="form-control" ng-model="credentials.password" placeholder="Password" required>
		                </div>
		            </div>
		        </form>
		    </div>
		    <div class="modal-footer">
		        <button class="btn btn-primary" ng-click="submit(credentials)">Login</button>
		    </div>
		</script>
    </div>
{% endblock %}
