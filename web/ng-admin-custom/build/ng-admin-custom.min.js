!function(e){function t(r){if(n[r])return n[r].exports;var i=n[r]={exports:{},id:r,loaded:!1};return e[r].call(i.exports,i,i.exports,t),i.loaded=!0,i.exports}var n={};return t.m=e,t.c=n,t.p="http://drapp.local:9012/",t(0)}([function(e,t,n){n(77),n(168),n(49),n(211),e.exports=n(210)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(15),s=r(o),l=function(){function e(t){i(this,e),this._name=t||Math.random().toString(36).substring(7),this._detailLink="id"===t,this._type="string",this._order=null,this._label=null,this._maps=[],this._attributes={},this._cssClasses=null,this._validation={required:!1,minlength:0,maxlength:99999},this._defaultValue=null,this._editable=!0,this._detailLinkRoute="edit",this.dashboard=!0,this.list=!0}return a(e,[{key:"label",value:function(){return arguments.length?(this._label=arguments[0],this):null===this._label?s["default"].camelCase(this._name):this._label}},{key:"type",value:function(){return this._type}},{key:"name",value:function(){return arguments.length?(this._name=arguments[0],this):this._name}},{key:"order",value:function(){return arguments.length?(arguments[1]!==!0&&console.warn("Setting order with Field.order is deprecated, order directly in fields array"),this._order=arguments[0],this):this._order}},{key:"isDetailLink",value:function(e){return arguments.length?(this._detailLink=arguments[0],this):null===this._detailLink?"id"===this._name:this._detailLink}},{key:"detailLink",set:function(e){return this._detailLink=e}},{key:"map",value:function(e){if(!e)return this._maps;if("function"!=typeof e){var t=typeof e;throw new Error("Map argument should be a function, "+t+" given.")}return this._maps.push(e),this}},{key:"hasMaps",value:function(){return!!this._maps.length}},{key:"attributes",value:function(e){return arguments.length?(this._attributes=e,this):this._attributes}},{key:"cssClasses",value:function(e){return arguments.length?(this._cssClasses=e,this):this._cssClasses}},{key:"getCssClasses",value:function(e){return this._cssClasses?this._cssClasses.constructor===Array?this._cssClasses.join(" "):"function"==typeof this._cssClasses?this._cssClasses(e):this._cssClasses:""}},{key:"getMappedValue",value:function(e,t){for(var n in this._maps)e=this._maps[n](e,t);return e}},{key:"validation",value:function(e){if(!arguments.length)return this._validation;for(var t in e)e.hasOwnProperty(t)&&(null===e[t]?delete this._validation[t]:this._validation[t]=e[t]);return this}},{key:"defaultValue",value:function(e){return arguments.length?(this._defaultValue=e,this):this._defaultValue}},{key:"editable",value:function(e){return arguments.length?(this._editable=e,this):this._editable}},{key:"detailLinkRoute",value:function(e){return arguments.length?(this._detailLinkRoute=e,this):this._detailLinkRoute}}]),e}();t["default"]=l,e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(8),s=(r(o),function(){function e(t){i(this,e),this.entity=null,this._actions=null,this._title=!1,this._description="",this._template=null,this._enabled=!1,this._fields=[],this._type=null,this._name=t,this._order=0,this._errorMessage=null,this._url=null}return a(e,[{key:"enabled",get:function(){return this._enabled||!!this._fields.length}},{key:"title",value:function(e){return arguments.length?(this._title=e,this):this._title}},{key:"description",value:function(){return arguments.length?(this._description=arguments[0],this):this._description}},{key:"name",value:function(e){return arguments.length?(this._name=e,this):this._name||this.entity.name()+"_"+this._type}},{key:"disable",value:function(){return this._enabled=!1,this}},{key:"enable",value:function(){return this._enabled=!0,this}},{key:"isEnabled",value:function(){return this.enabled}},{key:"getEntity",value:function(){return this.entity}},{key:"setEntity",value:function(e){return this.entity=e,this._name||(this._name=e.name()+"_"+this._type),this}},{key:"fields",value:function(){return arguments.length?([].slice.call(arguments).map(function(t){var n=this;e.flatten(t).map(function(e){return n.addField(e)})},this),this):this._fields}},{key:"type",get:function(){return this._type}},{key:"order",value:function(e){return arguments.length?(this._order=e,this):this._order}},{key:"getReferences",value:function(){for(var e={},t=this._fields.filter(function(e){return"reference"===e.type()||"reference_many"===e.type()}),n=0,r=t.length;r>n;n++){var i=t[n];e[i.name()]=i}return e}},{key:"getNonOptimizedReferences",value:function(){return this._getReferencesByOptimizationType(!1)}},{key:"getOptimizedReferences",value:function(){return this._getReferencesByOptimizationType(!0)}},{key:"getReferencedLists",value:function(){for(var e={},t=this._fields.filter(function(e){return"referenced_list"===e.type()}),n=0,r=t.length;r>n;n++){var i=t[n];e[i.name()]=i}return e}},{key:"template",value:function(e){return arguments.length?(this._template=e,this):this._template}},{key:"identifier",value:function(){return this.entity.identifier()}},{key:"actions",value:function(e){return arguments.length?(this._actions=e,this):this._actions}},{key:"removeFields",value:function(){return this._fields=[],this}},{key:"getFields",value:function(){return this._fields}},{key:"getField",value:function(e){return this._fields.filter(function(t){return t.name()===e})[0]}},{key:"getFieldsOfType",value:function(e){return this._fields.filter(function(t){return t.type()===e})}},{key:"addField",value:function(e){return null===e.order()&&e.order(this._fields.length,!0),this._fields.push(e),this._fields=this._fields.sort(function(e,t){return e.order()-t.order()}),this}},{key:"getErrorMessage",value:function(e){return"function"==typeof this._errorMessage?this._errorMessage(e):this._errorMessage}},{key:"errorMessage",value:function(e){return arguments.length?(this._errorMessage=e,this):this._errorMessage}},{key:"url",value:function(e){return arguments.length?(this._url=e,this):this._url}},{key:"getUrl",value:function(e){return"function"==typeof this._url?this._url(e):this._url}},{key:"validate",value:function(e){this._fields.map(function(t){var n=t.validation();"function"==typeof n.validator&&n.validator(e.values[t.name()])})}},{key:"_getReferencesByOptimizationType",value:function(){var e=void 0===arguments[0]?!0:arguments[0],t={},n=this.getReferences();for(var r in n){var i=n[r];!!i.getSingleApiCall()===e&&(t[r]=i)}return t}}],[{key:"flatten",value:function(t){if("Object"===t.constructor.name){console.warn("Passing literal of Field to fields method is deprecated use array instead");var n=[];for(var r in t)n=n.concat(e.flatten(t[r]));return n}return Array.isArray(t)?t.reduce(function(t,n){return t.concat(e.flatten(n))},[]):[t]}}]),e}());t["default"]=s,e.exports=t["default"]},function(e,t,n){!function(t){e.exports=t()}(function(){"use strict";function e(n,r){if(!(this instanceof e))return new e(n,r);this.options=r=r?Ni(r):{},Ni(Wa,r,!1),p(r);var i=r.value;"string"==typeof i&&(i=new vo(i,r.mode)),this.doc=i;var a=new e.inputStyles[r.inputStyle](this),o=this.display=new t(n,i,a);o.wrapper.CodeMirror=this,u(this),s(this),r.lineWrapping&&(this.display.wrapper.className+=" CodeMirror-wrap"),r.autofocus&&!xa&&o.input.focus(),v(this),this.state={keyMaps:[],overlays:[],modeGen:0,overwrite:!1,delayingBlurEvent:!1,focused:!1,suppressEdits:!1,pasteIncoming:!1,cutIncoming:!1,draggingText:!1,highlight:new _i,keySeq:null,specialChars:null};var l=this;fa&&11>pa&&setTimeout(function(){l.display.input.reset(!0)},20),Ht(this),qi(),yt(this),this.curOp.forceUpdate=!0,Wr(this,i),r.autofocus&&!xa||l.hasFocus()?setTimeout(Di(pn,this),20):hn(this);for(var c in Ga)Ga.hasOwnProperty(c)&&Ga[c](this,r[c],Ka);x(this),r.finishInit&&r.finishInit(this);for(var d=0;d<Ja.length;++d)Ja[d](this);wt(this),ha&&r.lineWrapping&&"optimizelegibility"==getComputedStyle(o.lineDiv).textRendering&&(o.lineDiv.style.textRendering="auto")}function t(e,t,n){var r=this;this.input=n,r.scrollbarFiller=Fi("div",null,"CodeMirror-scrollbar-filler"),r.scrollbarFiller.setAttribute("cm-not-content","true"),r.gutterFiller=Fi("div",null,"CodeMirror-gutter-filler"),r.gutterFiller.setAttribute("cm-not-content","true"),r.lineDiv=Fi("div",null,"CodeMirror-code"),r.selectionDiv=Fi("div",null,null,"position: relative; z-index: 1"),r.cursorDiv=Fi("div",null,"CodeMirror-cursors"),r.measure=Fi("div",null,"CodeMirror-measure"),r.lineMeasure=Fi("div",null,"CodeMirror-measure"),r.lineSpace=Fi("div",[r.measure,r.lineMeasure,r.selectionDiv,r.cursorDiv,r.lineDiv],null,"position: relative; outline: none"),r.mover=Fi("div",[Fi("div",[r.lineSpace],"CodeMirror-lines")],null,"position: relative"),r.sizer=Fi("div",[r.mover],"CodeMirror-sizer"),r.sizerWidth=null,r.heightForcer=Fi("div",null,null,"position: absolute; height: "+ko+"px; width: 1px;"),r.gutters=Fi("div",null,"CodeMirror-gutters"),r.lineGutter=null,r.scroller=Fi("div",[r.sizer,r.heightForcer,r.gutters],"CodeMirror-scroll"),r.scroller.setAttribute("tabIndex","-1"),r.wrapper=Fi("div",[r.scrollbarFiller,r.gutterFiller,r.scroller],"CodeMirror"),fa&&8>pa&&(r.gutters.style.zIndex=-1,r.scroller.style.paddingRight=0),ha||ua&&xa||(r.scroller.draggable=!0),e&&(e.appendChild?e.appendChild(r.wrapper):e(r.wrapper)),r.viewFrom=r.viewTo=t.first,r.reportedViewFrom=r.reportedViewTo=t.first,r.view=[],r.renderedView=null,r.externalMeasured=null,r.viewOffset=0,r.lastWrapHeight=r.lastWrapWidth=0,r.updateLineNumbers=null,r.nativeBarWidth=r.barHeight=r.barWidth=0,r.scrollbarsClipped=!1,r.lineNumWidth=r.lineNumInnerWidth=r.lineNumChars=null,r.alignWidgets=!1,r.cachedCharWidth=r.cachedTextHeight=r.cachedPaddingH=null,r.maxLine=null,r.maxLineLength=0,r.maxLineChanged=!1,r.wheelDX=r.wheelDY=r.wheelStartX=r.wheelStartY=null,r.shift=!1,r.selForContextMenu=null,r.activeTouch=null,n.init(r)}function n(t){t.doc.mode=e.getMode(t.options,t.doc.modeOption),r(t)}function r(e){e.doc.iter(function(e){e.stateAfter&&(e.stateAfter=null),e.styles&&(e.styles=null)}),e.doc.frontier=e.doc.first,Ie(e,100),e.state.modeGen++,e.curOp&&Nt(e)}function i(e){e.options.lineWrapping?(Uo(e.display.wrapper,"CodeMirror-wrap"),e.display.sizer.style.minWidth="",e.display.sizerWidth=null):(Vo(e.display.wrapper,"CodeMirror-wrap"),f(e)),o(e),Nt(e),at(e),setTimeout(function(){y(e)},100)}function a(e){var t=mt(e.display),n=e.options.lineWrapping,r=n&&Math.max(5,e.display.scroller.clientWidth/vt(e.display)-3);return function(i){if(yr(e.doc,i))return 0;var a=0;if(i.widgets)for(var o=0;o<i.widgets.length;o++)i.widgets[o].height&&(a+=i.widgets[o].height);return n?a+(Math.ceil(i.text.length/r)||1)*t:a+t}}function o(e){var t=e.doc,n=a(e);t.iter(function(e){var t=n(e);t!=e.height&&Xr(e,t)})}function s(e){e.display.wrapper.className=e.display.wrapper.className.replace(/\s*cm-s-\S+/g,"")+e.options.theme.replace(/(^|\s)\s*/g," cm-s-"),at(e)}function l(e){u(e),Nt(e),setTimeout(function(){$(e)},20)}function u(e){var t=e.display.gutters,n=e.options.gutters;ji(t);for(var r=0;r<n.length;++r){var i=n[r],a=t.appendChild(Fi("div",null,"CodeMirror-gutter "+i));"CodeMirror-linenumbers"==i&&(e.display.lineGutter=a,a.style.width=(e.display.lineNumWidth||1)+"px")}t.style.display=r?"":"none",c(e)}function c(e){var t=e.display.gutters.offsetWidth;e.display.sizer.style.marginLeft=t+"px"}function d(e){if(0==e.height)return 0;for(var t,n=e.text.length,r=e;t=dr(r);){var i=t.find(0,!0);r=i.from.line,n+=i.from.ch-i.to.ch}for(r=e;t=fr(r);){var i=t.find(0,!0);n-=r.text.length-i.from.ch,r=i.to.line,n+=r.text.length-i.to.ch}return n}function f(e){var t=e.display,n=e.doc;t.maxLine=Gr(n,n.first),t.maxLineLength=d(t.maxLine),t.maxLineChanged=!0,n.iter(function(e){var n=d(e);n>t.maxLineLength&&(t.maxLineLength=n,t.maxLine=e)})}function p(e){var t=Oi(e.gutters,"CodeMirror-linenumbers");-1==t&&e.lineNumbers?e.gutters=e.gutters.concat(["CodeMirror-linenumbers"]):t>-1&&!e.lineNumbers&&(e.gutters=e.gutters.slice(0),e.gutters.splice(t,1))}function h(e){var t=e.display,n=t.gutters.offsetWidth,r=Math.round(e.doc.height+Ve(e.display));return{clientHeight:t.scroller.clientHeight,viewHeight:t.wrapper.clientHeight,scrollWidth:t.scroller.scrollWidth,clientWidth:t.scroller.clientWidth,viewWidth:t.wrapper.clientWidth,barLeft:e.options.fixedGutter?n:0,docHeight:r,scrollHeight:r+ze(e)+t.barHeight,nativeBarWidth:t.nativeBarWidth,gutterWidth:n}}function g(e,t,n){this.cm=n;var r=this.vert=Fi("div",[Fi("div",null,null,"min-width: 1px")],"CodeMirror-vscrollbar"),i=this.horiz=Fi("div",[Fi("div",null,null,"height: 100%; min-height: 1px")],"CodeMirror-hscrollbar");e(r),e(i),Co(r,"scroll",function(){r.clientHeight&&t(r.scrollTop,"vertical")}),Co(i,"scroll",function(){i.clientWidth&&t(i.scrollLeft,"horizontal")}),this.checkedOverlay=!1,fa&&8>pa&&(this.horiz.style.minHeight=this.vert.style.minWidth="18px")}function m(){}function v(t){t.display.scrollbars&&(t.display.scrollbars.clear(),t.display.scrollbars.addClass&&Vo(t.display.wrapper,t.display.scrollbars.addClass)),t.display.scrollbars=new e.scrollbarModel[t.options.scrollbarStyle](function(e){t.display.wrapper.insertBefore(e,t.display.scrollbarFiller),Co(e,"mousedown",function(){t.state.focused&&setTimeout(function(){t.display.input.focus()},0)}),e.setAttribute("cm-not-content","true")},function(e,n){"horizontal"==n?en(t,e):Zt(t,e)},t),t.display.scrollbars.addClass&&Uo(t.display.wrapper,t.display.scrollbars.addClass)}function y(e,t){t||(t=h(e));var n=e.display.barWidth,r=e.display.barHeight;b(e,t);for(var i=0;4>i&&n!=e.display.barWidth||r!=e.display.barHeight;i++)n!=e.display.barWidth&&e.options.lineWrapping&&R(e),b(e,h(e)),n=e.display.barWidth,r=e.display.barHeight}function b(e,t){var n=e.display,r=n.scrollbars.update(t);n.sizer.style.paddingRight=(n.barWidth=r.right)+"px",n.sizer.style.paddingBottom=(n.barHeight=r.bottom)+"px",r.right&&r.bottom?(n.scrollbarFiller.style.display="block",n.scrollbarFiller.style.height=r.bottom+"px",n.scrollbarFiller.style.width=r.right+"px"):n.scrollbarFiller.style.display="",r.bottom&&e.options.coverGutterNextToScrollbar&&e.options.fixedGutter?(n.gutterFiller.style.display="block",n.gutterFiller.style.height=r.bottom+"px",n.gutterFiller.style.width=t.gutterWidth+"px"):n.gutterFiller.style.display=""}function w(e,t,n){var r=n&&null!=n.top?Math.max(0,n.top):e.scroller.scrollTop;r=Math.floor(r-Be(e));var i=n&&null!=n.bottom?n.bottom:r+e.wrapper.clientHeight,a=Jr(t,r),o=Jr(t,i);if(n&&n.ensure){var s=n.ensure.from.line,l=n.ensure.to.line;a>s?(a=s,o=Jr(t,Zr(Gr(t,s))+e.wrapper.clientHeight)):Math.min(l,t.lastLine())>=o&&(a=Jr(t,Zr(Gr(t,l))-e.wrapper.clientHeight),o=l)}return{from:a,to:Math.max(o,a+1)}}function $(e){var t=e.display,n=t.view;if(t.alignWidgets||t.gutters.firstChild&&e.options.fixedGutter){for(var r=E(t)-t.scroller.scrollLeft+e.doc.scrollLeft,i=t.gutters.offsetWidth,a=r+"px",o=0;o<n.length;o++)if(!n[o].hidden){e.options.fixedGutter&&n[o].gutter&&(n[o].gutter.style.left=a);var s=n[o].alignable;if(s)for(var l=0;l<s.length;l++)s[l].style.left=a}e.options.fixedGutter&&(t.gutters.style.left=r+i+"px")}}function x(e){if(!e.options.lineNumbers)return!1;var t=e.doc,n=C(e.options,t.first+t.size-1),r=e.display;if(n.length!=r.lineNumChars){var i=r.measure.appendChild(Fi("div",[Fi("div",n)],"CodeMirror-linenumber CodeMirror-gutter-elt")),a=i.firstChild.offsetWidth,o=i.offsetWidth-a;return r.lineGutter.style.width="",r.lineNumInnerWidth=Math.max(a,r.lineGutter.offsetWidth-o)+1,r.lineNumWidth=r.lineNumInnerWidth+o,r.lineNumChars=r.lineNumInnerWidth?n.length:-1,r.lineGutter.style.width=r.lineNumWidth+"px",c(e),!0}return!1}function C(e,t){return String(e.lineNumberFormatter(t+e.firstLineNumber))}function E(e){return e.scroller.getBoundingClientRect().left-e.sizer.getBoundingClientRect().left}function _(e,t,n){var r=e.display;this.viewport=t,this.visible=w(r,e.doc,t),this.editorIsHidden=!r.wrapper.offsetWidth,this.wrapperHeight=r.wrapper.clientHeight,this.wrapperWidth=r.wrapper.clientWidth,this.oldDisplayWidth=qe(e),this.force=n,this.dims=N(e),this.events=[]}function S(e){var t=e.display;!t.scrollbarsClipped&&t.scroller.offsetWidth&&(t.nativeBarWidth=t.scroller.offsetWidth-t.scroller.clientWidth,t.heightForcer.style.height=ze(e)+"px",t.sizer.style.marginBottom=-t.nativeBarWidth+"px",t.sizer.style.borderRightWidth=ze(e)+"px",t.scrollbarsClipped=!0)}function k(e,t){var n=e.display,r=e.doc;if(t.editorIsHidden)return Lt(e),!1;if(!t.force&&t.visible.from>=n.viewFrom&&t.visible.to<=n.viewTo&&(null==n.updateLineNumbers||n.updateLineNumbers>=n.viewTo)&&n.renderedView==n.view&&0==jt(e))return!1;x(e)&&(Lt(e),t.dims=N(e));var i=r.first+r.size,a=Math.max(t.visible.from-e.options.viewportMargin,r.first),o=Math.min(i,t.visible.to+e.options.viewportMargin);n.viewFrom<a&&a-n.viewFrom<20&&(a=Math.max(r.first,n.viewFrom)),n.viewTo>o&&n.viewTo-o<20&&(o=Math.min(i,n.viewTo)),Oa&&(a=mr(e.doc,a),o=vr(e.doc,o));var s=a!=n.viewFrom||o!=n.viewTo||n.lastWrapHeight!=t.wrapperHeight||n.lastWrapWidth!=t.wrapperWidth;Ft(e,a,o),n.viewOffset=Zr(Gr(e.doc,n.viewFrom)),e.display.mover.style.top=n.viewOffset+"px";var l=jt(e);if(!s&&0==l&&!t.force&&n.renderedView==n.view&&(null==n.updateLineNumbers||n.updateLineNumbers>=n.viewTo))return!1;var u=Bi();return l>4&&(n.lineDiv.style.display="none"),D(e,n.updateLineNumbers,t.dims),l>4&&(n.lineDiv.style.display=""),n.renderedView=n.view,u&&Bi()!=u&&u.offsetHeight&&u.focus(),ji(n.cursorDiv),ji(n.selectionDiv),n.gutters.style.height=0,s&&(n.lastWrapHeight=t.wrapperHeight,n.lastWrapWidth=t.wrapperWidth,Ie(e,400)),n.updateLineNumbers=null,!0}function T(e,t){for(var n=t.viewport,r=!0;(r&&e.options.lineWrapping&&t.oldDisplayWidth!=qe(e)||(n&&null!=n.top&&(n={top:Math.min(e.doc.height+Ve(e.display)-We(e),n.top)}),t.visible=w(e.display,e.doc,n),!(t.visible.from>=e.display.viewFrom&&t.visible.to<=e.display.viewTo)))&&k(e,t);r=!1){R(e);var i=h(e);Me(e),A(e,i),y(e,i)}t.signal(e,"update",e),(e.display.viewFrom!=e.display.reportedViewFrom||e.display.viewTo!=e.display.reportedViewTo)&&(t.signal(e,"viewportChange",e,e.display.viewFrom,e.display.viewTo),e.display.reportedViewFrom=e.display.viewFrom,e.display.reportedViewTo=e.display.viewTo)}function O(e,t){var n=new _(e,t);if(k(e,n)){R(e),T(e,n);var r=h(e);Me(e),A(e,r),y(e,r),n.finish()}}function A(e,t){e.display.sizer.style.minHeight=t.docHeight+"px";var n=t.docHeight+e.display.barHeight;e.display.heightForcer.style.top=n+"px",e.display.gutters.style.height=Math.max(n+ze(e),t.clientHeight)+"px"}function R(e){for(var t=e.display,n=t.lineDiv.offsetTop,r=0;r<t.view.length;r++){var i,a=t.view[r];if(!a.hidden){if(fa&&8>pa){var o=a.node.offsetTop+a.node.offsetHeight;i=o-n,n=o}else{var s=a.node.getBoundingClientRect();i=s.bottom-s.top}var l=a.line.height-i;if(2>i&&(i=mt(t)),(l>.001||-.001>l)&&(Xr(a.line,i),M(a.line),a.rest))for(var u=0;u<a.rest.length;u++)M(a.rest[u])}}}function M(e){if(e.widgets)for(var t=0;t<e.widgets.length;++t)e.widgets[t].height=e.widgets[t].node.offsetHeight}function N(e){for(var t=e.display,n={},r={},i=t.gutters.clientLeft,a=t.gutters.firstChild,o=0;a;a=a.nextSibling,++o)n[e.options.gutters[o]]=a.offsetLeft+a.clientLeft+i,r[e.options.gutters[o]]=a.clientWidth;return{fixedPos:E(t),gutterTotalWidth:t.gutters.offsetWidth,gutterLeft:n,gutterWidth:r,wrapperWidth:t.wrapper.clientWidth}}function D(e,t,n){function r(t){var n=t.nextSibling;return ha&&Ca&&e.display.currentWheelTarget==t?t.style.display="none":t.parentNode.removeChild(t),n}for(var i=e.display,a=e.options.lineNumbers,o=i.lineDiv,s=o.firstChild,l=i.view,u=i.viewFrom,c=0;c<l.length;c++){var d=l[c];if(d.hidden);else if(d.node&&d.node.parentNode==o){for(;s!=d.node;)s=r(s);var f=a&&null!=t&&u>=t&&d.lineNumber;d.changes&&(Oi(d.changes,"gutter")>-1&&(f=!1),L(e,d,u,n)),f&&(ji(d.lineNumber),d.lineNumber.appendChild(document.createTextNode(C(e.options,u)))),s=d.node.nextSibling}else{var p=U(e,d,u,n);o.insertBefore(p,s)}u+=d.size}for(;s;)s=r(s)}function L(e,t,n,r){for(var i=0;i<t.changes.length;i++){var a=t.changes[i];"text"==a?j(e,t):"gutter"==a?B(e,t,n,r):"class"==a?H(t):"widget"==a&&V(e,t,r)}t.changes=null}function P(e){return e.node==e.text&&(e.node=Fi("div",null,null,"position: relative"),e.text.parentNode&&e.text.parentNode.replaceChild(e.node,e.text),e.node.appendChild(e.text),fa&&8>pa&&(e.node.style.zIndex=2)),e.node}function I(e){var t=e.bgClass?e.bgClass+" "+(e.line.bgClass||""):e.line.bgClass;if(t&&(t+=" CodeMirror-linebackground"),e.background)t?e.background.className=t:(e.background.parentNode.removeChild(e.background),e.background=null);else if(t){var n=P(e);e.background=n.insertBefore(Fi("div",null,t),n.firstChild)}}function F(e,t){var n=e.display.externalMeasured;return n&&n.line==t.line?(e.display.externalMeasured=null,t.measure=n.measure,n.built):Dr(e,t)}function j(e,t){var n=t.text.className,r=F(e,t);t.text==t.node&&(t.node=r.pre),t.text.parentNode.replaceChild(r.pre,t.text),t.text=r.pre,r.bgClass!=t.bgClass||r.textClass!=t.textClass?(t.bgClass=r.bgClass,t.textClass=r.textClass,H(t)):n&&(t.text.className=n)}function H(e){I(e),e.line.wrapClass?P(e).className=e.line.wrapClass:e.node!=e.text&&(e.node.className="");var t=e.textClass?e.textClass+" "+(e.line.textClass||""):e.line.textClass;e.text.className=t||""}function B(e,t,n,r){t.gutter&&(t.node.removeChild(t.gutter),t.gutter=null);var i=t.line.gutterMarkers;if(e.options.lineNumbers||i){var a=P(t),o=t.gutter=Fi("div",null,"CodeMirror-gutter-wrapper","left: "+(e.options.fixedGutter?r.fixedPos:-r.gutterTotalWidth)+"px; width: "+r.gutterTotalWidth+"px");if(e.display.input.setUneditable(o),a.insertBefore(o,t.text),t.line.gutterClass&&(o.className+=" "+t.line.gutterClass),!e.options.lineNumbers||i&&i["CodeMirror-linenumbers"]||(t.lineNumber=o.appendChild(Fi("div",C(e.options,n),"CodeMirror-linenumber CodeMirror-gutter-elt","left: "+r.gutterLeft["CodeMirror-linenumbers"]+"px; width: "+e.display.lineNumInnerWidth+"px"))),i)for(var s=0;s<e.options.gutters.length;++s){var l=e.options.gutters[s],u=i.hasOwnProperty(l)&&i[l];u&&o.appendChild(Fi("div",[u],"CodeMirror-gutter-elt","left: "+r.gutterLeft[l]+"px; width: "+r.gutterWidth[l]+"px"))}}}function V(e,t,n){t.alignable&&(t.alignable=null);for(var r,i=t.node.firstChild;i;i=r){var r=i.nextSibling;"CodeMirror-linewidget"==i.className&&t.node.removeChild(i)}z(e,t,n)}function U(e,t,n,r){var i=F(e,t);return t.text=t.node=i.pre,i.bgClass&&(t.bgClass=i.bgClass),i.textClass&&(t.textClass=i.textClass),H(t),B(e,t,n,r),z(e,t,r),t.node}function z(e,t,n){if(q(e,t.line,t,n,!0),t.rest)for(var r=0;r<t.rest.length;r++)q(e,t.rest[r],t,n,!1)}function q(e,t,n,r,i){if(t.widgets)for(var a=P(n),o=0,s=t.widgets;o<s.length;++o){var l=s[o],u=Fi("div",[l.node],"CodeMirror-linewidget");l.handleMouseEvents||u.setAttribute("cm-ignore-events","true"),W(l,u,n,r),e.display.input.setUneditable(u),i&&l.above?a.insertBefore(u,n.gutter||n.text):a.appendChild(u),bi(l,"redraw")}}function W(e,t,n,r){if(e.noHScroll){(n.alignable||(n.alignable=[])).push(t);var i=r.wrapperWidth;t.style.left=r.fixedPos+"px",e.coverGutter||(i-=r.gutterTotalWidth,t.style.paddingLeft=r.gutterTotalWidth+"px"),t.style.width=i+"px"}e.coverGutter&&(t.style.zIndex=5,t.style.position="relative",e.noHScroll||(t.style.marginLeft=-r.gutterTotalWidth+"px"))}function G(e){return Aa(e.line,e.ch)}function K(e,t){return Ra(e,t)<0?t:e}function Y(e,t){return Ra(e,t)<0?e:t}function X(e){e.state.focused||(e.display.input.focus(),pn(e))}function Q(e){return e.options.readOnly||e.doc.cantEdit}function J(e,t,n,r,i){var a=e.doc;e.display.shift=!1,r||(r=a.sel);var o=Wo(t),s=null;e.state.pasteIncoming&&r.ranges.length>1&&(Ma&&Ma.join("\n")==t?s=r.ranges.length%Ma.length==0&&Ai(Ma,Wo):o.length==r.ranges.length&&(s=Ai(o,function(e){return[e]})));for(var l=r.ranges.length-1;l>=0;l--){var u=r.ranges[l],c=u.from(),d=u.to();u.empty()&&(n&&n>0?c=Aa(c.line,c.ch-n):e.state.overwrite&&!e.state.pasteIncoming&&(d=Aa(d.line,Math.min(Gr(a,d.line).text.length,d.ch+Ti(o).length))));var f=e.curOp.updateInput,p={from:c,to:d,text:s?s[l%s.length]:o,origin:i||(e.state.pasteIncoming?"paste":e.state.cutIncoming?"cut":"+input")};xn(e.doc,p),bi(e,"inputRead",e,p)}t&&!e.state.pasteIncoming&&Z(e,t),Dn(e),e.curOp.updateInput=f,e.curOp.typing=!0,e.state.pasteIncoming=e.state.cutIncoming=!1}function Z(e,t){if(e.options.electricChars&&e.options.smartIndent)for(var n=e.doc.sel,r=n.ranges.length-1;r>=0;r--){var i=n.ranges[r];if(!(i.head.ch>100||r&&n.ranges[r-1].head.line==i.head.line)){var a=e.getModeAt(i.head),o=!1;if(a.electricChars){for(var s=0;s<a.electricChars.length;s++)if(t.indexOf(a.electricChars.charAt(s))>-1){o=Pn(e,i.head.line,"smart");break}}else a.electricInput&&a.electricInput.test(Gr(e.doc,i.head.line).text.slice(0,i.head.ch))&&(o=Pn(e,i.head.line,"smart"));o&&bi(e,"electricInput",e,i.head.line)}}}function ee(e){for(var t=[],n=[],r=0;r<e.doc.sel.ranges.length;r++){var i=e.doc.sel.ranges[r].head.line,a={anchor:Aa(i,0),head:Aa(i+1,0)};n.push(a),t.push(e.getRange(a.anchor,a.head))}return{text:t,ranges:n}}function te(e){e.setAttribute("autocorrect","off"),e.setAttribute("autocapitalize","off"),e.setAttribute("spellcheck","false")}function ne(e){this.cm=e,this.prevInput="",this.pollingFast=!1,this.polling=new _i,this.inaccurateSelection=!1,this.hasSelection=!1,this.composing=null}function re(){var e=Fi("textarea",null,null,"position: absolute; padding: 0; width: 1px; height: 1em; outline: none"),t=Fi("div",[e],null,"overflow: hidden; position: relative; width: 3px; height: 0px;");return ha?e.style.width="1000px":e.setAttribute("wrap","off"),$a&&(e.style.border="1px solid black"),te(e),t}function ie(e){this.cm=e,this.lastAnchorNode=this.lastAnchorOffset=this.lastFocusNode=this.lastFocusOffset=null,this.polling=new _i,this.gracePeriod=!1}function ae(e,t){var n=Qe(e,t.line);if(!n||n.hidden)return null;var r=Gr(e.doc,t.line),i=Ke(n,r,t.line),a=ei(r),o="left";if(a){var s=aa(a,t.ch);o=s%2?"right":"left"}var l=et(i.map,t.ch,o);return l.offset="right"==l.collapse?l.end:l.start,l}function oe(e,t){return t&&(e.bad=!0),e}function se(e,t,n){var r;if(t==e.display.lineDiv){if(r=e.display.lineDiv.childNodes[n],!r)return oe(e.clipPos(Aa(e.display.viewTo-1)),!0);t=null,n=0}else for(r=t;;r=r.parentNode){if(!r||r==e.display.lineDiv)return null;if(r.parentNode&&r.parentNode==e.display.lineDiv)break}for(var i=0;i<e.display.view.length;i++){var a=e.display.view[i];if(a.node==r)return le(a,t,n)}}function le(e,t,n){function r(t,n,r){for(var i=-1;i<(c?c.length:0);i++)for(var a=0>i?u.map:c[i],o=0;o<a.length;o+=3){var s=a[o+2];if(s==t||s==n){var l=Qr(0>i?e.line:e.rest[i]),d=a[o]+r;return(0>r||s!=t)&&(d=a[o+(r?1:0)]),Aa(l,d)}}}var i=e.text.firstChild,a=!1;if(!t||!jo(i,t))return oe(Aa(Qr(e.line),0),!0);if(t==i&&(a=!0,t=i.childNodes[n],n=0,!t)){var o=e.rest?Ti(e.rest):e.line;return oe(Aa(Qr(o),o.text.length),a)}var s=3==t.nodeType?t:null,l=t;for(s||1!=t.childNodes.length||3!=t.firstChild.nodeType||(s=t.firstChild,n&&(n=s.nodeValue.length));l.parentNode!=i;)l=l.parentNode;var u=e.measure,c=u.maps,d=r(s,l,n);if(d)return oe(d,a);for(var f=l.nextSibling,p=s?s.nodeValue.length-n:0;f;f=f.nextSibling){if(d=r(f,f.firstChild,0))return oe(Aa(d.line,d.ch-p),a);p+=f.textContent.length}for(var h=l.previousSibling,p=n;h;h=h.previousSibling){if(d=r(h,h.firstChild,-1))return oe(Aa(d.line,d.ch+p),a);p+=f.textContent.length}}function ue(e,t,n,r,i){function a(e){return function(t){return t.id==e}}function o(t){if(1==t.nodeType){var n=t.getAttribute("cm-text");if(null!=n)return""==n&&(n=t.textContent.replace(/\u200b/g,"")),void(s+=n);var u,c=t.getAttribute("cm-marker");if(c){var d=e.findMarks(Aa(r,0),Aa(i+1,0),a(+c));return void(d.length&&(u=d[0].find())&&(s+=Kr(e.doc,u.from,u.to).join("\n")))}if("false"==t.getAttribute("contenteditable"))return;for(var f=0;f<t.childNodes.length;f++)o(t.childNodes[f]);/^(pre|div|p)$/i.test(t.nodeName)&&(l=!0)}else if(3==t.nodeType){var p=t.nodeValue;if(!p)return;l&&(s+="\n",l=!1),s+=p}}for(var s="",l=!1;o(t),t!=n;)t=t.nextSibling;return s}function ce(e,t){this.ranges=e,this.primIndex=t}function de(e,t){this.anchor=e,this.head=t}function fe(e,t){var n=e[t];e.sort(function(e,t){return Ra(e.from(),t.from())}),t=Oi(e,n);for(var r=1;r<e.length;r++){var i=e[r],a=e[r-1];if(Ra(a.to(),i.from())>=0){var o=Y(a.from(),i.from()),s=K(a.to(),i.to()),l=a.empty()?i.from()==i.head:a.from()==a.head;t>=r&&--t,e.splice(--r,2,new de(l?s:o,l?o:s))}}return new ce(e,t)}function pe(e,t){return new ce([new de(e,t||e)],0)}function he(e,t){return Math.max(e.first,Math.min(t,e.first+e.size-1))}function ge(e,t){if(t.line<e.first)return Aa(e.first,0);var n=e.first+e.size-1;return t.line>n?Aa(n,Gr(e,n).text.length):me(t,Gr(e,t.line).text.length)}function me(e,t){var n=e.ch;return null==n||n>t?Aa(e.line,t):0>n?Aa(e.line,0):e}function ve(e,t){return t>=e.first&&t<e.first+e.size}function ye(e,t){for(var n=[],r=0;r<t.length;r++)n[r]=ge(e,t[r]);return n}function be(e,t,n,r){if(e.cm&&e.cm.display.shift||e.extend){var i=t.anchor;if(r){var a=Ra(n,i)<0;a!=Ra(r,i)<0?(i=n,n=r):a!=Ra(n,r)<0&&(n=r)}return new de(i,n)}return new de(r||n,n)}function we(e,t,n,r){Se(e,new ce([be(e,e.sel.primary(),t,n)],0),r)}function $e(e,t,n){for(var r=[],i=0;i<e.sel.ranges.length;i++)r[i]=be(e,e.sel.ranges[i],t[i],null);var a=fe(r,e.sel.primIndex);Se(e,a,n)}function xe(e,t,n,r){var i=e.sel.ranges.slice(0);i[t]=n,Se(e,fe(i,e.sel.primIndex),r)}function Ce(e,t,n,r){Se(e,pe(t,n),r)}function Ee(e,t){var n={ranges:t.ranges,update:function(t){this.ranges=[];for(var n=0;n<t.length;n++)this.ranges[n]=new de(ge(e,t[n].anchor),ge(e,t[n].head))}};return _o(e,"beforeSelectionChange",e,n),e.cm&&_o(e.cm,"beforeSelectionChange",e.cm,n),n.ranges!=t.ranges?fe(n.ranges,n.ranges.length-1):t}function _e(e,t,n){var r=e.history.done,i=Ti(r);i&&i.ranges?(r[r.length-1]=t,ke(e,t,n)):Se(e,t,n)}function Se(e,t,n){ke(e,t,n),si(e,e.sel,e.cm?e.cm.curOp.id:NaN,n)}function ke(e,t,n){(Ci(e,"beforeSelectionChange")||e.cm&&Ci(e.cm,"beforeSelectionChange"))&&(t=Ee(e,t));var r=n&&n.bias||(Ra(t.primary().head,e.sel.primary().head)<0?-1:1);Te(e,Ae(e,t,r,!0)),n&&n.scroll===!1||!e.cm||Dn(e.cm)}function Te(e,t){t.equals(e.sel)||(e.sel=t,e.cm&&(e.cm.curOp.updateInput=e.cm.curOp.selectionChanged=!0,xi(e.cm)),bi(e,"cursorActivity",e))}function Oe(e){Te(e,Ae(e,e.sel,null,!1),Oo)}function Ae(e,t,n,r){for(var i,a=0;a<t.ranges.length;a++){var o=t.ranges[a],s=Re(e,o.anchor,n,r),l=Re(e,o.head,n,r);(i||s!=o.anchor||l!=o.head)&&(i||(i=t.ranges.slice(0,a)),i[a]=new de(s,l))}return i?fe(i,t.primIndex):t}function Re(e,t,n,r){var i=!1,a=t,o=n||1;e.cantEdit=!1;e:for(;;){var s=Gr(e,a.line);if(s.markedSpans)for(var l=0;l<s.markedSpans.length;++l){var u=s.markedSpans[l],c=u.marker;if((null==u.from||(c.inclusiveLeft?u.from<=a.ch:u.from<a.ch))&&(null==u.to||(c.inclusiveRight?u.to>=a.ch:u.to>a.ch))){if(r&&(_o(c,"beforeCursorEnter"),c.explicitlyCleared)){if(s.markedSpans){--l;continue}break}if(!c.atomic)continue;var d=c.find(0>o?-1:1);if(0==Ra(d,a)&&(d.ch+=o,d.ch<0?d=d.line>e.first?ge(e,Aa(d.line-1)):null:d.ch>s.text.length&&(d=d.line<e.first+e.size-1?Aa(d.line+1,0):null),!d)){if(i)return r?(e.cantEdit=!0,Aa(e.first,0)):Re(e,t,n,!0);i=!0,d=t,o=-o}a=d;continue e}}return a}}function Me(e){e.display.input.showSelection(e.display.input.prepareSelection())}function Ne(e,t){for(var n=e.doc,r={},i=r.cursors=document.createDocumentFragment(),a=r.selection=document.createDocumentFragment(),o=0;o<n.sel.ranges.length;o++)if(t!==!1||o!=n.sel.primIndex){
var s=n.sel.ranges[o],l=s.empty();(l||e.options.showCursorWhenSelecting)&&De(e,s,i),l||Le(e,s,a)}return r}function De(e,t,n){var r=dt(e,t.head,"div",null,null,!e.options.singleCursorHeightPerLine),i=n.appendChild(Fi("div"," ","CodeMirror-cursor"));if(i.style.left=r.left+"px",i.style.top=r.top+"px",i.style.height=Math.max(0,r.bottom-r.top)*e.options.cursorHeight+"px",r.other){var a=n.appendChild(Fi("div"," ","CodeMirror-cursor CodeMirror-secondarycursor"));a.style.display="",a.style.left=r.other.left+"px",a.style.top=r.other.top+"px",a.style.height=.85*(r.other.bottom-r.other.top)+"px"}}function Le(e,t,n){function r(e,t,n,r){0>t&&(t=0),t=Math.round(t),r=Math.round(r),s.appendChild(Fi("div",null,"CodeMirror-selected","position: absolute; left: "+e+"px; top: "+t+"px; width: "+(null==n?c-e:n)+"px; height: "+(r-t)+"px"))}function i(t,n,i){function a(n,r){return ct(e,Aa(t,n),"div",d,r)}var s,l,d=Gr(o,t),f=d.text.length;return Xi(ei(d),n||0,null==i?f:i,function(e,t,o){var d,p,h,g=a(e,"left");if(e==t)d=g,p=h=g.left;else{if(d=a(t-1,"right"),"rtl"==o){var m=g;g=d,d=m}p=g.left,h=d.right}null==n&&0==e&&(p=u),d.top-g.top>3&&(r(p,g.top,null,g.bottom),p=u,g.bottom<d.top&&r(p,g.bottom,null,d.top)),null==i&&t==f&&(h=c),(!s||g.top<s.top||g.top==s.top&&g.left<s.left)&&(s=g),(!l||d.bottom>l.bottom||d.bottom==l.bottom&&d.right>l.right)&&(l=d),u+1>p&&(p=u),r(p,d.top,h-p,d.bottom)}),{start:s,end:l}}var a=e.display,o=e.doc,s=document.createDocumentFragment(),l=Ue(e.display),u=l.left,c=Math.max(a.sizerWidth,qe(e)-a.sizer.offsetLeft)-l.right,d=t.from(),f=t.to();if(d.line==f.line)i(d.line,d.ch,f.ch);else{var p=Gr(o,d.line),h=Gr(o,f.line),g=hr(p)==hr(h),m=i(d.line,d.ch,g?p.text.length+1:null).end,v=i(f.line,g?0:null,f.ch).start;g&&(m.top<v.top-2?(r(m.right,m.top,null,m.bottom),r(u,v.top,v.left,v.bottom)):r(m.right,m.top,v.left-m.right,m.bottom)),m.bottom<v.top&&r(u,m.bottom,null,v.top)}n.appendChild(s)}function Pe(e){if(e.state.focused){var t=e.display;clearInterval(t.blinker);var n=!0;t.cursorDiv.style.visibility="",e.options.cursorBlinkRate>0?t.blinker=setInterval(function(){t.cursorDiv.style.visibility=(n=!n)?"":"hidden"},e.options.cursorBlinkRate):e.options.cursorBlinkRate<0&&(t.cursorDiv.style.visibility="hidden")}}function Ie(e,t){e.doc.mode.startState&&e.doc.frontier<e.display.viewTo&&e.state.highlight.set(t,Di(Fe,e))}function Fe(e){var t=e.doc;if(t.frontier<t.first&&(t.frontier=t.first),!(t.frontier>=e.display.viewTo)){var n=+new Date+e.options.workTime,r=eo(t.mode,He(e,t.frontier)),i=[];t.iter(t.frontier,Math.min(t.first+t.size,e.display.viewTo+500),function(a){if(t.frontier>=e.display.viewFrom){var o=a.styles,s=Ar(e,a,r,!0);a.styles=s.styles;var l=a.styleClasses,u=s.classes;u?a.styleClasses=u:l&&(a.styleClasses=null);for(var c=!o||o.length!=a.styles.length||l!=u&&(!l||!u||l.bgClass!=u.bgClass||l.textClass!=u.textClass),d=0;!c&&d<o.length;++d)c=o[d]!=a.styles[d];c&&i.push(t.frontier),a.stateAfter=eo(t.mode,r)}else Mr(e,a.text,r),a.stateAfter=t.frontier%5==0?eo(t.mode,r):null;return++t.frontier,+new Date>n?(Ie(e,e.options.workDelay),!0):void 0}),i.length&&kt(e,function(){for(var t=0;t<i.length;t++)Dt(e,i[t],"text")})}}function je(e,t,n){for(var r,i,a=e.doc,o=n?-1:t-(e.doc.mode.innerMode?1e3:100),s=t;s>o;--s){if(s<=a.first)return a.first;var l=Gr(a,s-1);if(l.stateAfter&&(!n||s<=a.frontier))return s;var u=Mo(l.text,null,e.options.tabSize);(null==i||r>u)&&(i=s-1,r=u)}return i}function He(e,t,n){var r=e.doc,i=e.display;if(!r.mode.startState)return!0;var a=je(e,t,n),o=a>r.first&&Gr(r,a-1).stateAfter;return o=o?eo(r.mode,o):to(r.mode),r.iter(a,t,function(n){Mr(e,n.text,o);var s=a==t-1||a%5==0||a>=i.viewFrom&&a<i.viewTo;n.stateAfter=s?eo(r.mode,o):null,++a}),n&&(r.frontier=a),o}function Be(e){return e.lineSpace.offsetTop}function Ve(e){return e.mover.offsetHeight-e.lineSpace.offsetHeight}function Ue(e){if(e.cachedPaddingH)return e.cachedPaddingH;var t=Hi(e.measure,Fi("pre","x")),n=window.getComputedStyle?window.getComputedStyle(t):t.currentStyle,r={left:parseInt(n.paddingLeft),right:parseInt(n.paddingRight)};return isNaN(r.left)||isNaN(r.right)||(e.cachedPaddingH=r),r}function ze(e){return ko-e.display.nativeBarWidth}function qe(e){return e.display.scroller.clientWidth-ze(e)-e.display.barWidth}function We(e){return e.display.scroller.clientHeight-ze(e)-e.display.barHeight}function Ge(e,t,n){var r=e.options.lineWrapping,i=r&&qe(e);if(!t.measure.heights||r&&t.measure.width!=i){var a=t.measure.heights=[];if(r){t.measure.width=i;for(var o=t.text.firstChild.getClientRects(),s=0;s<o.length-1;s++){var l=o[s],u=o[s+1];Math.abs(l.bottom-u.bottom)>2&&a.push((l.bottom+u.top)/2-n.top)}}a.push(n.bottom-n.top)}}function Ke(e,t,n){if(e.line==t)return{map:e.measure.map,cache:e.measure.cache};for(var r=0;r<e.rest.length;r++)if(e.rest[r]==t)return{map:e.measure.maps[r],cache:e.measure.caches[r]};for(var r=0;r<e.rest.length;r++)if(Qr(e.rest[r])>n)return{map:e.measure.maps[r],cache:e.measure.caches[r],before:!0}}function Ye(e,t){t=hr(t);var n=Qr(t),r=e.display.externalMeasured=new Rt(e.doc,t,n);r.lineN=n;var i=r.built=Dr(e,r);return r.text=i.pre,Hi(e.display.lineMeasure,i.pre),r}function Xe(e,t,n,r){return Ze(e,Je(e,t),n,r)}function Qe(e,t){if(t>=e.display.viewFrom&&t<e.display.viewTo)return e.display.view[Pt(e,t)];var n=e.display.externalMeasured;return n&&t>=n.lineN&&t<n.lineN+n.size?n:void 0}function Je(e,t){var n=Qr(t),r=Qe(e,n);r&&!r.text?r=null:r&&r.changes&&L(e,r,n,N(e)),r||(r=Ye(e,t));var i=Ke(r,t,n);return{line:t,view:r,rect:null,map:i.map,cache:i.cache,before:i.before,hasHeights:!1}}function Ze(e,t,n,r,i){t.before&&(n=-1);var a,o=n+(r||"");return t.cache.hasOwnProperty(o)?a=t.cache[o]:(t.rect||(t.rect=t.view.text.getBoundingClientRect()),t.hasHeights||(Ge(e,t.view,t.rect),t.hasHeights=!0),a=tt(e,t,n,r),a.bogus||(t.cache[o]=a)),{left:a.left,right:a.right,top:i?a.rtop:a.top,bottom:i?a.rbottom:a.bottom}}function et(e,t,n){for(var r,i,a,o,s=0;s<e.length;s+=3){var l=e[s],u=e[s+1];if(l>t?(i=0,a=1,o="left"):u>t?(i=t-l,a=i+1):(s==e.length-3||t==u&&e[s+3]>t)&&(a=u-l,i=a-1,t>=u&&(o="right")),null!=i){if(r=e[s+2],l==u&&n==(r.insertLeft?"left":"right")&&(o=n),"left"==n&&0==i)for(;s&&e[s-2]==e[s-3]&&e[s-1].insertLeft;)r=e[(s-=3)+2],o="left";if("right"==n&&i==u-l)for(;s<e.length-3&&e[s+3]==e[s+4]&&!e[s+5].insertLeft;)r=e[(s+=3)+2],o="right";break}}return{node:r,start:i,end:a,collapse:o,coverStart:l,coverEnd:u}}function tt(e,t,n,r){var i,a=et(t.map,n,r),o=a.node,s=a.start,l=a.end,u=a.collapse;if(3==o.nodeType){for(var c=0;4>c;c++){for(;s&&Ii(t.line.text.charAt(a.coverStart+s));)--s;for(;a.coverStart+l<a.coverEnd&&Ii(t.line.text.charAt(a.coverStart+l));)++l;if(fa&&9>pa&&0==s&&l==a.coverEnd-a.coverStart)i=o.parentNode.getBoundingClientRect();else if(fa&&e.options.lineWrapping){var d=Lo(o,s,l).getClientRects();i=d.length?d["right"==r?d.length-1:0]:Pa}else i=Lo(o,s,l).getBoundingClientRect()||Pa;if(i.left||i.right||0==s)break;l=s,s-=1,u="right"}fa&&11>pa&&(i=nt(e.display.measure,i))}else{s>0&&(u=r="right");var d;i=e.options.lineWrapping&&(d=o.getClientRects()).length>1?d["right"==r?d.length-1:0]:o.getBoundingClientRect()}if(fa&&9>pa&&!s&&(!i||!i.left&&!i.right)){var f=o.parentNode.getClientRects()[0];i=f?{left:f.left,right:f.left+vt(e.display),top:f.top,bottom:f.bottom}:Pa}for(var p=i.top-t.rect.top,h=i.bottom-t.rect.top,g=(p+h)/2,m=t.view.measure.heights,c=0;c<m.length-1&&!(g<m[c]);c++);var v=c?m[c-1]:0,y=m[c],b={left:("right"==u?i.right:i.left)-t.rect.left,right:("left"==u?i.left:i.right)-t.rect.left,top:v,bottom:y};return i.left||i.right||(b.bogus=!0),e.options.singleCursorHeightPerLine||(b.rtop=p,b.rbottom=h),b}function nt(e,t){if(!window.screen||null==screen.logicalXDPI||screen.logicalXDPI==screen.deviceXDPI||!Yi(e))return t;var n=screen.logicalXDPI/screen.deviceXDPI,r=screen.logicalYDPI/screen.deviceYDPI;return{left:t.left*n,right:t.right*n,top:t.top*r,bottom:t.bottom*r}}function rt(e){if(e.measure&&(e.measure.cache={},e.measure.heights=null,e.rest))for(var t=0;t<e.rest.length;t++)e.measure.caches[t]={}}function it(e){e.display.externalMeasure=null,ji(e.display.lineMeasure);for(var t=0;t<e.display.view.length;t++)rt(e.display.view[t])}function at(e){it(e),e.display.cachedCharWidth=e.display.cachedTextHeight=e.display.cachedPaddingH=null,e.options.lineWrapping||(e.display.maxLineChanged=!0),e.display.lineNumChars=null}function ot(){return window.pageXOffset||(document.documentElement||document.body).scrollLeft}function st(){return window.pageYOffset||(document.documentElement||document.body).scrollTop}function lt(e,t,n,r){if(t.widgets)for(var i=0;i<t.widgets.length;++i)if(t.widgets[i].above){var a=$r(t.widgets[i]);n.top+=a,n.bottom+=a}if("line"==r)return n;r||(r="local");var o=Zr(t);if("local"==r?o+=Be(e.display):o-=e.display.viewOffset,"page"==r||"window"==r){var s=e.display.lineSpace.getBoundingClientRect();o+=s.top+("window"==r?0:st());var l=s.left+("window"==r?0:ot());n.left+=l,n.right+=l}return n.top+=o,n.bottom+=o,n}function ut(e,t,n){if("div"==n)return t;var r=t.left,i=t.top;if("page"==n)r-=ot(),i-=st();else if("local"==n||!n){var a=e.display.sizer.getBoundingClientRect();r+=a.left,i+=a.top}var o=e.display.lineSpace.getBoundingClientRect();return{left:r-o.left,top:i-o.top}}function ct(e,t,n,r,i){return r||(r=Gr(e.doc,t.line)),lt(e,r,Xe(e,r,t.ch,i),n)}function dt(e,t,n,r,i,a){function o(t,o){var s=Ze(e,i,t,o?"right":"left",a);return o?s.left=s.right:s.right=s.left,lt(e,r,s,n)}function s(e,t){var n=l[t],r=n.level%2;return e==Qi(n)&&t&&n.level<l[t-1].level?(n=l[--t],e=Ji(n)-(n.level%2?0:1),r=!0):e==Ji(n)&&t<l.length-1&&n.level<l[t+1].level&&(n=l[++t],e=Qi(n)-n.level%2,r=!1),r&&e==n.to&&e>n.from?o(e-1):o(e,r)}r=r||Gr(e.doc,t.line),i||(i=Je(e,r));var l=ei(r),u=t.ch;if(!l)return o(u);var c=aa(l,u),d=s(u,c);return null!=Qo&&(d.other=s(u,Qo)),d}function ft(e,t){var n=0,t=ge(e.doc,t);e.options.lineWrapping||(n=vt(e.display)*t.ch);var r=Gr(e.doc,t.line),i=Zr(r)+Be(e.display);return{left:n,right:n,top:i,bottom:i+r.height}}function pt(e,t,n,r){var i=Aa(e,t);return i.xRel=r,n&&(i.outside=!0),i}function ht(e,t,n){var r=e.doc;if(n+=e.display.viewOffset,0>n)return pt(r.first,0,!0,-1);var i=Jr(r,n),a=r.first+r.size-1;if(i>a)return pt(r.first+r.size-1,Gr(r,a).text.length,!0,1);0>t&&(t=0);for(var o=Gr(r,i);;){var s=gt(e,o,i,t,n),l=fr(o),u=l&&l.find(0,!0);if(!l||!(s.ch>u.from.ch||s.ch==u.from.ch&&s.xRel>0))return s;i=Qr(o=u.to.line)}}function gt(e,t,n,r,i){function a(r){var i=dt(e,Aa(n,r),"line",t,u);return s=!0,o>i.bottom?i.left-l:o<i.top?i.left+l:(s=!1,i.left)}var o=i-Zr(t),s=!1,l=2*e.display.wrapper.clientWidth,u=Je(e,t),c=ei(t),d=t.text.length,f=Zi(t),p=ea(t),h=a(f),g=s,m=a(p),v=s;if(r>m)return pt(n,p,v,1);for(;;){if(c?p==f||p==sa(t,f,1):1>=p-f){for(var y=h>r||m-r>=r-h?f:p,b=r-(y==f?h:m);Ii(t.text.charAt(y));)++y;var w=pt(n,y,y==f?g:v,-1>b?-1:b>1?1:0);return w}var $=Math.ceil(d/2),x=f+$;if(c){x=f;for(var C=0;$>C;++C)x=sa(t,x,1)}var E=a(x);E>r?(p=x,m=E,(v=s)&&(m+=1e3),d=$):(f=x,h=E,g=s,d-=$)}}function mt(e){if(null!=e.cachedTextHeight)return e.cachedTextHeight;if(null==Na){Na=Fi("pre");for(var t=0;49>t;++t)Na.appendChild(document.createTextNode("x")),Na.appendChild(Fi("br"));Na.appendChild(document.createTextNode("x"))}Hi(e.measure,Na);var n=Na.offsetHeight/50;return n>3&&(e.cachedTextHeight=n),ji(e.measure),n||1}function vt(e){if(null!=e.cachedCharWidth)return e.cachedCharWidth;var t=Fi("span","xxxxxxxxxx"),n=Fi("pre",[t]);Hi(e.measure,n);var r=t.getBoundingClientRect(),i=(r.right-r.left)/10;return i>2&&(e.cachedCharWidth=i),i||10}function yt(e){e.curOp={cm:e,viewChanged:!1,startHeight:e.doc.height,forceUpdate:!1,updateInput:null,typing:!1,changeObjs:null,cursorActivityHandlers:null,cursorActivityCalled:0,selectionChanged:!1,updateMaxLine:!1,scrollLeft:null,scrollTop:null,scrollToPos:null,focus:!1,id:++Fa},Ia?Ia.ops.push(e.curOp):e.curOp.ownsGroup=Ia={ops:[e.curOp],delayedCallbacks:[]}}function bt(e){var t=e.delayedCallbacks,n=0;do{for(;n<t.length;n++)t[n]();for(var r=0;r<e.ops.length;r++){var i=e.ops[r];if(i.cursorActivityHandlers)for(;i.cursorActivityCalled<i.cursorActivityHandlers.length;)i.cursorActivityHandlers[i.cursorActivityCalled++](i.cm)}}while(n<t.length)}function wt(e){var t=e.curOp,n=t.ownsGroup;if(n)try{bt(n)}finally{Ia=null;for(var r=0;r<n.ops.length;r++)n.ops[r].cm.curOp=null;$t(n)}}function $t(e){for(var t=e.ops,n=0;n<t.length;n++)xt(t[n]);for(var n=0;n<t.length;n++)Ct(t[n]);for(var n=0;n<t.length;n++)Et(t[n]);for(var n=0;n<t.length;n++)_t(t[n]);for(var n=0;n<t.length;n++)St(t[n])}function xt(e){var t=e.cm,n=t.display;S(t),e.updateMaxLine&&f(t),e.mustUpdate=e.viewChanged||e.forceUpdate||null!=e.scrollTop||e.scrollToPos&&(e.scrollToPos.from.line<n.viewFrom||e.scrollToPos.to.line>=n.viewTo)||n.maxLineChanged&&t.options.lineWrapping,e.update=e.mustUpdate&&new _(t,e.mustUpdate&&{top:e.scrollTop,ensure:e.scrollToPos},e.forceUpdate)}function Ct(e){e.updatedDisplay=e.mustUpdate&&k(e.cm,e.update)}function Et(e){var t=e.cm,n=t.display;e.updatedDisplay&&R(t),e.barMeasure=h(t),n.maxLineChanged&&!t.options.lineWrapping&&(e.adjustWidthTo=Xe(t,n.maxLine,n.maxLine.text.length).left+3,t.display.sizerWidth=e.adjustWidthTo,e.barMeasure.scrollWidth=Math.max(n.scroller.clientWidth,n.sizer.offsetLeft+e.adjustWidthTo+ze(t)+t.display.barWidth),e.maxScrollLeft=Math.max(0,n.sizer.offsetLeft+e.adjustWidthTo-qe(t))),(e.updatedDisplay||e.selectionChanged)&&(e.preparedSelection=n.input.prepareSelection())}function _t(e){var t=e.cm;null!=e.adjustWidthTo&&(t.display.sizer.style.minWidth=e.adjustWidthTo+"px",e.maxScrollLeft<t.doc.scrollLeft&&en(t,Math.min(t.display.scroller.scrollLeft,e.maxScrollLeft),!0),t.display.maxLineChanged=!1),e.preparedSelection&&t.display.input.showSelection(e.preparedSelection),e.updatedDisplay&&A(t,e.barMeasure),(e.updatedDisplay||e.startHeight!=t.doc.height)&&y(t,e.barMeasure),e.selectionChanged&&Pe(t),t.state.focused&&e.updateInput&&t.display.input.reset(e.typing),e.focus&&e.focus==Bi()&&X(e.cm)}function St(e){var t=e.cm,n=t.display,r=t.doc;if(e.updatedDisplay&&T(t,e.update),null==n.wheelStartX||null==e.scrollTop&&null==e.scrollLeft&&!e.scrollToPos||(n.wheelStartX=n.wheelStartY=null),null==e.scrollTop||n.scroller.scrollTop==e.scrollTop&&!e.forceScroll||(r.scrollTop=Math.max(0,Math.min(n.scroller.scrollHeight-n.scroller.clientHeight,e.scrollTop)),n.scrollbars.setScrollTop(r.scrollTop),n.scroller.scrollTop=r.scrollTop),null==e.scrollLeft||n.scroller.scrollLeft==e.scrollLeft&&!e.forceScroll||(r.scrollLeft=Math.max(0,Math.min(n.scroller.scrollWidth-qe(t),e.scrollLeft)),n.scrollbars.setScrollLeft(r.scrollLeft),n.scroller.scrollLeft=r.scrollLeft,$(t)),e.scrollToPos){var i=An(t,ge(r,e.scrollToPos.from),ge(r,e.scrollToPos.to),e.scrollToPos.margin);e.scrollToPos.isCursor&&t.state.focused&&On(t,i)}var a=e.maybeHiddenMarkers,o=e.maybeUnhiddenMarkers;if(a)for(var s=0;s<a.length;++s)a[s].lines.length||_o(a[s],"hide");if(o)for(var s=0;s<o.length;++s)o[s].lines.length&&_o(o[s],"unhide");n.wrapper.offsetHeight&&(r.scrollTop=t.display.scroller.scrollTop),e.changeObjs&&_o(t,"changes",t,e.changeObjs),e.update&&e.update.finish()}function kt(e,t){if(e.curOp)return t();yt(e);try{return t()}finally{wt(e)}}function Tt(e,t){return function(){if(e.curOp)return t.apply(e,arguments);yt(e);try{return t.apply(e,arguments)}finally{wt(e)}}}function Ot(e){return function(){if(this.curOp)return e.apply(this,arguments);yt(this);try{return e.apply(this,arguments)}finally{wt(this)}}}function At(e){return function(){var t=this.cm;if(!t||t.curOp)return e.apply(this,arguments);yt(t);try{return e.apply(this,arguments)}finally{wt(t)}}}function Rt(e,t,n){this.line=t,this.rest=gr(t),this.size=this.rest?Qr(Ti(this.rest))-n+1:1,this.node=this.text=null,this.hidden=yr(e,t)}function Mt(e,t,n){for(var r,i=[],a=t;n>a;a=r){var o=new Rt(e.doc,Gr(e.doc,a),a);r=a+o.size,i.push(o)}return i}function Nt(e,t,n,r){null==t&&(t=e.doc.first),null==n&&(n=e.doc.first+e.doc.size),r||(r=0);var i=e.display;if(r&&n<i.viewTo&&(null==i.updateLineNumbers||i.updateLineNumbers>t)&&(i.updateLineNumbers=t),e.curOp.viewChanged=!0,t>=i.viewTo)Oa&&mr(e.doc,t)<i.viewTo&&Lt(e);else if(n<=i.viewFrom)Oa&&vr(e.doc,n+r)>i.viewFrom?Lt(e):(i.viewFrom+=r,i.viewTo+=r);else if(t<=i.viewFrom&&n>=i.viewTo)Lt(e);else if(t<=i.viewFrom){var a=It(e,n,n+r,1);a?(i.view=i.view.slice(a.index),i.viewFrom=a.lineN,i.viewTo+=r):Lt(e)}else if(n>=i.viewTo){var a=It(e,t,t,-1);a?(i.view=i.view.slice(0,a.index),i.viewTo=a.lineN):Lt(e)}else{var o=It(e,t,t,-1),s=It(e,n,n+r,1);o&&s?(i.view=i.view.slice(0,o.index).concat(Mt(e,o.lineN,s.lineN)).concat(i.view.slice(s.index)),i.viewTo+=r):Lt(e)}var l=i.externalMeasured;l&&(n<l.lineN?l.lineN+=r:t<l.lineN+l.size&&(i.externalMeasured=null))}function Dt(e,t,n){e.curOp.viewChanged=!0;var r=e.display,i=e.display.externalMeasured;if(i&&t>=i.lineN&&t<i.lineN+i.size&&(r.externalMeasured=null),!(t<r.viewFrom||t>=r.viewTo)){var a=r.view[Pt(e,t)];if(null!=a.node){var o=a.changes||(a.changes=[]);-1==Oi(o,n)&&o.push(n)}}}function Lt(e){e.display.viewFrom=e.display.viewTo=e.doc.first,e.display.view=[],e.display.viewOffset=0}function Pt(e,t){if(t>=e.display.viewTo)return null;if(t-=e.display.viewFrom,0>t)return null;for(var n=e.display.view,r=0;r<n.length;r++)if(t-=n[r].size,0>t)return r}function It(e,t,n,r){var i,a=Pt(e,t),o=e.display.view;if(!Oa||n==e.doc.first+e.doc.size)return{index:a,lineN:n};for(var s=0,l=e.display.viewFrom;a>s;s++)l+=o[s].size;if(l!=t){if(r>0){if(a==o.length-1)return null;i=l+o[a].size-t,a++}else i=l-t;t+=i,n+=i}for(;mr(e.doc,n)!=n;){if(a==(0>r?0:o.length-1))return null;n+=r*o[a-(0>r?1:0)].size,a+=r}return{index:a,lineN:n}}function Ft(e,t,n){var r=e.display,i=r.view;0==i.length||t>=r.viewTo||n<=r.viewFrom?(r.view=Mt(e,t,n),r.viewFrom=t):(r.viewFrom>t?r.view=Mt(e,t,r.viewFrom).concat(r.view):r.viewFrom<t&&(r.view=r.view.slice(Pt(e,t))),r.viewFrom=t,r.viewTo<n?r.view=r.view.concat(Mt(e,r.viewTo,n)):r.viewTo>n&&(r.view=r.view.slice(0,Pt(e,n)))),r.viewTo=n}function jt(e){for(var t=e.display.view,n=0,r=0;r<t.length;r++){var i=t[r];i.hidden||i.node&&!i.changes||++n}return n}function Ht(e){function t(){i.activeTouch&&(a=setTimeout(function(){i.activeTouch=null},1e3),o=i.activeTouch,o.end=+new Date)}function n(e){if(1!=e.touches.length)return!1;var t=e.touches[0];return t.radiusX<=1&&t.radiusY<=1}function r(e,t){if(null==t.left)return!0;var n=t.left-e.left,r=t.top-e.top;return n*n+r*r>400}var i=e.display;Co(i.scroller,"mousedown",Tt(e,qt)),fa&&11>pa?Co(i.scroller,"dblclick",Tt(e,function(t){if(!$i(e,t)){var n=zt(e,t);if(n&&!Xt(e,t)&&!Ut(e.display,t)){wo(t);var r=e.findWordAt(n);we(e.doc,r.anchor,r.head)}}})):Co(i.scroller,"dblclick",function(t){$i(e,t)||wo(t)}),ka||Co(i.scroller,"contextmenu",function(t){gn(e,t)});var a,o={end:0};Co(i.scroller,"touchstart",function(e){if(!n(e)){clearTimeout(a);var t=+new Date;i.activeTouch={start:t,moved:!1,prev:t-o.end<=300?o:null},1==e.touches.length&&(i.activeTouch.left=e.touches[0].pageX,i.activeTouch.top=e.touches[0].pageY)}}),Co(i.scroller,"touchmove",function(){i.activeTouch&&(i.activeTouch.moved=!0)}),Co(i.scroller,"touchend",function(n){var a=i.activeTouch;if(a&&!Ut(i,n)&&null!=a.left&&!a.moved&&new Date-a.start<300){var o,s=e.coordsChar(i.activeTouch,"page");o=!a.prev||r(a,a.prev)?new de(s,s):!a.prev.prev||r(a,a.prev.prev)?e.findWordAt(s):new de(Aa(s.line,0),ge(e.doc,Aa(s.line+1,0))),e.setSelection(o.anchor,o.head),e.focus(),wo(n)}t()}),Co(i.scroller,"touchcancel",t),Co(i.scroller,"scroll",function(){i.scroller.clientHeight&&(Zt(e,i.scroller.scrollTop),en(e,i.scroller.scrollLeft,!0),_o(e,"scroll",e))}),Co(i.scroller,"mousewheel",function(t){tn(e,t)}),Co(i.scroller,"DOMMouseScroll",function(t){tn(e,t)}),Co(i.wrapper,"scroll",function(){i.wrapper.scrollTop=i.wrapper.scrollLeft=0}),i.dragFunctions={simple:function(t){$i(e,t)||xo(t)},start:function(t){Jt(e,t)},drop:Tt(e,Qt)};var s=i.input.getField();Co(s,"keyup",function(t){cn.call(e,t)}),Co(s,"keydown",Tt(e,ln)),Co(s,"keypress",Tt(e,dn)),Co(s,"focus",Di(pn,e)),Co(s,"blur",Di(hn,e))}function Bt(t,n,r){var i=r&&r!=e.Init;if(!n!=!i){var a=t.display.dragFunctions,o=n?Co:Eo;o(t.display.scroller,"dragstart",a.start),o(t.display.scroller,"dragenter",a.simple),o(t.display.scroller,"dragover",a.simple),o(t.display.scroller,"drop",a.drop)}}function Vt(e){var t=e.display;(t.lastWrapHeight!=t.wrapper.clientHeight||t.lastWrapWidth!=t.wrapper.clientWidth)&&(t.cachedCharWidth=t.cachedTextHeight=t.cachedPaddingH=null,t.scrollbarsClipped=!1,e.setSize())}function Ut(e,t){for(var n=vi(t);n!=e.wrapper;n=n.parentNode)if(!n||1==n.nodeType&&"true"==n.getAttribute("cm-ignore-events")||n.parentNode==e.sizer&&n!=e.mover)return!0}function zt(e,t,n,r){var i=e.display;if(!n&&"true"==vi(t).getAttribute("cm-not-content"))return null;var a,o,s=i.lineSpace.getBoundingClientRect();try{a=t.clientX-s.left,o=t.clientY-s.top}catch(t){return null}var l,u=ht(e,a,o);if(r&&1==u.xRel&&(l=Gr(e.doc,u.line).text).length==u.ch){var c=Mo(l,l.length,e.options.tabSize)-l.length;u=Aa(u.line,Math.max(0,Math.round((a-Ue(e.display).left)/vt(e.display))-c))}return u}function qt(e){var t=this,n=t.display;if(!(n.activeTouch&&n.input.supportsTouch()||$i(t,e))){if(n.shift=e.shiftKey,Ut(n,e))return void(ha||(n.scroller.draggable=!1,setTimeout(function(){n.scroller.draggable=!0},100)));if(!Xt(t,e)){var r=zt(t,e);switch(window.focus(),yi(e)){case 1:r?Wt(t,e,r):vi(e)==n.scroller&&wo(e);break;case 2:ha&&(t.state.lastMiddleDown=+new Date),r&&we(t.doc,r),setTimeout(function(){n.input.focus()},20),wo(e);break;case 3:ka?gn(t,e):fn(t)}}}}function Wt(e,t,n){fa?setTimeout(Di(X,e),0):e.curOp.focus=Bi();var r,i=+new Date;La&&La.time>i-400&&0==Ra(La.pos,n)?r="triple":Da&&Da.time>i-400&&0==Ra(Da.pos,n)?(r="double",La={time:i,pos:n}):(r="single",Da={time:i,pos:n});var a,o=e.doc.sel,s=Ca?t.metaKey:t.ctrlKey;e.options.dragDrop&&qo&&!Q(e)&&"single"==r&&(a=o.contains(n))>-1&&!o.ranges[a].empty()?Gt(e,t,n,s):Kt(e,t,n,r,s)}function Gt(e,t,n,r){var i=e.display,a=+new Date,o=Tt(e,function(s){ha&&(i.scroller.draggable=!1),e.state.draggingText=!1,Eo(document,"mouseup",o),Eo(i.scroller,"drop",o),Math.abs(t.clientX-s.clientX)+Math.abs(t.clientY-s.clientY)<10&&(wo(s),!r&&+new Date-200<a&&we(e.doc,n),ha||fa&&9==pa?setTimeout(function(){document.body.focus(),i.input.focus()},20):i.input.focus())});ha&&(i.scroller.draggable=!0),e.state.draggingText=o,i.scroller.dragDrop&&i.scroller.dragDrop(),Co(document,"mouseup",o),Co(i.scroller,"drop",o)}function Kt(e,t,n,r,i){function a(t){if(0!=Ra(m,t))if(m=t,"rect"==r){for(var i=[],a=e.options.tabSize,o=Mo(Gr(u,n.line).text,n.ch,a),s=Mo(Gr(u,t.line).text,t.ch,a),l=Math.min(o,s),p=Math.max(o,s),h=Math.min(n.line,t.line),g=Math.min(e.lastLine(),Math.max(n.line,t.line));g>=h;h++){var v=Gr(u,h).text,y=Si(v,l,a);l==p?i.push(new de(Aa(h,y),Aa(h,y))):v.length>y&&i.push(new de(Aa(h,y),Aa(h,Si(v,p,a))))}i.length||i.push(new de(n,n)),Se(u,fe(f.ranges.slice(0,d).concat(i),d),{origin:"*mouse",scroll:!1}),e.scrollIntoView(t)}else{var b=c,w=b.anchor,$=t;if("single"!=r){if("double"==r)var x=e.findWordAt(t);else var x=new de(Aa(t.line,0),ge(u,Aa(t.line+1,0)));Ra(x.anchor,w)>0?($=x.head,w=Y(b.from(),x.anchor)):($=x.anchor,w=K(b.to(),x.head))}var i=f.ranges.slice(0);i[d]=new de(ge(u,w),$),Se(u,fe(i,d),Ao)}}function o(t){var n=++y,i=zt(e,t,!0,"rect"==r);if(i)if(0!=Ra(i,m)){e.curOp.focus=Bi(),a(i);var s=w(l,u);(i.line>=s.to||i.line<s.from)&&setTimeout(Tt(e,function(){y==n&&o(t)}),150)}else{var c=t.clientY<v.top?-20:t.clientY>v.bottom?20:0;c&&setTimeout(Tt(e,function(){y==n&&(l.scroller.scrollTop+=c,o(t))}),50)}}function s(e){y=1/0,wo(e),l.input.focus(),Eo(document,"mousemove",b),Eo(document,"mouseup",$),u.history.lastSelOrigin=null}var l=e.display,u=e.doc;wo(t);var c,d,f=u.sel,p=f.ranges;if(i&&!t.shiftKey?(d=u.sel.contains(n),c=d>-1?p[d]:new de(n,n)):(c=u.sel.primary(),d=u.sel.primIndex),t.altKey)r="rect",i||(c=new de(n,n)),n=zt(e,t,!0,!0),d=-1;else if("double"==r){var h=e.findWordAt(n);c=e.display.shift||u.extend?be(u,c,h.anchor,h.head):h}else if("triple"==r){var g=new de(Aa(n.line,0),ge(u,Aa(n.line+1,0)));c=e.display.shift||u.extend?be(u,c,g.anchor,g.head):g}else c=be(u,c,n);i?-1==d?(d=p.length,Se(u,fe(p.concat([c]),d),{scroll:!1,origin:"*mouse"})):p.length>1&&p[d].empty()&&"single"==r&&!t.shiftKey?(Se(u,fe(p.slice(0,d).concat(p.slice(d+1)),0)),f=u.sel):xe(u,d,c,Ao):(d=0,Se(u,new ce([c],0),Ao),f=u.sel);var m=n,v=l.wrapper.getBoundingClientRect(),y=0,b=Tt(e,function(e){yi(e)?o(e):s(e)}),$=Tt(e,s);Co(document,"mousemove",b),Co(document,"mouseup",$)}function Yt(e,t,n,r,i){try{var a=t.clientX,o=t.clientY}catch(t){return!1}if(a>=Math.floor(e.display.gutters.getBoundingClientRect().right))return!1;r&&wo(t);var s=e.display,l=s.lineDiv.getBoundingClientRect();if(o>l.bottom||!Ci(e,n))return mi(t);o-=l.top-s.viewOffset;for(var u=0;u<e.options.gutters.length;++u){var c=s.gutters.childNodes[u];if(c&&c.getBoundingClientRect().right>=a){var d=Jr(e.doc,o),f=e.options.gutters[u];return i(e,n,e,d,f,t),mi(t)}}}function Xt(e,t){return Yt(e,t,"gutterClick",!0,bi)}function Qt(e){var t=this;if(!$i(t,e)&&!Ut(t.display,e)){wo(e),fa&&(ja=+new Date);var n=zt(t,e,!0),r=e.dataTransfer.files;if(n&&!Q(t))if(r&&r.length&&window.FileReader&&window.File)for(var i=r.length,a=Array(i),o=0,s=function(e,r){var s=new FileReader;s.onload=Tt(t,function(){if(a[r]=s.result,++o==i){n=ge(t.doc,n);var e={from:n,to:n,text:Wo(a.join("\n")),origin:"paste"};xn(t.doc,e),_e(t.doc,pe(n,qa(e)))}}),s.readAsText(e)},l=0;i>l;++l)s(r[l],l);else{if(t.state.draggingText&&t.doc.sel.contains(n)>-1)return t.state.draggingText(e),void setTimeout(function(){t.display.input.focus()},20);try{var a=e.dataTransfer.getData("Text");if(a){if(t.state.draggingText&&!(Ca?e.altKey:e.ctrlKey))var u=t.listSelections();if(ke(t.doc,pe(n,n)),u)for(var l=0;l<u.length;++l)Tn(t.doc,"",u[l].anchor,u[l].head,"drag");t.replaceSelection(a,"around","paste"),t.display.input.focus()}}catch(e){}}}}function Jt(e,t){if(fa&&(!e.state.draggingText||+new Date-ja<100))return void xo(t);if(!$i(e,t)&&!Ut(e.display,t)&&(t.dataTransfer.setData("Text",e.getSelection()),t.dataTransfer.setDragImage&&!ya)){var n=Fi("img",null,null,"position: fixed; left: 0; top: 0;");n.src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==",va&&(n.width=n.height=1,e.display.wrapper.appendChild(n),n._top=n.offsetTop),t.dataTransfer.setDragImage(n,0,0),va&&n.parentNode.removeChild(n)}}function Zt(e,t){Math.abs(e.doc.scrollTop-t)<2||(e.doc.scrollTop=t,ua||O(e,{top:t}),e.display.scroller.scrollTop!=t&&(e.display.scroller.scrollTop=t),e.display.scrollbars.setScrollTop(t),ua&&O(e),Ie(e,100))}function en(e,t,n){(n?t==e.doc.scrollLeft:Math.abs(e.doc.scrollLeft-t)<2)||(t=Math.min(t,e.display.scroller.scrollWidth-e.display.scroller.clientWidth),e.doc.scrollLeft=t,$(e),e.display.scroller.scrollLeft!=t&&(e.display.scroller.scrollLeft=t),e.display.scrollbars.setScrollLeft(t))}function tn(e,t){var n=Va(t),r=n.x,i=n.y,a=e.display,o=a.scroller;if(r&&o.scrollWidth>o.clientWidth||i&&o.scrollHeight>o.clientHeight){if(i&&Ca&&ha)e:for(var s=t.target,l=a.view;s!=o;s=s.parentNode)for(var u=0;u<l.length;u++)if(l[u].node==s){e.display.currentWheelTarget=s;break e}if(r&&!ua&&!va&&null!=Ba)return i&&Zt(e,Math.max(0,Math.min(o.scrollTop+i*Ba,o.scrollHeight-o.clientHeight))),en(e,Math.max(0,Math.min(o.scrollLeft+r*Ba,o.scrollWidth-o.clientWidth))),wo(t),void(a.wheelStartX=null);if(i&&null!=Ba){var c=i*Ba,d=e.doc.scrollTop,f=d+a.wrapper.clientHeight;0>c?d=Math.max(0,d+c-50):f=Math.min(e.doc.height,f+c+50),O(e,{top:d,bottom:f})}20>Ha&&(null==a.wheelStartX?(a.wheelStartX=o.scrollLeft,a.wheelStartY=o.scrollTop,a.wheelDX=r,a.wheelDY=i,setTimeout(function(){if(null!=a.wheelStartX){var e=o.scrollLeft-a.wheelStartX,t=o.scrollTop-a.wheelStartY,n=t&&a.wheelDY&&t/a.wheelDY||e&&a.wheelDX&&e/a.wheelDX;a.wheelStartX=a.wheelStartY=null,n&&(Ba=(Ba*Ha+n)/(Ha+1),++Ha)}},200)):(a.wheelDX+=r,a.wheelDY+=i))}}function nn(e,t,n){if("string"==typeof t&&(t=no[t],!t))return!1;e.display.input.ensurePolled();var r=e.display.shift,i=!1;try{Q(e)&&(e.state.suppressEdits=!0),n&&(e.display.shift=!1),i=t(e)!=To}finally{e.display.shift=r,e.state.suppressEdits=!1}return i}function rn(e,t,n){for(var r=0;r<e.state.keyMaps.length;r++){var i=io(t,e.state.keyMaps[r],n,e);if(i)return i}return e.options.extraKeys&&io(t,e.options.extraKeys,n,e)||io(t,e.options.keyMap,n,e)}function an(e,t,n,r){var i=e.state.keySeq;if(i){if(ao(t))return"handled";Ua.set(50,function(){e.state.keySeq==i&&(e.state.keySeq=null,e.display.input.reset())}),t=i+" "+t}var a=rn(e,t,r);return"multi"==a&&(e.state.keySeq=t),"handled"==a&&bi(e,"keyHandled",e,t,n),("handled"==a||"multi"==a)&&(wo(n),Pe(e)),i&&!a&&/\'$/.test(t)?(wo(n),!0):!!a}function on(e,t){var n=oo(t,!0);return n?t.shiftKey&&!e.state.keySeq?an(e,"Shift-"+n,t,function(t){return nn(e,t,!0)})||an(e,n,t,function(t){return("string"==typeof t?/^go[A-Z]/.test(t):t.motion)?nn(e,t):void 0}):an(e,n,t,function(t){return nn(e,t)}):!1}function sn(e,t,n){return an(e,"'"+n+"'",t,function(t){return nn(e,t,!0)})}function ln(e){var t=this;if(t.curOp.focus=Bi(),!$i(t,e)){fa&&11>pa&&27==e.keyCode&&(e.returnValue=!1);var n=e.keyCode;t.display.shift=16==n||e.shiftKey;var r=on(t,e);va&&(za=r?n:null,!r&&88==n&&!Ko&&(Ca?e.metaKey:e.ctrlKey)&&t.replaceSelection("",null,"cut")),18!=n||/\bCodeMirror-crosshair\b/.test(t.display.lineDiv.className)||un(t)}}function un(e){function t(e){18!=e.keyCode&&e.altKey||(Vo(n,"CodeMirror-crosshair"),Eo(document,"keyup",t),Eo(document,"mouseover",t))}var n=e.display.lineDiv;Uo(n,"CodeMirror-crosshair"),Co(document,"keyup",t),Co(document,"mouseover",t)}function cn(e){16==e.keyCode&&(this.doc.sel.shift=!1),$i(this,e)}function dn(e){var t=this;if(!(Ut(t.display,e)||$i(t,e)||e.ctrlKey&&!e.altKey||Ca&&e.metaKey)){var n=e.keyCode,r=e.charCode;if(va&&n==za)return za=null,void wo(e);if(!va||e.which&&!(e.which<10)||!on(t,e)){var i=String.fromCharCode(null==r?n:r);sn(t,e,i)||t.display.input.onKeyPress(e)}}}function fn(e){e.state.delayingBlurEvent=!0,setTimeout(function(){e.state.delayingBlurEvent&&(e.state.delayingBlurEvent=!1,hn(e))},100)}function pn(e){e.state.delayingBlurEvent&&(e.state.delayingBlurEvent=!1),"nocursor"!=e.options.readOnly&&(e.state.focused||(_o(e,"focus",e),e.state.focused=!0,Uo(e.display.wrapper,"CodeMirror-focused"),e.curOp||e.display.selForContextMenu==e.doc.sel||(e.display.input.reset(),ha&&setTimeout(function(){e.display.input.reset(!0)},20)),e.display.input.receivedFocus()),Pe(e))}function hn(e){e.state.delayingBlurEvent||(e.state.focused&&(_o(e,"blur",e),e.state.focused=!1,Vo(e.display.wrapper,"CodeMirror-focused")),clearInterval(e.display.blinker),setTimeout(function(){e.state.focused||(e.display.shift=!1)},150))}function gn(e,t){Ut(e.display,t)||mn(e,t)||e.display.input.onContextMenu(t)}function mn(e,t){return Ci(e,"gutterContextMenu")?Yt(e,t,"gutterContextMenu",!1,_o):!1}function vn(e,t){if(Ra(e,t.from)<0)return e;if(Ra(e,t.to)<=0)return qa(t);var n=e.line+t.text.length-(t.to.line-t.from.line)-1,r=e.ch;return e.line==t.to.line&&(r+=qa(t).ch-t.to.ch),Aa(n,r)}function yn(e,t){for(var n=[],r=0;r<e.sel.ranges.length;r++){var i=e.sel.ranges[r];n.push(new de(vn(i.anchor,t),vn(i.head,t)))}return fe(n,e.sel.primIndex)}function bn(e,t,n){return e.line==t.line?Aa(n.line,e.ch-t.ch+n.ch):Aa(n.line+(e.line-t.line),e.ch)}function wn(e,t,n){for(var r=[],i=Aa(e.first,0),a=i,o=0;o<t.length;o++){var s=t[o],l=bn(s.from,i,a),u=bn(qa(s),i,a);if(i=s.to,a=u,"around"==n){var c=e.sel.ranges[o],d=Ra(c.head,c.anchor)<0;r[o]=new de(d?u:l,d?l:u)}else r[o]=new de(l,l)}return new ce(r,e.sel.primIndex)}function $n(e,t,n){var r={canceled:!1,from:t.from,to:t.to,text:t.text,origin:t.origin,cancel:function(){this.canceled=!0}};return n&&(r.update=function(t,n,r,i){t&&(this.from=ge(e,t)),n&&(this.to=ge(e,n)),r&&(this.text=r),void 0!==i&&(this.origin=i)}),_o(e,"beforeChange",e,r),e.cm&&_o(e.cm,"beforeChange",e.cm,r),r.canceled?null:{from:r.from,to:r.to,text:r.text,origin:r.origin}}function xn(e,t,n){if(e.cm){if(!e.cm.curOp)return Tt(e.cm,xn)(e,t,n);if(e.cm.state.suppressEdits)return}if(!(Ci(e,"beforeChange")||e.cm&&Ci(e.cm,"beforeChange"))||(t=$n(e,t,!0))){
var r=Ta&&!n&&ir(e,t.from,t.to);if(r)for(var i=r.length-1;i>=0;--i)Cn(e,{from:r[i].from,to:r[i].to,text:i?[""]:t.text});else Cn(e,t)}}function Cn(e,t){if(1!=t.text.length||""!=t.text[0]||0!=Ra(t.from,t.to)){var n=yn(e,t);ai(e,t,n,e.cm?e.cm.curOp.id:NaN),Sn(e,t,n,tr(e,t));var r=[];qr(e,function(e,n){n||-1!=Oi(r,e.history)||(gi(e.history,t),r.push(e.history)),Sn(e,t,null,tr(e,t))})}}function En(e,t,n){if(!e.cm||!e.cm.state.suppressEdits){for(var r,i=e.history,a=e.sel,o="undo"==t?i.done:i.undone,s="undo"==t?i.undone:i.done,l=0;l<o.length&&(r=o[l],n?!r.ranges||r.equals(e.sel):r.ranges);l++);if(l!=o.length){for(i.lastOrigin=i.lastSelOrigin=null;r=o.pop(),r.ranges;){if(li(r,s),n&&!r.equals(e.sel))return void Se(e,r,{clearRedo:!1});a=r}var u=[];li(a,s),s.push({changes:u,generation:i.generation}),i.generation=r.generation||++i.maxGeneration;for(var c=Ci(e,"beforeChange")||e.cm&&Ci(e.cm,"beforeChange"),l=r.changes.length-1;l>=0;--l){var d=r.changes[l];if(d.origin=t,c&&!$n(e,d,!1))return void(o.length=0);u.push(ni(e,d));var f=l?yn(e,d):Ti(o);Sn(e,d,f,rr(e,d)),!l&&e.cm&&e.cm.scrollIntoView({from:d.from,to:qa(d)});var p=[];qr(e,function(e,t){t||-1!=Oi(p,e.history)||(gi(e.history,d),p.push(e.history)),Sn(e,d,null,rr(e,d))})}}}}function _n(e,t){if(0!=t&&(e.first+=t,e.sel=new ce(Ai(e.sel.ranges,function(e){return new de(Aa(e.anchor.line+t,e.anchor.ch),Aa(e.head.line+t,e.head.ch))}),e.sel.primIndex),e.cm)){Nt(e.cm,e.first,e.first-t,t);for(var n=e.cm.display,r=n.viewFrom;r<n.viewTo;r++)Dt(e.cm,r,"gutter")}}function Sn(e,t,n,r){if(e.cm&&!e.cm.curOp)return Tt(e.cm,Sn)(e,t,n,r);if(t.to.line<e.first)return void _n(e,t.text.length-1-(t.to.line-t.from.line));if(!(t.from.line>e.lastLine())){if(t.from.line<e.first){var i=t.text.length-1-(e.first-t.from.line);_n(e,i),t={from:Aa(e.first,0),to:Aa(t.to.line+i,t.to.ch),text:[Ti(t.text)],origin:t.origin}}var a=e.lastLine();t.to.line>a&&(t={from:t.from,to:Aa(a,Gr(e,a).text.length),text:[t.text[0]],origin:t.origin}),t.removed=Kr(e,t.from,t.to),n||(n=yn(e,t)),e.cm?kn(e.cm,t,r):Vr(e,t,r),ke(e,n,Oo)}}function kn(e,t,n){var r=e.doc,i=e.display,o=t.from,s=t.to,l=!1,u=o.line;e.options.lineWrapping||(u=Qr(hr(Gr(r,o.line))),r.iter(u,s.line+1,function(e){return e==i.maxLine?(l=!0,!0):void 0})),r.sel.contains(t.from,t.to)>-1&&xi(e),Vr(r,t,n,a(e)),e.options.lineWrapping||(r.iter(u,o.line+t.text.length,function(e){var t=d(e);t>i.maxLineLength&&(i.maxLine=e,i.maxLineLength=t,i.maxLineChanged=!0,l=!1)}),l&&(e.curOp.updateMaxLine=!0)),r.frontier=Math.min(r.frontier,o.line),Ie(e,400);var c=t.text.length-(s.line-o.line)-1;t.full?Nt(e):o.line!=s.line||1!=t.text.length||Br(e.doc,t)?Nt(e,o.line,s.line+1,c):Dt(e,o.line,"text");var f=Ci(e,"changes"),p=Ci(e,"change");if(p||f){var h={from:o,to:s,text:t.text,removed:t.removed,origin:t.origin};p&&bi(e,"change",e,h),f&&(e.curOp.changeObjs||(e.curOp.changeObjs=[])).push(h)}e.display.selForContextMenu=null}function Tn(e,t,n,r,i){if(r||(r=n),Ra(r,n)<0){var a=r;r=n,n=a}"string"==typeof t&&(t=Wo(t)),xn(e,{from:n,to:r,text:t,origin:i})}function On(e,t){if(!$i(e,"scrollCursorIntoView")){var n=e.display,r=n.sizer.getBoundingClientRect(),i=null;if(t.top+r.top<0?i=!0:t.bottom+r.top>(window.innerHeight||document.documentElement.clientHeight)&&(i=!1),null!=i&&!wa){var a=Fi("div","​",null,"position: absolute; top: "+(t.top-n.viewOffset-Be(e.display))+"px; height: "+(t.bottom-t.top+ze(e)+n.barHeight)+"px; left: "+t.left+"px; width: 2px;");e.display.lineSpace.appendChild(a),a.scrollIntoView(i),e.display.lineSpace.removeChild(a)}}}function An(e,t,n,r){null==r&&(r=0);for(var i=0;5>i;i++){var a=!1,o=dt(e,t),s=n&&n!=t?dt(e,n):o,l=Mn(e,Math.min(o.left,s.left),Math.min(o.top,s.top)-r,Math.max(o.left,s.left),Math.max(o.bottom,s.bottom)+r),u=e.doc.scrollTop,c=e.doc.scrollLeft;if(null!=l.scrollTop&&(Zt(e,l.scrollTop),Math.abs(e.doc.scrollTop-u)>1&&(a=!0)),null!=l.scrollLeft&&(en(e,l.scrollLeft),Math.abs(e.doc.scrollLeft-c)>1&&(a=!0)),!a)break}return o}function Rn(e,t,n,r,i){var a=Mn(e,t,n,r,i);null!=a.scrollTop&&Zt(e,a.scrollTop),null!=a.scrollLeft&&en(e,a.scrollLeft)}function Mn(e,t,n,r,i){var a=e.display,o=mt(e.display);0>n&&(n=0);var s=e.curOp&&null!=e.curOp.scrollTop?e.curOp.scrollTop:a.scroller.scrollTop,l=We(e),u={};i-n>l&&(i=n+l);var c=e.doc.height+Ve(a),d=o>n,f=i>c-o;if(s>n)u.scrollTop=d?0:n;else if(i>s+l){var p=Math.min(n,(f?c:i)-l);p!=s&&(u.scrollTop=p)}var h=e.curOp&&null!=e.curOp.scrollLeft?e.curOp.scrollLeft:a.scroller.scrollLeft,g=qe(e)-(e.options.fixedGutter?a.gutters.offsetWidth:0),m=r-t>g;return m&&(r=t+g),10>t?u.scrollLeft=0:h>t?u.scrollLeft=Math.max(0,t-(m?0:10)):r>g+h-3&&(u.scrollLeft=r+(m?0:10)-g),u}function Nn(e,t,n){(null!=t||null!=n)&&Ln(e),null!=t&&(e.curOp.scrollLeft=(null==e.curOp.scrollLeft?e.doc.scrollLeft:e.curOp.scrollLeft)+t),null!=n&&(e.curOp.scrollTop=(null==e.curOp.scrollTop?e.doc.scrollTop:e.curOp.scrollTop)+n)}function Dn(e){Ln(e);var t=e.getCursor(),n=t,r=t;e.options.lineWrapping||(n=t.ch?Aa(t.line,t.ch-1):t,r=Aa(t.line,t.ch+1)),e.curOp.scrollToPos={from:n,to:r,margin:e.options.cursorScrollMargin,isCursor:!0}}function Ln(e){var t=e.curOp.scrollToPos;if(t){e.curOp.scrollToPos=null;var n=ft(e,t.from),r=ft(e,t.to),i=Mn(e,Math.min(n.left,r.left),Math.min(n.top,r.top)-t.margin,Math.max(n.right,r.right),Math.max(n.bottom,r.bottom)+t.margin);e.scrollTo(i.scrollLeft,i.scrollTop)}}function Pn(e,t,n,r){var i,a=e.doc;null==n&&(n="add"),"smart"==n&&(a.mode.indent?i=He(e,t):n="prev");var o=e.options.tabSize,s=Gr(a,t),l=Mo(s.text,null,o);s.stateAfter&&(s.stateAfter=null);var u,c=s.text.match(/^\s*/)[0];if(r||/\S/.test(s.text)){if("smart"==n&&(u=a.mode.indent(i,s.text.slice(c.length),s.text),u==To||u>150)){if(!r)return;n="prev"}}else u=0,n="not";"prev"==n?u=t>a.first?Mo(Gr(a,t-1).text,null,o):0:"add"==n?u=l+e.options.indentUnit:"subtract"==n?u=l-e.options.indentUnit:"number"==typeof n&&(u=l+n),u=Math.max(0,u);var d="",f=0;if(e.options.indentWithTabs)for(var p=Math.floor(u/o);p;--p)f+=o,d+="	";if(u>f&&(d+=ki(u-f)),d!=c)return Tn(a,d,Aa(t,0),Aa(t,c.length),"+input"),s.stateAfter=null,!0;for(var p=0;p<a.sel.ranges.length;p++){var h=a.sel.ranges[p];if(h.head.line==t&&h.head.ch<c.length){var f=Aa(t,c.length);xe(a,p,new de(f,f));break}}}function In(e,t,n,r){var i=t,a=t;return"number"==typeof t?a=Gr(e,he(e,t)):i=Qr(t),null==i?null:(r(a,i)&&e.cm&&Dt(e.cm,i,n),a)}function Fn(e,t){for(var n=e.doc.sel.ranges,r=[],i=0;i<n.length;i++){for(var a=t(n[i]);r.length&&Ra(a.from,Ti(r).to)<=0;){var o=r.pop();if(Ra(o.from,a.from)<0){a.from=o.from;break}}r.push(a)}kt(e,function(){for(var t=r.length-1;t>=0;t--)Tn(e.doc,"",r[t].from,r[t].to,"+delete");Dn(e)})}function jn(e,t,n,r,i){function a(){var t=s+n;return t<e.first||t>=e.first+e.size?d=!1:(s=t,c=Gr(e,t))}function o(e){var t=(i?sa:la)(c,l,n,!0);if(null==t){if(e||!a())return d=!1;l=i?(0>n?ea:Zi)(c):0>n?c.text.length:0}else l=t;return!0}var s=t.line,l=t.ch,u=n,c=Gr(e,s),d=!0;if("char"==r)o();else if("column"==r)o(!0);else if("word"==r||"group"==r)for(var f=null,p="group"==r,h=e.cm&&e.cm.getHelper(t,"wordChars"),g=!0;!(0>n)||o(!g);g=!1){var m=c.text.charAt(l)||"\n",v=Li(m,h)?"w":p&&"\n"==m?"n":!p||/\s/.test(m)?null:"p";if(!p||g||v||(v="s"),f&&f!=v){0>n&&(n=1,o());break}if(v&&(f=v),n>0&&!o(!g))break}var y=Re(e,Aa(s,l),u,!0);return d||(y.hitSide=!0),y}function Hn(e,t,n,r){var i,a=e.doc,o=t.left;if("page"==r){var s=Math.min(e.display.wrapper.clientHeight,window.innerHeight||document.documentElement.clientHeight);i=t.top+n*(s-(0>n?1.5:.5)*mt(e.display))}else"line"==r&&(i=n>0?t.bottom+3:t.top-3);for(;;){var l=ht(e,o,i);if(!l.outside)break;if(0>n?0>=i:i>=a.height){l.hitSide=!0;break}i+=5*n}return l}function Bn(t,n,r,i){e.defaults[t]=n,r&&(Ga[t]=i?function(e,t,n){n!=Ka&&r(e,t,n)}:r)}function Vn(e){for(var t,n,r,i,a=e.split(/-(?!$)/),e=a[a.length-1],o=0;o<a.length-1;o++){var s=a[o];if(/^(cmd|meta|m)$/i.test(s))i=!0;else if(/^a(lt)?$/i.test(s))t=!0;else if(/^(c|ctrl|control)$/i.test(s))n=!0;else{if(!/^s(hift)$/i.test(s))throw new Error("Unrecognized modifier name: "+s);r=!0}}return t&&(e="Alt-"+e),n&&(e="Ctrl-"+e),i&&(e="Cmd-"+e),r&&(e="Shift-"+e),e}function Un(e){return"string"==typeof e?ro[e]:e}function zn(e,t,n,r,i){if(r&&r.shared)return qn(e,t,n,r,i);if(e.cm&&!e.cm.curOp)return Tt(e.cm,zn)(e,t,n,r,i);var a=new uo(e,i),o=Ra(t,n);if(r&&Ni(r,a,!1),o>0||0==o&&a.clearWhenEmpty!==!1)return a;if(a.replacedWith&&(a.collapsed=!0,a.widgetNode=Fi("span",[a.replacedWith],"CodeMirror-widget"),r.handleMouseEvents||a.widgetNode.setAttribute("cm-ignore-events","true"),r.insertLeft&&(a.widgetNode.insertLeft=!0)),a.collapsed){if(pr(e,t.line,t,n,a)||t.line!=n.line&&pr(e,n.line,t,n,a))throw new Error("Inserting collapsed marker partially overlapping an existing one");Oa=!0}a.addToHistory&&ai(e,{from:t,to:n,origin:"markText"},e.sel,NaN);var s,l=t.line,u=e.cm;if(e.iter(l,n.line+1,function(e){u&&a.collapsed&&!u.options.lineWrapping&&hr(e)==u.display.maxLine&&(s=!0),a.collapsed&&l!=t.line&&Xr(e,0),Jn(e,new Yn(a,l==t.line?t.ch:null,l==n.line?n.ch:null)),++l}),a.collapsed&&e.iter(t.line,n.line+1,function(t){yr(e,t)&&Xr(t,0)}),a.clearOnEnter&&Co(a,"beforeCursorEnter",function(){a.clear()}),a.readOnly&&(Ta=!0,(e.history.done.length||e.history.undone.length)&&e.clearHistory()),a.collapsed&&(a.id=++lo,a.atomic=!0),u){if(s&&(u.curOp.updateMaxLine=!0),a.collapsed)Nt(u,t.line,n.line+1);else if(a.className||a.title||a.startStyle||a.endStyle||a.css)for(var c=t.line;c<=n.line;c++)Dt(u,c,"text");a.atomic&&Oe(u.doc),bi(u,"markerAdded",u,a)}return a}function qn(e,t,n,r,i){r=Ni(r),r.shared=!1;var a=[zn(e,t,n,r,i)],o=a[0],s=r.widgetNode;return qr(e,function(e){s&&(r.widgetNode=s.cloneNode(!0)),a.push(zn(e,ge(e,t),ge(e,n),r,i));for(var l=0;l<e.linked.length;++l)if(e.linked[l].isParent)return;o=Ti(a)}),new co(a,o)}function Wn(e){return e.findMarks(Aa(e.first,0),e.clipPos(Aa(e.lastLine())),function(e){return e.parent})}function Gn(e,t){for(var n=0;n<t.length;n++){var r=t[n],i=r.find(),a=e.clipPos(i.from),o=e.clipPos(i.to);if(Ra(a,o)){var s=zn(e,a,o,r.primary,r.primary.type);r.markers.push(s),s.parent=r}}}function Kn(e){for(var t=0;t<e.length;t++){var n=e[t],r=[n.primary.doc];qr(n.primary.doc,function(e){r.push(e)});for(var i=0;i<n.markers.length;i++){var a=n.markers[i];-1==Oi(r,a.doc)&&(a.parent=null,n.markers.splice(i--,1))}}}function Yn(e,t,n){this.marker=e,this.from=t,this.to=n}function Xn(e,t){if(e)for(var n=0;n<e.length;++n){var r=e[n];if(r.marker==t)return r}}function Qn(e,t){for(var n,r=0;r<e.length;++r)e[r]!=t&&(n||(n=[])).push(e[r]);return n}function Jn(e,t){e.markedSpans=e.markedSpans?e.markedSpans.concat([t]):[t],t.marker.attachLine(e)}function Zn(e,t,n){if(e)for(var r,i=0;i<e.length;++i){var a=e[i],o=a.marker,s=null==a.from||(o.inclusiveLeft?a.from<=t:a.from<t);if(s||a.from==t&&"bookmark"==o.type&&(!n||!a.marker.insertLeft)){var l=null==a.to||(o.inclusiveRight?a.to>=t:a.to>t);(r||(r=[])).push(new Yn(o,a.from,l?null:a.to))}}return r}function er(e,t,n){if(e)for(var r,i=0;i<e.length;++i){var a=e[i],o=a.marker,s=null==a.to||(o.inclusiveRight?a.to>=t:a.to>t);if(s||a.from==t&&"bookmark"==o.type&&(!n||a.marker.insertLeft)){var l=null==a.from||(o.inclusiveLeft?a.from<=t:a.from<t);(r||(r=[])).push(new Yn(o,l?null:a.from-t,null==a.to?null:a.to-t))}}return r}function tr(e,t){if(t.full)return null;var n=ve(e,t.from.line)&&Gr(e,t.from.line).markedSpans,r=ve(e,t.to.line)&&Gr(e,t.to.line).markedSpans;if(!n&&!r)return null;var i=t.from.ch,a=t.to.ch,o=0==Ra(t.from,t.to),s=Zn(n,i,o),l=er(r,a,o),u=1==t.text.length,c=Ti(t.text).length+(u?i:0);if(s)for(var d=0;d<s.length;++d){var f=s[d];if(null==f.to){var p=Xn(l,f.marker);p?u&&(f.to=null==p.to?null:p.to+c):f.to=i}}if(l)for(var d=0;d<l.length;++d){var f=l[d];if(null!=f.to&&(f.to+=c),null==f.from){var p=Xn(s,f.marker);p||(f.from=c,u&&(s||(s=[])).push(f))}else f.from+=c,u&&(s||(s=[])).push(f)}s&&(s=nr(s)),l&&l!=s&&(l=nr(l));var h=[s];if(!u){var g,m=t.text.length-2;if(m>0&&s)for(var d=0;d<s.length;++d)null==s[d].to&&(g||(g=[])).push(new Yn(s[d].marker,null,null));for(var d=0;m>d;++d)h.push(g);h.push(l)}return h}function nr(e){for(var t=0;t<e.length;++t){var n=e[t];null!=n.from&&n.from==n.to&&n.marker.clearWhenEmpty!==!1&&e.splice(t--,1)}return e.length?e:null}function rr(e,t){var n=di(e,t),r=tr(e,t);if(!n)return r;if(!r)return n;for(var i=0;i<n.length;++i){var a=n[i],o=r[i];if(a&&o)e:for(var s=0;s<o.length;++s){for(var l=o[s],u=0;u<a.length;++u)if(a[u].marker==l.marker)continue e;a.push(l)}else o&&(n[i]=o)}return n}function ir(e,t,n){var r=null;if(e.iter(t.line,n.line+1,function(e){if(e.markedSpans)for(var t=0;t<e.markedSpans.length;++t){var n=e.markedSpans[t].marker;!n.readOnly||r&&-1!=Oi(r,n)||(r||(r=[])).push(n)}}),!r)return null;for(var i=[{from:t,to:n}],a=0;a<r.length;++a)for(var o=r[a],s=o.find(0),l=0;l<i.length;++l){var u=i[l];if(!(Ra(u.to,s.from)<0||Ra(u.from,s.to)>0)){var c=[l,1],d=Ra(u.from,s.from),f=Ra(u.to,s.to);(0>d||!o.inclusiveLeft&&!d)&&c.push({from:u.from,to:s.from}),(f>0||!o.inclusiveRight&&!f)&&c.push({from:s.to,to:u.to}),i.splice.apply(i,c),l+=c.length-1}}return i}function ar(e){var t=e.markedSpans;if(t){for(var n=0;n<t.length;++n)t[n].marker.detachLine(e);e.markedSpans=null}}function or(e,t){if(t){for(var n=0;n<t.length;++n)t[n].marker.attachLine(e);e.markedSpans=t}}function sr(e){return e.inclusiveLeft?-1:0}function lr(e){return e.inclusiveRight?1:0}function ur(e,t){var n=e.lines.length-t.lines.length;if(0!=n)return n;var r=e.find(),i=t.find(),a=Ra(r.from,i.from)||sr(e)-sr(t);if(a)return-a;var o=Ra(r.to,i.to)||lr(e)-lr(t);return o?o:t.id-e.id}function cr(e,t){var n,r=Oa&&e.markedSpans;if(r)for(var i,a=0;a<r.length;++a)i=r[a],i.marker.collapsed&&null==(t?i.from:i.to)&&(!n||ur(n,i.marker)<0)&&(n=i.marker);return n}function dr(e){return cr(e,!0)}function fr(e){return cr(e,!1)}function pr(e,t,n,r,i){var a=Gr(e,t),o=Oa&&a.markedSpans;if(o)for(var s=0;s<o.length;++s){var l=o[s];if(l.marker.collapsed){var u=l.marker.find(0),c=Ra(u.from,n)||sr(l.marker)-sr(i),d=Ra(u.to,r)||lr(l.marker)-lr(i);if(!(c>=0&&0>=d||0>=c&&d>=0)&&(0>=c&&(Ra(u.to,n)>0||l.marker.inclusiveRight&&i.inclusiveLeft)||c>=0&&(Ra(u.from,r)<0||l.marker.inclusiveLeft&&i.inclusiveRight)))return!0}}}function hr(e){for(var t;t=dr(e);)e=t.find(-1,!0).line;return e}function gr(e){for(var t,n;t=fr(e);)e=t.find(1,!0).line,(n||(n=[])).push(e);return n}function mr(e,t){var n=Gr(e,t),r=hr(n);return n==r?t:Qr(r)}function vr(e,t){if(t>e.lastLine())return t;var n,r=Gr(e,t);if(!yr(e,r))return t;for(;n=fr(r);)r=n.find(1,!0).line;return Qr(r)+1}function yr(e,t){var n=Oa&&t.markedSpans;if(n)for(var r,i=0;i<n.length;++i)if(r=n[i],r.marker.collapsed){if(null==r.from)return!0;if(!r.marker.widgetNode&&0==r.from&&r.marker.inclusiveLeft&&br(e,t,r))return!0}}function br(e,t,n){if(null==n.to){var r=n.marker.find(1,!0);return br(e,r.line,Xn(r.line.markedSpans,n.marker))}if(n.marker.inclusiveRight&&n.to==t.text.length)return!0;for(var i,a=0;a<t.markedSpans.length;++a)if(i=t.markedSpans[a],i.marker.collapsed&&!i.marker.widgetNode&&i.from==n.to&&(null==i.to||i.to!=n.from)&&(i.marker.inclusiveLeft||n.marker.inclusiveRight)&&br(e,t,i))return!0}function wr(e,t,n){Zr(t)<(e.curOp&&e.curOp.scrollTop||e.doc.scrollTop)&&Nn(e,null,n)}function $r(e){if(null!=e.height)return e.height;var t=e.doc.cm;if(!t)return 0;if(!jo(document.body,e.node)){var n="position: relative;";e.coverGutter&&(n+="margin-left: -"+t.display.gutters.offsetWidth+"px;"),e.noHScroll&&(n+="width: "+t.display.wrapper.clientWidth+"px;"),Hi(t.display.measure,Fi("div",[e.node],null,n))}return e.height=e.node.offsetHeight}function xr(e,t,n,r){var i=new fo(e,n,r),a=e.cm;return a&&i.noHScroll&&(a.display.alignWidgets=!0),In(e,t,"widget",function(t){var n=t.widgets||(t.widgets=[]);if(null==i.insertAt?n.push(i):n.splice(Math.min(n.length-1,Math.max(0,i.insertAt)),0,i),i.line=t,a&&!yr(e,t)){var r=Zr(t)<e.scrollTop;Xr(t,t.height+$r(i)),r&&Nn(a,null,i.height),a.curOp.forceUpdate=!0}return!0}),i}function Cr(e,t,n,r){e.text=t,e.stateAfter&&(e.stateAfter=null),e.styles&&(e.styles=null),null!=e.order&&(e.order=null),ar(e),or(e,n);var i=r?r(e):1;i!=e.height&&Xr(e,i)}function Er(e){e.parent=null,ar(e)}function _r(e,t){if(e)for(;;){var n=e.match(/(?:^|\s+)line-(background-)?(\S+)/);if(!n)break;e=e.slice(0,n.index)+e.slice(n.index+n[0].length);var r=n[1]?"bgClass":"textClass";null==t[r]?t[r]=n[2]:new RegExp("(?:^|s)"+n[2]+"(?:$|s)").test(t[r])||(t[r]+=" "+n[2])}return e}function Sr(t,n){if(t.blankLine)return t.blankLine(n);if(t.innerMode){var r=e.innerMode(t,n);return r.mode.blankLine?r.mode.blankLine(r.state):void 0}}function kr(t,n,r,i){for(var a=0;10>a;a++){i&&(i[0]=e.innerMode(t,r).mode);var o=t.token(n,r);if(n.pos>n.start)return o}throw new Error("Mode "+t.name+" failed to advance stream.")}function Tr(e,t,n,r){function i(e){return{start:d.start,end:d.pos,string:d.current(),type:a||null,state:e?eo(o.mode,c):c}}var a,o=e.doc,s=o.mode;t=ge(o,t);var l,u=Gr(o,t.line),c=He(e,t.line,n),d=new so(u.text,e.options.tabSize);for(r&&(l=[]);(r||d.pos<t.ch)&&!d.eol();)d.start=d.pos,a=kr(s,d,c),r&&l.push(i(!0));return r?l:i()}function Or(e,t,n,r,i,a,o){var s=n.flattenSpans;null==s&&(s=e.options.flattenSpans);var l,u=0,c=null,d=new so(t,e.options.tabSize),f=e.options.addModeClass&&[null];for(""==t&&_r(Sr(n,r),a);!d.eol();){if(d.pos>e.options.maxHighlightLength?(s=!1,o&&Mr(e,t,r,d.pos),d.pos=t.length,l=null):l=_r(kr(n,d,r,f),a),f){var p=f[0].name;p&&(l="m-"+(l?p+" "+l:p))}if(!s||c!=l){for(;u<d.start;)u=Math.min(d.start,u+5e4),i(u,c);c=l}d.start=d.pos}for(;u<d.pos;){var h=Math.min(d.pos,u+5e4);i(h,c),u=h}}function Ar(e,t,n,r){var i=[e.state.modeGen],a={};Or(e,t.text,e.doc.mode,n,function(e,t){i.push(e,t)},a,r);for(var o=0;o<e.state.overlays.length;++o){var s=e.state.overlays[o],l=1,u=0;Or(e,t.text,s.mode,!0,function(e,t){for(var n=l;e>u;){var r=i[l];r>e&&i.splice(l,1,e,i[l+1],r),l+=2,u=Math.min(e,r)}if(t)if(s.opaque)i.splice(n,l-n,e,"cm-overlay "+t),l=n+2;else for(;l>n;n+=2){var a=i[n+1];i[n+1]=(a?a+" ":"")+"cm-overlay "+t}},a)}return{styles:i,classes:a.bgClass||a.textClass?a:null}}function Rr(e,t,n){if(!t.styles||t.styles[0]!=e.state.modeGen){var r=Ar(e,t,t.stateAfter=He(e,Qr(t)));t.styles=r.styles,r.classes?t.styleClasses=r.classes:t.styleClasses&&(t.styleClasses=null),n===e.doc.frontier&&e.doc.frontier++}return t.styles}function Mr(e,t,n,r){var i=e.doc.mode,a=new so(t,e.options.tabSize);for(a.start=a.pos=r||0,""==t&&Sr(i,n);!a.eol()&&a.pos<=e.options.maxHighlightLength;)kr(i,a,n),a.start=a.pos}function Nr(e,t){if(!e||/^\s*$/.test(e))return null;var n=t.addModeClass?go:ho;return n[e]||(n[e]=e.replace(/\S+/g,"cm-$&"))}function Dr(e,t){var n=Fi("span",null,null,ha?"padding-right: .1px":null),r={pre:Fi("pre",[n]),content:n,col:0,pos:0,cm:e,splitSpaces:(fa||ha)&&e.getOption("lineWrapping")};t.measure={};for(var i=0;i<=(t.rest?t.rest.length:0);i++){var a,o=i?t.rest[i-1]:t.line;r.pos=0,r.addToken=Pr,Ki(e.display.measure)&&(a=ei(o))&&(r.addToken=Fr(r.addToken,a)),r.map=[];var s=t!=e.display.externalMeasured&&Qr(o);Hr(o,r,Rr(e,o,s)),o.styleClasses&&(o.styleClasses.bgClass&&(r.bgClass=Ui(o.styleClasses.bgClass,r.bgClass||"")),o.styleClasses.textClass&&(r.textClass=Ui(o.styleClasses.textClass,r.textClass||""))),0==r.map.length&&r.map.push(0,0,r.content.appendChild(Gi(e.display.measure))),0==i?(t.measure.map=r.map,t.measure.cache={}):((t.measure.maps||(t.measure.maps=[])).push(r.map),(t.measure.caches||(t.measure.caches=[])).push({}))}return ha&&/\bcm-tab\b/.test(r.content.lastChild.className)&&(r.content.className="cm-tab-wrap-hack"),_o(e,"renderLine",e,t.line,r.pre),r.pre.className&&(r.textClass=Ui(r.pre.className,r.textClass||"")),r}function Lr(e){var t=Fi("span","•","cm-invalidchar");return t.title="\\u"+e.charCodeAt(0).toString(16),t.setAttribute("aria-label",t.title),t}function Pr(e,t,n,r,i,a,o){if(t){var s=e.splitSpaces?t.replace(/ {3,}/g,Ir):t,l=e.cm.state.specialChars,u=!1;if(l.test(t))for(var c=document.createDocumentFragment(),d=0;;){l.lastIndex=d;var f=l.exec(t),p=f?f.index-d:t.length-d;if(p){var h=document.createTextNode(s.slice(d,d+p));fa&&9>pa?c.appendChild(Fi("span",[h])):c.appendChild(h),e.map.push(e.pos,e.pos+p,h),e.col+=p,e.pos+=p}if(!f)break;if(d+=p+1,"	"==f[0]){var g=e.cm.options.tabSize,m=g-e.col%g,h=c.appendChild(Fi("span",ki(m),"cm-tab"));h.setAttribute("role","presentation"),h.setAttribute("cm-text","	"),e.col+=m}else{var h=e.cm.options.specialCharPlaceholder(f[0]);h.setAttribute("cm-text",f[0]),fa&&9>pa?c.appendChild(Fi("span",[h])):c.appendChild(h),e.col+=1}e.map.push(e.pos,e.pos+1,h),e.pos++}else{e.col+=t.length;var c=document.createTextNode(s);e.map.push(e.pos,e.pos+t.length,c),fa&&9>pa&&(u=!0),e.pos+=t.length}if(n||r||i||u||o){var v=n||"";r&&(v+=r),i&&(v+=i);var y=Fi("span",[c],v,o);return a&&(y.title=a),e.content.appendChild(y)}e.content.appendChild(c)}}function Ir(e){for(var t=" ",n=0;n<e.length-2;++n)t+=n%2?" ":" ";return t+=" "}function Fr(e,t){return function(n,r,i,a,o,s,l){i=i?i+" cm-force-border":"cm-force-border";for(var u=n.pos,c=u+r.length;;){for(var d=0;d<t.length;d++){var f=t[d];if(f.to>u&&f.from<=u)break}if(f.to>=c)return e(n,r,i,a,o,s,l);e(n,r.slice(0,f.to-u),i,a,null,s,l),a=null,r=r.slice(f.to-u),u=f.to}}}function jr(e,t,n,r){var i=!r&&n.widgetNode;i&&e.map.push(e.pos,e.pos+t,i),!r&&e.cm.display.input.needsContentAttribute&&(i||(i=e.content.appendChild(document.createElement("span"))),i.setAttribute("cm-marker",n.id)),i&&(e.cm.display.input.setUneditable(i),e.content.appendChild(i)),e.pos+=t}function Hr(e,t,n){var r=e.markedSpans,i=e.text,a=0;if(r)for(var o,s,l,u,c,d,f,p=i.length,h=0,g=1,m="",v=0;;){if(v==h){l=u=c=d=s="",f=null,v=1/0;for(var y=[],b=0;b<r.length;++b){var w=r[b],$=w.marker;"bookmark"==$.type&&w.from==h&&$.widgetNode?y.push($):w.from<=h&&(null==w.to||w.to>h||$.collapsed&&w.to==h&&w.from==h)?(null!=w.to&&w.to!=h&&v>w.to&&(v=w.to,u=""),$.className&&(l+=" "+$.className),$.css&&(s=$.css),$.startStyle&&w.from==h&&(c+=" "+$.startStyle),$.endStyle&&w.to==v&&(u+=" "+$.endStyle),$.title&&!d&&(d=$.title),$.collapsed&&(!f||ur(f.marker,$)<0)&&(f=w)):w.from>h&&v>w.from&&(v=w.from)}if(f&&(f.from||0)==h){if(jr(t,(null==f.to?p+1:f.to)-h,f.marker,null==f.from),null==f.to)return;f.to==h&&(f=!1)}if(!f&&y.length)for(var b=0;b<y.length;++b)jr(t,0,y[b])}if(h>=p)break;for(var x=Math.min(p,v);;){if(m){var C=h+m.length;if(!f){var E=C>x?m.slice(0,x-h):m;t.addToken(t,E,o?o+l:l,c,h+E.length==v?u:"",d,s)}if(C>=x){m=m.slice(x-h),h=x;break}h=C,c=""}m=i.slice(a,a=n[g++]),o=Nr(n[g++],t.cm.options)}}else for(var g=1;g<n.length;g+=2)t.addToken(t,i.slice(a,a=n[g]),Nr(n[g+1],t.cm.options))}function Br(e,t){return 0==t.from.ch&&0==t.to.ch&&""==Ti(t.text)&&(!e.cm||e.cm.options.wholeLineUpdateBefore)}function Vr(e,t,n,r){function i(e){return n?n[e]:null}function a(e,n,i){Cr(e,n,i,r),bi(e,"change",e,t)}function o(e,t){for(var n=e,a=[];t>n;++n)a.push(new po(u[n],i(n),r));return a}var s=t.from,l=t.to,u=t.text,c=Gr(e,s.line),d=Gr(e,l.line),f=Ti(u),p=i(u.length-1),h=l.line-s.line;if(t.full)e.insert(0,o(0,u.length)),e.remove(u.length,e.size-u.length);else if(Br(e,t)){var g=o(0,u.length-1);a(d,d.text,p),h&&e.remove(s.line,h),g.length&&e.insert(s.line,g)}else if(c==d)if(1==u.length)a(c,c.text.slice(0,s.ch)+f+c.text.slice(l.ch),p);else{var g=o(1,u.length-1);g.push(new po(f+c.text.slice(l.ch),p,r)),a(c,c.text.slice(0,s.ch)+u[0],i(0)),e.insert(s.line+1,g)}else if(1==u.length)a(c,c.text.slice(0,s.ch)+u[0]+d.text.slice(l.ch),i(0)),e.remove(s.line+1,h);else{a(c,c.text.slice(0,s.ch)+u[0],i(0)),a(d,f+d.text.slice(l.ch),p);var g=o(1,u.length-1);h>1&&e.remove(s.line+1,h-1),e.insert(s.line+1,g)}bi(e,"change",e,t)}function Ur(e){this.lines=e,this.parent=null;for(var t=0,n=0;t<e.length;++t)e[t].parent=this,n+=e[t].height;this.height=n}function zr(e){this.children=e;for(var t=0,n=0,r=0;r<e.length;++r){var i=e[r];t+=i.chunkSize(),n+=i.height,i.parent=this}this.size=t,this.height=n,this.parent=null}function qr(e,t,n){function r(e,i,a){if(e.linked)for(var o=0;o<e.linked.length;++o){var s=e.linked[o];if(s.doc!=i){var l=a&&s.sharedHist;(!n||l)&&(t(s.doc,l),r(s.doc,e,l))}}}r(e,null,!0)}function Wr(e,t){if(t.cm)throw new Error("This document is already in use.");e.doc=t,t.cm=e,o(e),n(e),e.options.lineWrapping||f(e),e.options.mode=t.modeOption,Nt(e)}function Gr(e,t){if(t-=e.first,0>t||t>=e.size)throw new Error("There is no line "+(t+e.first)+" in the document.");for(var n=e;!n.lines;)for(var r=0;;++r){var i=n.children[r],a=i.chunkSize();if(a>t){n=i;break}t-=a}return n.lines[t]}function Kr(e,t,n){var r=[],i=t.line;return e.iter(t.line,n.line+1,function(e){var a=e.text;i==n.line&&(a=a.slice(0,n.ch)),i==t.line&&(a=a.slice(t.ch)),r.push(a),++i}),r}function Yr(e,t,n){var r=[];return e.iter(t,n,function(e){r.push(e.text)}),r}function Xr(e,t){var n=t-e.height;if(n)for(var r=e;r;r=r.parent)r.height+=n}function Qr(e){if(null==e.parent)return null;for(var t=e.parent,n=Oi(t.lines,e),r=t.parent;r;t=r,r=r.parent)for(var i=0;r.children[i]!=t;++i)n+=r.children[i].chunkSize();return n+t.first}function Jr(e,t){var n=e.first;e:do{for(var r=0;r<e.children.length;++r){var i=e.children[r],a=i.height;if(a>t){e=i;continue e}t-=a,n+=i.chunkSize()}return n}while(!e.lines);for(var r=0;r<e.lines.length;++r){var o=e.lines[r],s=o.height;if(s>t)break;t-=s}return n+r}function Zr(e){e=hr(e);for(var t=0,n=e.parent,r=0;r<n.lines.length;++r){var i=n.lines[r];if(i==e)break;t+=i.height}for(var a=n.parent;a;n=a,a=n.parent)for(var r=0;r<a.children.length;++r){var o=a.children[r];if(o==n)break;t+=o.height}return t}function ei(e){var t=e.order;return null==t&&(t=e.order=Jo(e.text)),t}function ti(e){this.done=[],this.undone=[],this.undoDepth=1/0,this.lastModTime=this.lastSelTime=0,this.lastOp=this.lastSelOp=null,this.lastOrigin=this.lastSelOrigin=null,this.generation=this.maxGeneration=e||1}function ni(e,t){var n={from:G(t.from),to:qa(t),text:Kr(e,t.from,t.to)};return ui(e,n,t.from.line,t.to.line+1),qr(e,function(e){ui(e,n,t.from.line,t.to.line+1)},!0),n}function ri(e){for(;e.length;){var t=Ti(e);if(!t.ranges)break;e.pop()}}function ii(e,t){return t?(ri(e.done),Ti(e.done)):e.done.length&&!Ti(e.done).ranges?Ti(e.done):e.done.length>1&&!e.done[e.done.length-2].ranges?(e.done.pop(),Ti(e.done)):void 0}function ai(e,t,n,r){var i=e.history;i.undone.length=0;var a,o=+new Date;if((i.lastOp==r||i.lastOrigin==t.origin&&t.origin&&("+"==t.origin.charAt(0)&&e.cm&&i.lastModTime>o-e.cm.options.historyEventDelay||"*"==t.origin.charAt(0)))&&(a=ii(i,i.lastOp==r))){var s=Ti(a.changes);0==Ra(t.from,t.to)&&0==Ra(t.from,s.to)?s.to=qa(t):a.changes.push(ni(e,t))}else{var l=Ti(i.done);for(l&&l.ranges||li(e.sel,i.done),a={changes:[ni(e,t)],generation:i.generation},i.done.push(a);i.done.length>i.undoDepth;)i.done.shift(),i.done[0].ranges||i.done.shift()}i.done.push(n),i.generation=++i.maxGeneration,i.lastModTime=i.lastSelTime=o,i.lastOp=i.lastSelOp=r,i.lastOrigin=i.lastSelOrigin=t.origin,s||_o(e,"historyAdded")}function oi(e,t,n,r){var i=t.charAt(0);return"*"==i||"+"==i&&n.ranges.length==r.ranges.length&&n.somethingSelected()==r.somethingSelected()&&new Date-e.history.lastSelTime<=(e.cm?e.cm.options.historyEventDelay:500)}function si(e,t,n,r){var i=e.history,a=r&&r.origin;n==i.lastSelOp||a&&i.lastSelOrigin==a&&(i.lastModTime==i.lastSelTime&&i.lastOrigin==a||oi(e,a,Ti(i.done),t))?i.done[i.done.length-1]=t:li(t,i.done),i.lastSelTime=+new Date,i.lastSelOrigin=a,i.lastSelOp=n,r&&r.clearRedo!==!1&&ri(i.undone)}function li(e,t){var n=Ti(t);n&&n.ranges&&n.equals(e)||t.push(e)}function ui(e,t,n,r){var i=t["spans_"+e.id],a=0;e.iter(Math.max(e.first,n),Math.min(e.first+e.size,r),function(n){n.markedSpans&&((i||(i=t["spans_"+e.id]={}))[a]=n.markedSpans),++a})}function ci(e){if(!e)return null;for(var t,n=0;n<e.length;++n)e[n].marker.explicitlyCleared?t||(t=e.slice(0,n)):t&&t.push(e[n]);return t?t.length?t:null:e}function di(e,t){var n=t["spans_"+e.id];if(!n)return null;for(var r=0,i=[];r<t.text.length;++r)i.push(ci(n[r]));return i}function fi(e,t,n){for(var r=0,i=[];r<e.length;++r){var a=e[r];if(a.ranges)i.push(n?ce.prototype.deepCopy.call(a):a);else{var o=a.changes,s=[];i.push({changes:s});for(var l=0;l<o.length;++l){var u,c=o[l];if(s.push({from:c.from,to:c.to,text:c.text}),t)for(var d in c)(u=d.match(/^spans_(\d+)$/))&&Oi(t,Number(u[1]))>-1&&(Ti(s)[d]=c[d],delete c[d])}}}return i}function pi(e,t,n,r){n<e.line?e.line+=r:t<e.line&&(e.line=t,e.ch=0)}function hi(e,t,n,r){for(var i=0;i<e.length;++i){var a=e[i],o=!0;if(a.ranges){a.copied||(a=e[i]=a.deepCopy(),a.copied=!0);for(var s=0;s<a.ranges.length;s++)pi(a.ranges[s].anchor,t,n,r),pi(a.ranges[s].head,t,n,r)}else{for(var s=0;s<a.changes.length;++s){var l=a.changes[s];if(n<l.from.line)l.from=Aa(l.from.line+r,l.from.ch),l.to=Aa(l.to.line+r,l.to.ch);else if(t<=l.to.line){o=!1;break}}o||(e.splice(0,i+1),i=0)}}}function gi(e,t){var n=t.from.line,r=t.to.line,i=t.text.length-(r-n)-1;hi(e.done,n,r,i),hi(e.undone,n,r,i)}function mi(e){return null!=e.defaultPrevented?e.defaultPrevented:0==e.returnValue}function vi(e){return e.target||e.srcElement}function yi(e){var t=e.which;return null==t&&(1&e.button?t=1:2&e.button?t=3:4&e.button&&(t=2)),Ca&&e.ctrlKey&&1==t&&(t=3),t}function bi(e,t){function n(e){return function(){e.apply(null,a)}}var r=e._handlers&&e._handlers[t];if(r){var i,a=Array.prototype.slice.call(arguments,2);Ia?i=Ia.delayedCallbacks:So?i=So:(i=So=[],setTimeout(wi,0));for(var o=0;o<r.length;++o)i.push(n(r[o]))}}function wi(){var e=So;So=null;for(var t=0;t<e.length;++t)e[t]()}function $i(e,t,n){return"string"==typeof t&&(t={type:t,preventDefault:function(){this.defaultPrevented=!0}}),_o(e,n||t.type,e,t),mi(t)||t.codemirrorIgnore}function xi(e){var t=e._handlers&&e._handlers.cursorActivity;if(t)for(var n=e.curOp.cursorActivityHandlers||(e.curOp.cursorActivityHandlers=[]),r=0;r<t.length;++r)-1==Oi(n,t[r])&&n.push(t[r])}function Ci(e,t){var n=e._handlers&&e._handlers[t];return n&&n.length>0}function Ei(e){e.prototype.on=function(e,t){Co(this,e,t)},e.prototype.off=function(e,t){Eo(this,e,t)}}function _i(){this.id=null}function Si(e,t,n){for(var r=0,i=0;;){var a=e.indexOf("	",r);-1==a&&(a=e.length);var o=a-r;if(a==e.length||i+o>=t)return r+Math.min(o,t-i);if(i+=a-r,i+=n-i%n,r=a+1,i>=t)return r}}function ki(e){for(;No.length<=e;)No.push(Ti(No)+" ");return No[e]}function Ti(e){return e[e.length-1]}function Oi(e,t){for(var n=0;n<e.length;++n)if(e[n]==t)return n;return-1}function Ai(e,t){for(var n=[],r=0;r<e.length;r++)n[r]=t(e[r],r);return n}function Ri(){}function Mi(e,t){var n;return Object.create?n=Object.create(e):(Ri.prototype=e,n=new Ri),t&&Ni(t,n),n}function Ni(e,t,n){t||(t={});for(var r in e)!e.hasOwnProperty(r)||n===!1&&t.hasOwnProperty(r)||(t[r]=e[r]);return t}function Di(e){var t=Array.prototype.slice.call(arguments,1);return function(){return e.apply(null,t)}}function Li(e,t){return t?t.source.indexOf("\\w")>-1&&Io(e)?!0:t.test(e):Io(e)}function Pi(e){for(var t in e)if(e.hasOwnProperty(t)&&e[t])return!1;return!0}function Ii(e){return e.charCodeAt(0)>=768&&Fo.test(e)}function Fi(e,t,n,r){var i=document.createElement(e);if(n&&(i.className=n),r&&(i.style.cssText=r),"string"==typeof t)i.appendChild(document.createTextNode(t));else if(t)for(var a=0;a<t.length;++a)i.appendChild(t[a]);return i}function ji(e){for(var t=e.childNodes.length;t>0;--t)e.removeChild(e.firstChild);return e}function Hi(e,t){return ji(e).appendChild(t)}function Bi(){return document.activeElement}function Vi(e){return new RegExp("(^|\\s)"+e+"(?:$|\\s)\\s*")}function Ui(e,t){for(var n=e.split(" "),r=0;r<n.length;r++)n[r]&&!Vi(n[r]).test(t)&&(t+=" "+n[r]);return t}function zi(e){if(document.body.getElementsByClassName)for(var t=document.body.getElementsByClassName("CodeMirror"),n=0;n<t.length;n++){var r=t[n].CodeMirror;r&&e(r)}}function qi(){zo||(Wi(),zo=!0)}function Wi(){var e;Co(window,"resize",function(){null==e&&(e=setTimeout(function(){e=null,zi(Vt)},100))}),Co(window,"blur",function(){zi(hn)})}function Gi(e){if(null==Ho){var t=Fi("span","​");Hi(e,Fi("span",[t,document.createTextNode("x")])),0!=e.firstChild.offsetHeight&&(Ho=t.offsetWidth<=1&&t.offsetHeight>2&&!(fa&&8>pa))}var n=Ho?Fi("span","​"):Fi("span"," ",null,"display: inline-block; width: 1px; margin-right: -1px");
return n.setAttribute("cm-text",""),n}function Ki(e){if(null!=Bo)return Bo;var t=Hi(e,document.createTextNode("AخA")),n=Lo(t,0,1).getBoundingClientRect();if(!n||n.left==n.right)return!1;var r=Lo(t,1,2).getBoundingClientRect();return Bo=r.right-n.right<3}function Yi(e){if(null!=Yo)return Yo;var t=Hi(e,Fi("span","x")),n=t.getBoundingClientRect(),r=Lo(t,0,1).getBoundingClientRect();return Yo=Math.abs(n.left-r.left)>1}function Xi(e,t,n,r){if(!e)return r(t,n,"ltr");for(var i=!1,a=0;a<e.length;++a){var o=e[a];(o.from<n&&o.to>t||t==n&&o.to==t)&&(r(Math.max(o.from,t),Math.min(o.to,n),1==o.level?"rtl":"ltr"),i=!0)}i||r(t,n,"ltr")}function Qi(e){return e.level%2?e.to:e.from}function Ji(e){return e.level%2?e.from:e.to}function Zi(e){var t=ei(e);return t?Qi(t[0]):0}function ea(e){var t=ei(e);return t?Ji(Ti(t)):e.text.length}function ta(e,t){var n=Gr(e.doc,t),r=hr(n);r!=n&&(t=Qr(r));var i=ei(r),a=i?i[0].level%2?ea(r):Zi(r):0;return Aa(t,a)}function na(e,t){for(var n,r=Gr(e.doc,t);n=fr(r);)r=n.find(1,!0).line,t=null;var i=ei(r),a=i?i[0].level%2?Zi(r):ea(r):r.text.length;return Aa(null==t?Qr(r):t,a)}function ra(e,t){var n=ta(e,t.line),r=Gr(e.doc,n.line),i=ei(r);if(!i||0==i[0].level){var a=Math.max(0,r.text.search(/\S/)),o=t.line==n.line&&t.ch<=a&&t.ch;return Aa(n.line,o?0:a)}return n}function ia(e,t,n){var r=e[0].level;return t==r?!0:n==r?!1:n>t}function aa(e,t){Qo=null;for(var n,r=0;r<e.length;++r){var i=e[r];if(i.from<t&&i.to>t)return r;if(i.from==t||i.to==t){if(null!=n)return ia(e,i.level,e[n].level)?(i.from!=i.to&&(Qo=n),r):(i.from!=i.to&&(Qo=r),n);n=r}}return n}function oa(e,t,n,r){if(!r)return t+n;do t+=n;while(t>0&&Ii(e.text.charAt(t)));return t}function sa(e,t,n,r){var i=ei(e);if(!i)return la(e,t,n,r);for(var a=aa(i,t),o=i[a],s=oa(e,t,o.level%2?-n:n,r);;){if(s>o.from&&s<o.to)return s;if(s==o.from||s==o.to)return aa(i,s)==a?s:(o=i[a+=n],n>0==o.level%2?o.to:o.from);if(o=i[a+=n],!o)return null;s=n>0==o.level%2?oa(e,o.to,-1,r):oa(e,o.from,1,r)}}function la(e,t,n,r){var i=t+n;if(r)for(;i>0&&Ii(e.text.charAt(i));)i+=n;return 0>i||i>e.text.length?null:i}var ua=/gecko\/\d/i.test(navigator.userAgent),ca=/MSIE \d/.test(navigator.userAgent),da=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent),fa=ca||da,pa=fa&&(ca?document.documentMode||6:da[1]),ha=/WebKit\//.test(navigator.userAgent),ga=ha&&/Qt\/\d+\.\d+/.test(navigator.userAgent),ma=/Chrome\//.test(navigator.userAgent),va=/Opera\//.test(navigator.userAgent),ya=/Apple Computer/.test(navigator.vendor),ba=/Mac OS X 1\d\D([8-9]|\d\d)\D/.test(navigator.userAgent),wa=/PhantomJS/.test(navigator.userAgent),$a=/AppleWebKit/.test(navigator.userAgent)&&/Mobile\/\w+/.test(navigator.userAgent),xa=$a||/Android|webOS|BlackBerry|Opera Mini|Opera Mobi|IEMobile/i.test(navigator.userAgent),Ca=$a||/Mac/.test(navigator.platform),Ea=/win/i.test(navigator.platform),_a=va&&navigator.userAgent.match(/Version\/(\d*\.\d*)/);_a&&(_a=Number(_a[1])),_a&&_a>=15&&(va=!1,ha=!0);var Sa=Ca&&(ga||va&&(null==_a||12.11>_a)),ka=ua||fa&&pa>=9,Ta=!1,Oa=!1;g.prototype=Ni({update:function(e){var t=e.scrollWidth>e.clientWidth+1,n=e.scrollHeight>e.clientHeight+1,r=e.nativeBarWidth;if(n){this.vert.style.display="block",this.vert.style.bottom=t?r+"px":"0";var i=e.viewHeight-(t?r:0);this.vert.firstChild.style.height=Math.max(0,e.scrollHeight-e.clientHeight+i)+"px"}else this.vert.style.display="",this.vert.firstChild.style.height="0";if(t){this.horiz.style.display="block",this.horiz.style.right=n?r+"px":"0",this.horiz.style.left=e.barLeft+"px";var a=e.viewWidth-e.barLeft-(n?r:0);this.horiz.firstChild.style.width=e.scrollWidth-e.clientWidth+a+"px"}else this.horiz.style.display="",this.horiz.firstChild.style.width="0";return!this.checkedOverlay&&e.clientHeight>0&&(0==r&&this.overlayHack(),this.checkedOverlay=!0),{right:n?r:0,bottom:t?r:0}},setScrollLeft:function(e){this.horiz.scrollLeft!=e&&(this.horiz.scrollLeft=e)},setScrollTop:function(e){this.vert.scrollTop!=e&&(this.vert.scrollTop=e)},overlayHack:function(){var e=Ca&&!ba?"12px":"18px";this.horiz.style.minHeight=this.vert.style.minWidth=e;var t=this,n=function(e){vi(e)!=t.vert&&vi(e)!=t.horiz&&Tt(t.cm,qt)(e)};Co(this.vert,"mousedown",n),Co(this.horiz,"mousedown",n)},clear:function(){var e=this.horiz.parentNode;e.removeChild(this.horiz),e.removeChild(this.vert)}},g.prototype),m.prototype=Ni({update:function(){return{bottom:0,right:0}},setScrollLeft:function(){},setScrollTop:function(){},clear:function(){}},m.prototype),e.scrollbarModel={"native":g,"null":m},_.prototype.signal=function(e,t){Ci(e,t)&&this.events.push(arguments)},_.prototype.finish=function(){for(var e=0;e<this.events.length;e++)_o.apply(null,this.events[e])};var Aa=e.Pos=function(e,t){return this instanceof Aa?(this.line=e,void(this.ch=t)):new Aa(e,t)},Ra=e.cmpPos=function(e,t){return e.line-t.line||e.ch-t.ch},Ma=null;ne.prototype=Ni({init:function(e){function t(e){if(r.somethingSelected())Ma=r.getSelections(),n.inaccurateSelection&&(n.prevInput="",n.inaccurateSelection=!1,a.value=Ma.join("\n"),Do(a));else{if(!r.options.lineWiseCopyCut)return;var t=ee(r);Ma=t.text,"cut"==e.type?r.setSelections(t.ranges,null,Oo):(n.prevInput="",a.value=t.text.join("\n"),Do(a))}"cut"==e.type&&(r.state.cutIncoming=!0)}var n=this,r=this.cm,i=this.wrapper=re(),a=this.textarea=i.firstChild;e.wrapper.insertBefore(i,e.wrapper.firstChild),$a&&(a.style.width="0px"),Co(a,"input",function(){fa&&pa>=9&&n.hasSelection&&(n.hasSelection=null),n.poll()}),Co(a,"paste",function(){if(ha&&!r.state.fakedLastChar&&!(new Date-r.state.lastMiddleDown<200)){var e=a.selectionStart,t=a.selectionEnd;a.value+="$",a.selectionEnd=t,a.selectionStart=e,r.state.fakedLastChar=!0}r.state.pasteIncoming=!0,n.fastPoll()}),Co(a,"cut",t),Co(a,"copy",t),Co(e.scroller,"paste",function(t){Ut(e,t)||(r.state.pasteIncoming=!0,n.focus())}),Co(e.lineSpace,"selectstart",function(t){Ut(e,t)||wo(t)}),Co(a,"compositionstart",function(){var e=r.getCursor("from");n.composing={start:e,range:r.markText(e,r.getCursor("to"),{className:"CodeMirror-composing"})}}),Co(a,"compositionend",function(){n.composing&&(n.poll(),n.composing.range.clear(),n.composing=null)})},prepareSelection:function(){var e=this.cm,t=e.display,n=e.doc,r=Ne(e);if(e.options.moveInputWithCursor){var i=dt(e,n.sel.primary().head,"div"),a=t.wrapper.getBoundingClientRect(),o=t.lineDiv.getBoundingClientRect();r.teTop=Math.max(0,Math.min(t.wrapper.clientHeight-10,i.top+o.top-a.top)),r.teLeft=Math.max(0,Math.min(t.wrapper.clientWidth-10,i.left+o.left-a.left))}return r},showSelection:function(e){var t=this.cm,n=t.display;Hi(n.cursorDiv,e.cursors),Hi(n.selectionDiv,e.selection),null!=e.teTop&&(this.wrapper.style.top=e.teTop+"px",this.wrapper.style.left=e.teLeft+"px")},reset:function(e){if(!this.contextMenuPending){var t,n,r=this.cm,i=r.doc;if(r.somethingSelected()){this.prevInput="";var a=i.sel.primary();t=Ko&&(a.to().line-a.from().line>100||(n=r.getSelection()).length>1e3);var o=t?"-":n||r.getSelection();this.textarea.value=o,r.state.focused&&Do(this.textarea),fa&&pa>=9&&(this.hasSelection=o)}else e||(this.prevInput=this.textarea.value="",fa&&pa>=9&&(this.hasSelection=null));this.inaccurateSelection=t}},getField:function(){return this.textarea},supportsTouch:function(){return!1},focus:function(){if("nocursor"!=this.cm.options.readOnly&&(!xa||Bi()!=this.textarea))try{this.textarea.focus()}catch(e){}},blur:function(){this.textarea.blur()},resetPosition:function(){this.wrapper.style.top=this.wrapper.style.left=0},receivedFocus:function(){this.slowPoll()},slowPoll:function(){var e=this;e.pollingFast||e.polling.set(this.cm.options.pollInterval,function(){e.poll(),e.cm.state.focused&&e.slowPoll()})},fastPoll:function(){function e(){var r=n.poll();r||t?(n.pollingFast=!1,n.slowPoll()):(t=!0,n.polling.set(60,e))}var t=!1,n=this;n.pollingFast=!0,n.polling.set(20,e)},poll:function(){var e=this.cm,t=this.textarea,n=this.prevInput;if(!e.state.focused||Go(t)&&!n||Q(e)||e.options.disableInput||e.state.keySeq)return!1;e.state.pasteIncoming&&e.state.fakedLastChar&&(t.value=t.value.substring(0,t.value.length-1),e.state.fakedLastChar=!1);var r=t.value;if(r==n&&!e.somethingSelected())return!1;if(fa&&pa>=9&&this.hasSelection===r||Ca&&/[\uf700-\uf7ff]/.test(r))return e.display.input.reset(),!1;if(e.doc.sel==e.display.selForContextMenu){var i=r.charCodeAt(0);if(8203!=i||n||(n="​"),8666==i)return this.reset(),this.cm.execCommand("undo")}for(var a=0,o=Math.min(n.length,r.length);o>a&&n.charCodeAt(a)==r.charCodeAt(a);)++a;var s=this;return kt(e,function(){J(e,r.slice(a),n.length-a,null,s.composing?"*compose":null),r.length>1e3||r.indexOf("\n")>-1?t.value=s.prevInput="":s.prevInput=r,s.composing&&(s.composing.range.clear(),s.composing.range=e.markText(s.composing.start,e.getCursor("to"),{className:"CodeMirror-composing"}))}),!0},ensurePolled:function(){this.pollingFast&&this.poll()&&(this.pollingFast=!1)},onKeyPress:function(){fa&&pa>=9&&(this.hasSelection=null),this.fastPoll()},onContextMenu:function(e){function t(){if(null!=o.selectionStart){var e=i.somethingSelected(),t="​"+(e?o.value:"");o.value="⇚",o.value=t,r.prevInput=e?"":"​",o.selectionStart=1,o.selectionEnd=t.length,a.selForContextMenu=i.doc.sel}}function n(){if(r.contextMenuPending=!1,r.wrapper.style.position="relative",o.style.cssText=c,fa&&9>pa&&a.scrollbars.setScrollTop(a.scroller.scrollTop=l),null!=o.selectionStart){(!fa||fa&&9>pa)&&t();var e=0,n=function(){a.selForContextMenu==i.doc.sel&&0==o.selectionStart&&o.selectionEnd>0&&"​"==r.prevInput?Tt(i,no.selectAll)(i):e++<10?a.detectingSelectAll=setTimeout(n,500):a.input.reset()};a.detectingSelectAll=setTimeout(n,200)}}var r=this,i=r.cm,a=i.display,o=r.textarea,s=zt(i,e),l=a.scroller.scrollTop;if(s&&!va){var u=i.options.resetSelectionOnContextMenu;u&&-1==i.doc.sel.contains(s)&&Tt(i,Se)(i.doc,pe(s),Oo);var c=o.style.cssText;if(r.wrapper.style.position="absolute",o.style.cssText="position: fixed; width: 30px; height: 30px; top: "+(e.clientY-5)+"px; left: "+(e.clientX-5)+"px; z-index: 1000; background: "+(fa?"rgba(255, 255, 255, .05)":"transparent")+"; outline: none; border-width: 0; outline: none; overflow: hidden; opacity: .05; filter: alpha(opacity=5);",ha)var d=window.scrollY;if(a.input.focus(),ha&&window.scrollTo(null,d),a.input.reset(),i.somethingSelected()||(o.value=r.prevInput=" "),r.contextMenuPending=!0,a.selForContextMenu=i.doc.sel,clearTimeout(a.detectingSelectAll),fa&&pa>=9&&t(),ka){xo(e);var f=function(){Eo(window,"mouseup",f),setTimeout(n,20)};Co(window,"mouseup",f)}else setTimeout(n,50)}},setUneditable:Ri,needsContentAttribute:!1},ne.prototype),ie.prototype=Ni({init:function(e){function t(e){if(r.somethingSelected())Ma=r.getSelections(),"cut"==e.type&&r.replaceSelection("",null,"cut");else{if(!r.options.lineWiseCopyCut)return;var t=ee(r);Ma=t.text,"cut"==e.type&&r.operation(function(){r.setSelections(t.ranges,0,Oo),r.replaceSelection("",null,"cut")})}if(e.clipboardData&&!$a)e.preventDefault(),e.clipboardData.clearData(),e.clipboardData.setData("text/plain",Ma.join("\n"));else{var n=re(),i=n.firstChild;r.display.lineSpace.insertBefore(n,r.display.lineSpace.firstChild),i.value=Ma.join("\n");var a=document.activeElement;Do(i),setTimeout(function(){r.display.lineSpace.removeChild(n),a.focus()},50)}}var n=this,r=n.cm,i=n.div=e.lineDiv;i.contentEditable="true",te(i),Co(i,"paste",function(e){var t=e.clipboardData&&e.clipboardData.getData("text/plain");t&&(e.preventDefault(),r.replaceSelection(t,null,"paste"))}),Co(i,"compositionstart",function(e){var t=e.data;if(n.composing={sel:r.doc.sel,data:t,startData:t},t){var i=r.doc.sel.primary(),a=r.getLine(i.head.line),o=a.indexOf(t,Math.max(0,i.head.ch-t.length));o>-1&&o<=i.head.ch&&(n.composing.sel=pe(Aa(i.head.line,o),Aa(i.head.line,o+t.length)))}}),Co(i,"compositionupdate",function(e){n.composing.data=e.data}),Co(i,"compositionend",function(e){var t=n.composing;t&&(e.data==t.startData||/\u200b/.test(e.data)||(t.data=e.data),setTimeout(function(){t.handled||n.applyComposition(t),n.composing==t&&(n.composing=null)},50))}),Co(i,"touchstart",function(){n.forceCompositionEnd()}),Co(i,"input",function(){n.composing||n.pollContent()||kt(n.cm,function(){Nt(r)})}),Co(i,"copy",t),Co(i,"cut",t)},prepareSelection:function(){var e=Ne(this.cm,!1);return e.focus=this.cm.state.focused,e},showSelection:function(e){e&&this.cm.display.view.length&&(e.focus&&this.showPrimarySelection(),this.showMultipleSelections(e))},showPrimarySelection:function(){var e=window.getSelection(),t=this.cm.doc.sel.primary(),n=se(this.cm,e.anchorNode,e.anchorOffset),r=se(this.cm,e.focusNode,e.focusOffset);if(!n||n.bad||!r||r.bad||0!=Ra(Y(n,r),t.from())||0!=Ra(K(n,r),t.to())){var i=ae(this.cm,t.from()),a=ae(this.cm,t.to());if(i||a){var o=this.cm.display.view,s=e.rangeCount&&e.getRangeAt(0);if(i){if(!a){var l=o[o.length-1].measure,u=l.maps?l.maps[l.maps.length-1]:l.map;a={node:u[u.length-1],offset:u[u.length-2]-u[u.length-3]}}}else i={node:o[0].measure.map[2],offset:0};try{var c=Lo(i.node,i.offset,a.offset,a.node)}catch(d){}c&&(e.removeAllRanges(),e.addRange(c),s&&null==e.anchorNode?e.addRange(s):ua&&this.startGracePeriod()),this.rememberSelection()}}},startGracePeriod:function(){var e=this;clearTimeout(this.gracePeriod),this.gracePeriod=setTimeout(function(){e.gracePeriod=!1,e.selectionChanged()&&e.cm.operation(function(){e.cm.curOp.selectionChanged=!0})},20)},showMultipleSelections:function(e){Hi(this.cm.display.cursorDiv,e.cursors),Hi(this.cm.display.selectionDiv,e.selection)},rememberSelection:function(){var e=window.getSelection();this.lastAnchorNode=e.anchorNode,this.lastAnchorOffset=e.anchorOffset,this.lastFocusNode=e.focusNode,this.lastFocusOffset=e.focusOffset},selectionInEditor:function(){var e=window.getSelection();if(!e.rangeCount)return!1;var t=e.getRangeAt(0).commonAncestorContainer;return jo(this.div,t)},focus:function(){"nocursor"!=this.cm.options.readOnly&&this.div.focus()},blur:function(){this.div.blur()},getField:function(){return this.div},supportsTouch:function(){return!0},receivedFocus:function(){function e(){t.cm.state.focused&&(t.pollSelection(),t.polling.set(t.cm.options.pollInterval,e))}var t=this;this.selectionInEditor()?this.pollSelection():kt(this.cm,function(){t.cm.curOp.selectionChanged=!0}),this.polling.set(this.cm.options.pollInterval,e)},selectionChanged:function(){var e=window.getSelection();return e.anchorNode!=this.lastAnchorNode||e.anchorOffset!=this.lastAnchorOffset||e.focusNode!=this.lastFocusNode||e.focusOffset!=this.lastFocusOffset},pollSelection:function(){if(!this.composing&&!this.gracePeriod&&this.selectionChanged()){var e=window.getSelection(),t=this.cm;this.rememberSelection();var n=se(t,e.anchorNode,e.anchorOffset),r=se(t,e.focusNode,e.focusOffset);n&&r&&kt(t,function(){Se(t.doc,pe(n,r),Oo),(n.bad||r.bad)&&(t.curOp.selectionChanged=!0)})}},pollContent:function(){var e=this.cm,t=e.display,n=e.doc.sel.primary(),r=n.from(),i=n.to();if(r.line<t.viewFrom||i.line>t.viewTo-1)return!1;var a;if(r.line==t.viewFrom||0==(a=Pt(e,r.line)))var o=Qr(t.view[0].line),s=t.view[0].node;else var o=Qr(t.view[a].line),s=t.view[a-1].node.nextSibling;var l=Pt(e,i.line);if(l==t.view.length-1)var u=t.viewTo-1,c=t.view[l].node;else var u=Qr(t.view[l+1].line)-1,c=t.view[l+1].node.previousSibling;for(var d=Wo(ue(e,s,c,o,u)),f=Kr(e.doc,Aa(o,0),Aa(u,Gr(e.doc,u).text.length));d.length>1&&f.length>1;)if(Ti(d)==Ti(f))d.pop(),f.pop(),u--;else{if(d[0]!=f[0])break;d.shift(),f.shift(),o++}for(var p=0,h=0,g=d[0],m=f[0],v=Math.min(g.length,m.length);v>p&&g.charCodeAt(p)==m.charCodeAt(p);)++p;for(var y=Ti(d),b=Ti(f),w=Math.min(y.length-(1==d.length?p:0),b.length-(1==f.length?p:0));w>h&&y.charCodeAt(y.length-h-1)==b.charCodeAt(b.length-h-1);)++h;d[d.length-1]=y.slice(0,y.length-h),d[0]=d[0].slice(p);var $=Aa(o,p),x=Aa(u,f.length?Ti(f).length-h:0);return d.length>1||d[0]||Ra($,x)?(Tn(e.doc,d,$,x,"+input"),!0):void 0},ensurePolled:function(){this.forceCompositionEnd()},reset:function(){this.forceCompositionEnd()},forceCompositionEnd:function(){this.composing&&!this.composing.handled&&(this.applyComposition(this.composing),this.composing.handled=!0,this.div.blur(),this.div.focus())},applyComposition:function(e){e.data&&e.data!=e.startData&&Tt(this.cm,J)(this.cm,e.data,0,e.sel)},setUneditable:function(e){e.setAttribute("contenteditable","false")},onKeyPress:function(e){e.preventDefault(),Tt(this.cm,J)(this.cm,String.fromCharCode(null==e.charCode?e.keyCode:e.charCode),0)},onContextMenu:Ri,resetPosition:Ri,needsContentAttribute:!0},ie.prototype),e.inputStyles={textarea:ne,contenteditable:ie},ce.prototype={primary:function(){return this.ranges[this.primIndex]},equals:function(e){if(e==this)return!0;if(e.primIndex!=this.primIndex||e.ranges.length!=this.ranges.length)return!1;for(var t=0;t<this.ranges.length;t++){var n=this.ranges[t],r=e.ranges[t];if(0!=Ra(n.anchor,r.anchor)||0!=Ra(n.head,r.head))return!1}return!0},deepCopy:function(){for(var e=[],t=0;t<this.ranges.length;t++)e[t]=new de(G(this.ranges[t].anchor),G(this.ranges[t].head));return new ce(e,this.primIndex)},somethingSelected:function(){for(var e=0;e<this.ranges.length;e++)if(!this.ranges[e].empty())return!0;return!1},contains:function(e,t){t||(t=e);for(var n=0;n<this.ranges.length;n++){var r=this.ranges[n];if(Ra(t,r.from())>=0&&Ra(e,r.to())<=0)return n}return-1}},de.prototype={from:function(){return Y(this.anchor,this.head)},to:function(){return K(this.anchor,this.head)},empty:function(){return this.head.line==this.anchor.line&&this.head.ch==this.anchor.ch}};var Na,Da,La,Pa={left:0,right:0,top:0,bottom:0},Ia=null,Fa=0,ja=0,Ha=0,Ba=null;fa?Ba=-.53:ua?Ba=15:ma?Ba=-.7:ya&&(Ba=-1/3);var Va=function(e){var t=e.wheelDeltaX,n=e.wheelDeltaY;return null==t&&e.detail&&e.axis==e.HORIZONTAL_AXIS&&(t=e.detail),null==n&&e.detail&&e.axis==e.VERTICAL_AXIS?n=e.detail:null==n&&(n=e.wheelDelta),{x:t,y:n}};e.wheelEventPixels=function(e){var t=Va(e);return t.x*=Ba,t.y*=Ba,t};var Ua=new _i,za=null,qa=e.changeEnd=function(e){return e.text?Aa(e.from.line+e.text.length-1,Ti(e.text).length+(1==e.text.length?e.from.ch:0)):e.to};e.prototype={constructor:e,focus:function(){window.focus(),this.display.input.focus()},setOption:function(e,t){var n=this.options,r=n[e];(n[e]!=t||"mode"==e)&&(n[e]=t,Ga.hasOwnProperty(e)&&Tt(this,Ga[e])(this,t,r))},getOption:function(e){return this.options[e]},getDoc:function(){return this.doc},addKeyMap:function(e,t){this.state.keyMaps[t?"push":"unshift"](Un(e))},removeKeyMap:function(e){for(var t=this.state.keyMaps,n=0;n<t.length;++n)if(t[n]==e||t[n].name==e)return t.splice(n,1),!0},addOverlay:Ot(function(t,n){var r=t.token?t:e.getMode(this.options,t);if(r.startState)throw new Error("Overlays may not be stateful.");this.state.overlays.push({mode:r,modeSpec:t,opaque:n&&n.opaque}),this.state.modeGen++,Nt(this)}),removeOverlay:Ot(function(e){for(var t=this.state.overlays,n=0;n<t.length;++n){var r=t[n].modeSpec;if(r==e||"string"==typeof e&&r.name==e)return t.splice(n,1),this.state.modeGen++,void Nt(this)}}),indentLine:Ot(function(e,t,n){"string"!=typeof t&&"number"!=typeof t&&(t=null==t?this.options.smartIndent?"smart":"prev":t?"add":"subtract"),ve(this.doc,e)&&Pn(this,e,t,n)}),indentSelection:Ot(function(e){for(var t=this.doc.sel.ranges,n=-1,r=0;r<t.length;r++){var i=t[r];if(i.empty())i.head.line>n&&(Pn(this,i.head.line,e,!0),n=i.head.line,r==this.doc.sel.primIndex&&Dn(this));else{var a=i.from(),o=i.to(),s=Math.max(n,a.line);n=Math.min(this.lastLine(),o.line-(o.ch?0:1))+1;for(var l=s;n>l;++l)Pn(this,l,e);var u=this.doc.sel.ranges;0==a.ch&&t.length==u.length&&u[r].from().ch>0&&xe(this.doc,r,new de(a,u[r].to()),Oo)}}}),getTokenAt:function(e,t){return Tr(this,e,t)},getLineTokens:function(e,t){return Tr(this,Aa(e),t,!0)},getTokenTypeAt:function(e){e=ge(this.doc,e);var t,n=Rr(this,Gr(this.doc,e.line)),r=0,i=(n.length-1)/2,a=e.ch;if(0==a)t=n[2];else for(;;){var o=r+i>>1;if((o?n[2*o-1]:0)>=a)i=o;else{if(!(n[2*o+1]<a)){t=n[2*o+2];break}r=o+1}}var s=t?t.indexOf("cm-overlay "):-1;return 0>s?t:0==s?null:t.slice(0,s-1)},getModeAt:function(t){var n=this.doc.mode;return n.innerMode?e.innerMode(n,this.getTokenAt(t).state).mode:n},getHelper:function(e,t){return this.getHelpers(e,t)[0]},getHelpers:function(e,t){var n=[];if(!Za.hasOwnProperty(t))return n;var r=Za[t],i=this.getModeAt(e);if("string"==typeof i[t])r[i[t]]&&n.push(r[i[t]]);else if(i[t])for(var a=0;a<i[t].length;a++){var o=r[i[t][a]];o&&n.push(o)}else i.helperType&&r[i.helperType]?n.push(r[i.helperType]):r[i.name]&&n.push(r[i.name]);for(var a=0;a<r._global.length;a++){var s=r._global[a];s.pred(i,this)&&-1==Oi(n,s.val)&&n.push(s.val)}return n},getStateAfter:function(e,t){var n=this.doc;return e=he(n,null==e?n.first+n.size-1:e),He(this,e+1,t)},cursorCoords:function(e,t){var n,r=this.doc.sel.primary();return n=null==e?r.head:"object"==typeof e?ge(this.doc,e):e?r.from():r.to(),dt(this,n,t||"page")},charCoords:function(e,t){return ct(this,ge(this.doc,e),t||"page")},coordsChar:function(e,t){return e=ut(this,e,t||"page"),ht(this,e.left,e.top)},lineAtHeight:function(e,t){return e=ut(this,{top:e,left:0},t||"page").top,Jr(this.doc,e+this.display.viewOffset)},heightAtLine:function(e,t){var n,r=!1;if("number"==typeof e){var i=this.doc.first+this.doc.size-1;e<this.doc.first?e=this.doc.first:e>i&&(e=i,r=!0),n=Gr(this.doc,e)}else n=e;return lt(this,n,{top:0,left:0},t||"page").top+(r?this.doc.height-Zr(n):0)},defaultTextHeight:function(){return mt(this.display)},defaultCharWidth:function(){return vt(this.display)},setGutterMarker:Ot(function(e,t,n){return In(this.doc,e,"gutter",function(e){var r=e.gutterMarkers||(e.gutterMarkers={});return r[t]=n,!n&&Pi(r)&&(e.gutterMarkers=null),!0})}),clearGutter:Ot(function(e){var t=this,n=t.doc,r=n.first;n.iter(function(n){n.gutterMarkers&&n.gutterMarkers[e]&&(n.gutterMarkers[e]=null,Dt(t,r,"gutter"),Pi(n.gutterMarkers)&&(n.gutterMarkers=null)),++r})}),lineInfo:function(e){if("number"==typeof e){if(!ve(this.doc,e))return null;var t=e;if(e=Gr(this.doc,e),!e)return null}else{var t=Qr(e);if(null==t)return null}return{line:t,handle:e,text:e.text,gutterMarkers:e.gutterMarkers,textClass:e.textClass,bgClass:e.bgClass,wrapClass:e.wrapClass,widgets:e.widgets}},getViewport:function(){return{from:this.display.viewFrom,to:this.display.viewTo}},addWidget:function(e,t,n,r,i){var a=this.display;e=dt(this,ge(this.doc,e));var o=e.bottom,s=e.left;if(t.style.position="absolute",t.setAttribute("cm-ignore-events","true"),this.display.input.setUneditable(t),a.sizer.appendChild(t),"over"==r)o=e.top;else if("above"==r||"near"==r){var l=Math.max(a.wrapper.clientHeight,this.doc.height),u=Math.max(a.sizer.clientWidth,a.lineSpace.clientWidth);("above"==r||e.bottom+t.offsetHeight>l)&&e.top>t.offsetHeight?o=e.top-t.offsetHeight:e.bottom+t.offsetHeight<=l&&(o=e.bottom),s+t.offsetWidth>u&&(s=u-t.offsetWidth)}t.style.top=o+"px",t.style.left=t.style.right="","right"==i?(s=a.sizer.clientWidth-t.offsetWidth,t.style.right="0px"):("left"==i?s=0:"middle"==i&&(s=(a.sizer.clientWidth-t.offsetWidth)/2),t.style.left=s+"px"),n&&Rn(this,s,o,s+t.offsetWidth,o+t.offsetHeight)},triggerOnKeyDown:Ot(ln),triggerOnKeyPress:Ot(dn),triggerOnKeyUp:cn,execCommand:function(e){return no.hasOwnProperty(e)?no[e](this):void 0},triggerElectric:Ot(function(e){Z(this,e)}),findPosH:function(e,t,n,r){var i=1;0>t&&(i=-1,t=-t);for(var a=0,o=ge(this.doc,e);t>a&&(o=jn(this.doc,o,i,n,r),!o.hitSide);++a);return o},moveH:Ot(function(e,t){var n=this;n.extendSelectionsBy(function(r){return n.display.shift||n.doc.extend||r.empty()?jn(n.doc,r.head,e,t,n.options.rtlMoveVisually):0>e?r.from():r.to()},Ro)}),deleteH:Ot(function(e,t){var n=this.doc.sel,r=this.doc;n.somethingSelected()?r.replaceSelection("",null,"+delete"):Fn(this,function(n){var i=jn(r,n.head,e,t,!1);return 0>e?{from:i,to:n.head}:{from:n.head,to:i}})}),findPosV:function(e,t,n,r){var i=1,a=r;0>t&&(i=-1,t=-t);for(var o=0,s=ge(this.doc,e);t>o;++o){var l=dt(this,s,"div");if(null==a?a=l.left:l.left=a,s=Hn(this,l,i,n),s.hitSide)break}return s},moveV:Ot(function(e,t){var n=this,r=this.doc,i=[],a=!n.display.shift&&!r.extend&&r.sel.somethingSelected();if(r.extendSelectionsBy(function(o){if(a)return 0>e?o.from():o.to();var s=dt(n,o.head,"div");null!=o.goalColumn&&(s.left=o.goalColumn),i.push(s.left);var l=Hn(n,s,e,t);return"page"==t&&o==r.sel.primary()&&Nn(n,null,ct(n,l,"div").top-s.top),l},Ro),i.length)for(var o=0;o<r.sel.ranges.length;o++)r.sel.ranges[o].goalColumn=i[o]}),findWordAt:function(e){var t=this.doc,n=Gr(t,e.line).text,r=e.ch,i=e.ch;if(n){var a=this.getHelper(e,"wordChars");(e.xRel<0||i==n.length)&&r?--r:++i;for(var o=n.charAt(r),s=Li(o,a)?function(e){return Li(e,a)}:/\s/.test(o)?function(e){return/\s/.test(e)}:function(e){return!/\s/.test(e)&&!Li(e)};r>0&&s(n.charAt(r-1));)--r;for(;i<n.length&&s(n.charAt(i));)++i}return new de(Aa(e.line,r),Aa(e.line,i))},toggleOverwrite:function(e){(null==e||e!=this.state.overwrite)&&((this.state.overwrite=!this.state.overwrite)?Uo(this.display.cursorDiv,"CodeMirror-overwrite"):Vo(this.display.cursorDiv,"CodeMirror-overwrite"),_o(this,"overwriteToggle",this,this.state.overwrite))},hasFocus:function(){return this.display.input.getField()==Bi()},scrollTo:Ot(function(e,t){(null!=e||null!=t)&&Ln(this),null!=e&&(this.curOp.scrollLeft=e),null!=t&&(this.curOp.scrollTop=t)}),getScrollInfo:function(){var e=this.display.scroller;return{left:e.scrollLeft,top:e.scrollTop,height:e.scrollHeight-ze(this)-this.display.barHeight,width:e.scrollWidth-ze(this)-this.display.barWidth,clientHeight:We(this),clientWidth:qe(this)}},scrollIntoView:Ot(function(e,t){if(null==e?(e={from:this.doc.sel.primary().head,to:null},null==t&&(t=this.options.cursorScrollMargin)):"number"==typeof e?e={from:Aa(e,0),to:null}:null==e.from&&(e={from:e,to:null}),e.to||(e.to=e.from),e.margin=t||0,null!=e.from.line)Ln(this),this.curOp.scrollToPos=e;else{var n=Mn(this,Math.min(e.from.left,e.to.left),Math.min(e.from.top,e.to.top)-e.margin,Math.max(e.from.right,e.to.right),Math.max(e.from.bottom,e.to.bottom)+e.margin);this.scrollTo(n.scrollLeft,n.scrollTop)}}),setSize:Ot(function(e,t){function n(e){return"number"==typeof e||/^\d+$/.test(String(e))?e+"px":e}var r=this;null!=e&&(r.display.wrapper.style.width=n(e)),null!=t&&(r.display.wrapper.style.height=n(t)),r.options.lineWrapping&&it(this);var i=r.display.viewFrom;r.doc.iter(i,r.display.viewTo,function(e){if(e.widgets)for(var t=0;t<e.widgets.length;t++)if(e.widgets[t].noHScroll){Dt(r,i,"widget");break}++i}),r.curOp.forceUpdate=!0,_o(r,"refresh",this)}),operation:function(e){return kt(this,e)},refresh:Ot(function(){var e=this.display.cachedTextHeight;Nt(this),this.curOp.forceUpdate=!0,at(this),this.scrollTo(this.doc.scrollLeft,this.doc.scrollTop),c(this),(null==e||Math.abs(e-mt(this.display))>.5)&&o(this),_o(this,"refresh",this)}),swapDoc:Ot(function(e){var t=this.doc;return t.cm=null,Wr(this,e),at(this),this.display.input.reset(),this.scrollTo(e.scrollLeft,e.scrollTop),this.curOp.forceScroll=!0,bi(this,"swapDoc",this,t),t}),getInputField:function(){return this.display.input.getField()},getWrapperElement:function(){return this.display.wrapper},getScrollerElement:function(){return this.display.scroller},getGutterElement:function(){return this.display.gutters}},Ei(e);var Wa=e.defaults={},Ga=e.optionHandlers={},Ka=e.Init={toString:function(){return"CodeMirror.Init"}};Bn("value","",function(e,t){e.setValue(t)},!0),Bn("mode",null,function(e,t){e.doc.modeOption=t,n(e)},!0),Bn("indentUnit",2,n,!0),Bn("indentWithTabs",!1),Bn("smartIndent",!0),Bn("tabSize",4,function(e){r(e),at(e),Nt(e)},!0),Bn("specialChars",/[\t\u0000-\u0019\u00ad\u200b-\u200f\u2028\u2029\ufeff]/g,function(t,n,r){t.state.specialChars=new RegExp(n.source+(n.test("	")?"":"|	"),"g"),r!=e.Init&&t.refresh()}),Bn("specialCharPlaceholder",Lr,function(e){e.refresh()},!0),Bn("electricChars",!0),Bn("inputStyle",xa?"contenteditable":"textarea",function(){throw new Error("inputStyle can not (yet) be changed in a running editor")},!0),Bn("rtlMoveVisually",!Ea),Bn("wholeLineUpdateBefore",!0),Bn("theme","default",function(e){s(e),l(e)},!0),Bn("keyMap","default",function(t,n,r){var i=Un(n),a=r!=e.Init&&Un(r);a&&a.detach&&a.detach(t,i),i.attach&&i.attach(t,a||null)}),Bn("extraKeys",null),Bn("lineWrapping",!1,i,!0),Bn("gutters",[],function(e){p(e.options),l(e)},!0),Bn("fixedGutter",!0,function(e,t){e.display.gutters.style.left=t?E(e.display)+"px":"0",e.refresh()},!0),Bn("coverGutterNextToScrollbar",!1,function(e){y(e)},!0),Bn("scrollbarStyle","native",function(e){v(e),y(e),e.display.scrollbars.setScrollTop(e.doc.scrollTop),e.display.scrollbars.setScrollLeft(e.doc.scrollLeft)},!0),Bn("lineNumbers",!1,function(e){p(e.options),l(e)},!0),Bn("firstLineNumber",1,l,!0),Bn("lineNumberFormatter",function(e){return e},l,!0),Bn("showCursorWhenSelecting",!1,Me,!0),Bn("resetSelectionOnContextMenu",!0),Bn("lineWiseCopyCut",!0),Bn("readOnly",!1,function(e,t){"nocursor"==t?(hn(e),e.display.input.blur(),e.display.disabled=!0):(e.display.disabled=!1,t||e.display.input.reset())}),Bn("disableInput",!1,function(e,t){t||e.display.input.reset()},!0),Bn("dragDrop",!0,Bt),Bn("cursorBlinkRate",530),Bn("cursorScrollMargin",0),Bn("cursorHeight",1,Me,!0),Bn("singleCursorHeightPerLine",!0,Me,!0),Bn("workTime",100),Bn("workDelay",100),Bn("flattenSpans",!0,r,!0),Bn("addModeClass",!1,r,!0),Bn("pollInterval",100),Bn("undoDepth",200,function(e,t){e.doc.history.undoDepth=t}),Bn("historyEventDelay",1250),Bn("viewportMargin",10,function(e){e.refresh()},!0),Bn("maxHighlightLength",1e4,r,!0),Bn("moveInputWithCursor",!0,function(e,t){t||e.display.input.resetPosition()}),Bn("tabindex",null,function(e,t){e.display.input.getField().tabIndex=t||""}),Bn("autofocus",null);var Ya=e.modes={},Xa=e.mimeModes={};e.defineMode=function(t,n){e.defaults.mode||"null"==t||(e.defaults.mode=t),arguments.length>2&&(n.dependencies=Array.prototype.slice.call(arguments,2)),Ya[t]=n},e.defineMIME=function(e,t){Xa[e]=t},e.resolveMode=function(t){if("string"==typeof t&&Xa.hasOwnProperty(t))t=Xa[t];else if(t&&"string"==typeof t.name&&Xa.hasOwnProperty(t.name)){var n=Xa[t.name];"string"==typeof n&&(n={name:n}),t=Mi(n,t),t.name=n.name}else if("string"==typeof t&&/^[\w\-]+\/[\w\-]+\+xml$/.test(t))return e.resolveMode("application/xml");return"string"==typeof t?{name:t}:t||{name:"null"}},e.getMode=function(t,n){var n=e.resolveMode(n),r=Ya[n.name];if(!r)return e.getMode(t,"text/plain");var i=r(t,n);if(Qa.hasOwnProperty(n.name)){var a=Qa[n.name];for(var o in a)a.hasOwnProperty(o)&&(i.hasOwnProperty(o)&&(i["_"+o]=i[o]),i[o]=a[o])}if(i.name=n.name,n.helperType&&(i.helperType=n.helperType),n.modeProps)for(var o in n.modeProps)i[o]=n.modeProps[o];return i},e.defineMode("null",function(){return{token:function(e){e.skipToEnd()}}}),e.defineMIME("text/plain","null");var Qa=e.modeExtensions={};e.extendMode=function(e,t){var n=Qa.hasOwnProperty(e)?Qa[e]:Qa[e]={};Ni(t,n)},e.defineExtension=function(t,n){e.prototype[t]=n},e.defineDocExtension=function(e,t){vo.prototype[e]=t},e.defineOption=Bn;var Ja=[];e.defineInitHook=function(e){Ja.push(e)};var Za=e.helpers={};e.registerHelper=function(t,n,r){Za.hasOwnProperty(t)||(Za[t]=e[t]={_global:[]}),Za[t][n]=r},e.registerGlobalHelper=function(t,n,r,i){e.registerHelper(t,n,i),Za[t]._global.push({pred:r,val:i})};var eo=e.copyState=function(e,t){if(t===!0)return t;if(e.copyState)return e.copyState(t);var n={};for(var r in t){var i=t[r];i instanceof Array&&(i=i.concat([])),n[r]=i}return n},to=e.startState=function(e,t,n){return e.startState?e.startState(t,n):!0};e.innerMode=function(e,t){for(;e.innerMode;){var n=e.innerMode(t);if(!n||n.mode==e)break;t=n.state,e=n.mode}return n||{mode:e,state:t}};var no=e.commands={selectAll:function(e){e.setSelection(Aa(e.firstLine(),0),Aa(e.lastLine()),Oo)},singleSelection:function(e){e.setSelection(e.getCursor("anchor"),e.getCursor("head"),Oo)},killLine:function(e){Fn(e,function(t){if(t.empty()){var n=Gr(e.doc,t.head.line).text.length;return t.head.ch==n&&t.head.line<e.lastLine()?{from:t.head,to:Aa(t.head.line+1,0)}:{from:t.head,to:Aa(t.head.line,n)}}return{from:t.from(),to:t.to()}})},deleteLine:function(e){Fn(e,function(t){
return{from:Aa(t.from().line,0),to:ge(e.doc,Aa(t.to().line+1,0))}})},delLineLeft:function(e){Fn(e,function(e){return{from:Aa(e.from().line,0),to:e.from()}})},delWrappedLineLeft:function(e){Fn(e,function(t){var n=e.charCoords(t.head,"div").top+5,r=e.coordsChar({left:0,top:n},"div");return{from:r,to:t.from()}})},delWrappedLineRight:function(e){Fn(e,function(t){var n=e.charCoords(t.head,"div").top+5,r=e.coordsChar({left:e.display.lineDiv.offsetWidth+100,top:n},"div");return{from:t.from(),to:r}})},undo:function(e){e.undo()},redo:function(e){e.redo()},undoSelection:function(e){e.undoSelection()},redoSelection:function(e){e.redoSelection()},goDocStart:function(e){e.extendSelection(Aa(e.firstLine(),0))},goDocEnd:function(e){e.extendSelection(Aa(e.lastLine()))},goLineStart:function(e){e.extendSelectionsBy(function(t){return ta(e,t.head.line)},{origin:"+move",bias:1})},goLineStartSmart:function(e){e.extendSelectionsBy(function(t){return ra(e,t.head)},{origin:"+move",bias:1})},goLineEnd:function(e){e.extendSelectionsBy(function(t){return na(e,t.head.line)},{origin:"+move",bias:-1})},goLineRight:function(e){e.extendSelectionsBy(function(t){var n=e.charCoords(t.head,"div").top+5;return e.coordsChar({left:e.display.lineDiv.offsetWidth+100,top:n},"div")},Ro)},goLineLeft:function(e){e.extendSelectionsBy(function(t){var n=e.charCoords(t.head,"div").top+5;return e.coordsChar({left:0,top:n},"div")},Ro)},goLineLeftSmart:function(e){e.extendSelectionsBy(function(t){var n=e.charCoords(t.head,"div").top+5,r=e.coordsChar({left:0,top:n},"div");return r.ch<e.getLine(r.line).search(/\S/)?ra(e,t.head):r},Ro)},goLineUp:function(e){e.moveV(-1,"line")},goLineDown:function(e){e.moveV(1,"line")},goPageUp:function(e){e.moveV(-1,"page")},goPageDown:function(e){e.moveV(1,"page")},goCharLeft:function(e){e.moveH(-1,"char")},goCharRight:function(e){e.moveH(1,"char")},goColumnLeft:function(e){e.moveH(-1,"column")},goColumnRight:function(e){e.moveH(1,"column")},goWordLeft:function(e){e.moveH(-1,"word")},goGroupRight:function(e){e.moveH(1,"group")},goGroupLeft:function(e){e.moveH(-1,"group")},goWordRight:function(e){e.moveH(1,"word")},delCharBefore:function(e){e.deleteH(-1,"char")},delCharAfter:function(e){e.deleteH(1,"char")},delWordBefore:function(e){e.deleteH(-1,"word")},delWordAfter:function(e){e.deleteH(1,"word")},delGroupBefore:function(e){e.deleteH(-1,"group")},delGroupAfter:function(e){e.deleteH(1,"group")},indentAuto:function(e){e.indentSelection("smart")},indentMore:function(e){e.indentSelection("add")},indentLess:function(e){e.indentSelection("subtract")},insertTab:function(e){e.replaceSelection("	")},insertSoftTab:function(e){for(var t=[],n=e.listSelections(),r=e.options.tabSize,i=0;i<n.length;i++){var a=n[i].from(),o=Mo(e.getLine(a.line),a.ch,r);t.push(new Array(r-o%r+1).join(" "))}e.replaceSelections(t)},defaultTab:function(e){e.somethingSelected()?e.indentSelection("add"):e.execCommand("insertTab")},transposeChars:function(e){kt(e,function(){for(var t=e.listSelections(),n=[],r=0;r<t.length;r++){var i=t[r].head,a=Gr(e.doc,i.line).text;if(a)if(i.ch==a.length&&(i=new Aa(i.line,i.ch-1)),i.ch>0)i=new Aa(i.line,i.ch+1),e.replaceRange(a.charAt(i.ch-1)+a.charAt(i.ch-2),Aa(i.line,i.ch-2),i,"+transpose");else if(i.line>e.doc.first){var o=Gr(e.doc,i.line-1).text;o&&e.replaceRange(a.charAt(0)+"\n"+o.charAt(o.length-1),Aa(i.line-1,o.length-1),Aa(i.line,1),"+transpose")}n.push(new de(i,i))}e.setSelections(n)})},newlineAndIndent:function(e){kt(e,function(){for(var t=e.listSelections().length,n=0;t>n;n++){var r=e.listSelections()[n];e.replaceRange("\n",r.anchor,r.head,"+input"),e.indentLine(r.from().line+1,null,!0),Dn(e)}})},toggleOverwrite:function(e){e.toggleOverwrite()}},ro=e.keyMap={};ro.basic={Left:"goCharLeft",Right:"goCharRight",Up:"goLineUp",Down:"goLineDown",End:"goLineEnd",Home:"goLineStartSmart",PageUp:"goPageUp",PageDown:"goPageDown",Delete:"delCharAfter",Backspace:"delCharBefore","Shift-Backspace":"delCharBefore",Tab:"defaultTab","Shift-Tab":"indentAuto",Enter:"newlineAndIndent",Insert:"toggleOverwrite",Esc:"singleSelection"},ro.pcDefault={"Ctrl-A":"selectAll","Ctrl-D":"deleteLine","Ctrl-Z":"undo","Shift-Ctrl-Z":"redo","Ctrl-Y":"redo","Ctrl-Home":"goDocStart","Ctrl-End":"goDocEnd","Ctrl-Up":"goLineUp","Ctrl-Down":"goLineDown","Ctrl-Left":"goGroupLeft","Ctrl-Right":"goGroupRight","Alt-Left":"goLineStart","Alt-Right":"goLineEnd","Ctrl-Backspace":"delGroupBefore","Ctrl-Delete":"delGroupAfter","Ctrl-S":"save","Ctrl-F":"find","Ctrl-G":"findNext","Shift-Ctrl-G":"findPrev","Shift-Ctrl-F":"replace","Shift-Ctrl-R":"replaceAll","Ctrl-[":"indentLess","Ctrl-]":"indentMore","Ctrl-U":"undoSelection","Shift-Ctrl-U":"redoSelection","Alt-U":"redoSelection",fallthrough:"basic"},ro.emacsy={"Ctrl-F":"goCharRight","Ctrl-B":"goCharLeft","Ctrl-P":"goLineUp","Ctrl-N":"goLineDown","Alt-F":"goWordRight","Alt-B":"goWordLeft","Ctrl-A":"goLineStart","Ctrl-E":"goLineEnd","Ctrl-V":"goPageDown","Shift-Ctrl-V":"goPageUp","Ctrl-D":"delCharAfter","Ctrl-H":"delCharBefore","Alt-D":"delWordAfter","Alt-Backspace":"delWordBefore","Ctrl-K":"killLine","Ctrl-T":"transposeChars"},ro.macDefault={"Cmd-A":"selectAll","Cmd-D":"deleteLine","Cmd-Z":"undo","Shift-Cmd-Z":"redo","Cmd-Y":"redo","Cmd-Home":"goDocStart","Cmd-Up":"goDocStart","Cmd-End":"goDocEnd","Cmd-Down":"goDocEnd","Alt-Left":"goGroupLeft","Alt-Right":"goGroupRight","Cmd-Left":"goLineLeft","Cmd-Right":"goLineRight","Alt-Backspace":"delGroupBefore","Ctrl-Alt-Backspace":"delGroupAfter","Alt-Delete":"delGroupAfter","Cmd-S":"save","Cmd-F":"find","Cmd-G":"findNext","Shift-Cmd-G":"findPrev","Cmd-Alt-F":"replace","Shift-Cmd-Alt-F":"replaceAll","Cmd-[":"indentLess","Cmd-]":"indentMore","Cmd-Backspace":"delWrappedLineLeft","Cmd-Delete":"delWrappedLineRight","Cmd-U":"undoSelection","Shift-Cmd-U":"redoSelection","Ctrl-Up":"goDocStart","Ctrl-Down":"goDocEnd",fallthrough:["basic","emacsy"]},ro["default"]=Ca?ro.macDefault:ro.pcDefault,e.normalizeKeyMap=function(e){var t={};for(var n in e)if(e.hasOwnProperty(n)){var r=e[n];if(/^(name|fallthrough|(de|at)tach)$/.test(n))continue;if("..."==r){delete e[n];continue}for(var i=Ai(n.split(" "),Vn),a=0;a<i.length;a++){var o,s;a==i.length-1?(s=i.join(" "),o=r):(s=i.slice(0,a+1).join(" "),o="...");var l=t[s];if(l){if(l!=o)throw new Error("Inconsistent bindings for "+s)}else t[s]=o}delete e[n]}for(var u in t)e[u]=t[u];return e};var io=e.lookupKey=function(e,t,n,r){t=Un(t);var i=t.call?t.call(e,r):t[e];if(i===!1)return"nothing";if("..."===i)return"multi";if(null!=i&&n(i))return"handled";if(t.fallthrough){if("[object Array]"!=Object.prototype.toString.call(t.fallthrough))return io(e,t.fallthrough,n,r);for(var a=0;a<t.fallthrough.length;a++){var o=io(e,t.fallthrough[a],n,r);if(o)return o}}},ao=e.isModifierKey=function(e){var t="string"==typeof e?e:Xo[e.keyCode];return"Ctrl"==t||"Alt"==t||"Shift"==t||"Mod"==t},oo=e.keyName=function(e,t){if(va&&34==e.keyCode&&e["char"])return!1;var n=Xo[e.keyCode],r=n;return null==r||e.altGraphKey?!1:(e.altKey&&"Alt"!=n&&(r="Alt-"+r),(Sa?e.metaKey:e.ctrlKey)&&"Ctrl"!=n&&(r="Ctrl-"+r),(Sa?e.ctrlKey:e.metaKey)&&"Cmd"!=n&&(r="Cmd-"+r),!t&&e.shiftKey&&"Shift"!=n&&(r="Shift-"+r),r)};e.fromTextArea=function(t,n){function r(){t.value=u.getValue()}if(n=n?Ni(n):{},n.value=t.value,!n.tabindex&&t.tabIndex&&(n.tabindex=t.tabIndex),!n.placeholder&&t.placeholder&&(n.placeholder=t.placeholder),null==n.autofocus){var i=Bi();n.autofocus=i==t||null!=t.getAttribute("autofocus")&&i==document.body}if(t.form&&(Co(t.form,"submit",r),!n.leaveSubmitMethodAlone)){var a=t.form,o=a.submit;try{var s=a.submit=function(){r(),a.submit=o,a.submit(),a.submit=s}}catch(l){}}n.finishInit=function(e){e.save=r,e.getTextArea=function(){return t},e.toTextArea=function(){e.toTextArea=isNaN,r(),t.parentNode.removeChild(e.getWrapperElement()),t.style.display="",t.form&&(Eo(t.form,"submit",r),"function"==typeof t.form.submit&&(t.form.submit=o))}},t.style.display="none";var u=e(function(e){t.parentNode.insertBefore(e,t.nextSibling)},n);return u};var so=e.StringStream=function(e,t){this.pos=this.start=0,this.string=e,this.tabSize=t||8,this.lastColumnPos=this.lastColumnValue=0,this.lineStart=0};so.prototype={eol:function(){return this.pos>=this.string.length},sol:function(){return this.pos==this.lineStart},peek:function(){return this.string.charAt(this.pos)||void 0},next:function(){return this.pos<this.string.length?this.string.charAt(this.pos++):void 0},eat:function(e){var t=this.string.charAt(this.pos);if("string"==typeof e)var n=t==e;else var n=t&&(e.test?e.test(t):e(t));return n?(++this.pos,t):void 0},eatWhile:function(e){for(var t=this.pos;this.eat(e););return this.pos>t},eatSpace:function(){for(var e=this.pos;/[\s\u00a0]/.test(this.string.charAt(this.pos));)++this.pos;return this.pos>e},skipToEnd:function(){this.pos=this.string.length},skipTo:function(e){var t=this.string.indexOf(e,this.pos);return t>-1?(this.pos=t,!0):void 0},backUp:function(e){this.pos-=e},column:function(){return this.lastColumnPos<this.start&&(this.lastColumnValue=Mo(this.string,this.start,this.tabSize,this.lastColumnPos,this.lastColumnValue),this.lastColumnPos=this.start),this.lastColumnValue-(this.lineStart?Mo(this.string,this.lineStart,this.tabSize):0)},indentation:function(){return Mo(this.string,null,this.tabSize)-(this.lineStart?Mo(this.string,this.lineStart,this.tabSize):0)},match:function(e,t,n){if("string"!=typeof e){var r=this.string.slice(this.pos).match(e);return r&&r.index>0?null:(r&&t!==!1&&(this.pos+=r[0].length),r)}var i=function(e){return n?e.toLowerCase():e},a=this.string.substr(this.pos,e.length);return i(a)==i(e)?(t!==!1&&(this.pos+=e.length),!0):void 0},current:function(){return this.string.slice(this.start,this.pos)},hideFirstChars:function(e,t){this.lineStart+=e;try{return t()}finally{this.lineStart-=e}}};var lo=0,uo=e.TextMarker=function(e,t){this.lines=[],this.type=t,this.doc=e,this.id=++lo};Ei(uo),uo.prototype.clear=function(){if(!this.explicitlyCleared){var e=this.doc.cm,t=e&&!e.curOp;if(t&&yt(e),Ci(this,"clear")){var n=this.find();n&&bi(this,"clear",n.from,n.to)}for(var r=null,i=null,a=0;a<this.lines.length;++a){var o=this.lines[a],s=Xn(o.markedSpans,this);e&&!this.collapsed?Dt(e,Qr(o),"text"):e&&(null!=s.to&&(i=Qr(o)),null!=s.from&&(r=Qr(o))),o.markedSpans=Qn(o.markedSpans,s),null==s.from&&this.collapsed&&!yr(this.doc,o)&&e&&Xr(o,mt(e.display))}if(e&&this.collapsed&&!e.options.lineWrapping)for(var a=0;a<this.lines.length;++a){var l=hr(this.lines[a]),u=d(l);u>e.display.maxLineLength&&(e.display.maxLine=l,e.display.maxLineLength=u,e.display.maxLineChanged=!0)}null!=r&&e&&this.collapsed&&Nt(e,r,i+1),this.lines.length=0,this.explicitlyCleared=!0,this.atomic&&this.doc.cantEdit&&(this.doc.cantEdit=!1,e&&Oe(e.doc)),e&&bi(e,"markerCleared",e,this),t&&wt(e),this.parent&&this.parent.clear()}},uo.prototype.find=function(e,t){null==e&&"bookmark"==this.type&&(e=1);for(var n,r,i=0;i<this.lines.length;++i){var a=this.lines[i],o=Xn(a.markedSpans,this);if(null!=o.from&&(n=Aa(t?a:Qr(a),o.from),-1==e))return n;if(null!=o.to&&(r=Aa(t?a:Qr(a),o.to),1==e))return r}return n&&{from:n,to:r}},uo.prototype.changed=function(){var e=this.find(-1,!0),t=this,n=this.doc.cm;e&&n&&kt(n,function(){var r=e.line,i=Qr(e.line),a=Qe(n,i);if(a&&(rt(a),n.curOp.selectionChanged=n.curOp.forceUpdate=!0),n.curOp.updateMaxLine=!0,!yr(t.doc,r)&&null!=t.height){var o=t.height;t.height=null;var s=$r(t)-o;s&&Xr(r,r.height+s)}})},uo.prototype.attachLine=function(e){if(!this.lines.length&&this.doc.cm){var t=this.doc.cm.curOp;t.maybeHiddenMarkers&&-1!=Oi(t.maybeHiddenMarkers,this)||(t.maybeUnhiddenMarkers||(t.maybeUnhiddenMarkers=[])).push(this)}this.lines.push(e)},uo.prototype.detachLine=function(e){if(this.lines.splice(Oi(this.lines,e),1),!this.lines.length&&this.doc.cm){var t=this.doc.cm.curOp;(t.maybeHiddenMarkers||(t.maybeHiddenMarkers=[])).push(this)}};var lo=0,co=e.SharedTextMarker=function(e,t){this.markers=e,this.primary=t;for(var n=0;n<e.length;++n)e[n].parent=this};Ei(co),co.prototype.clear=function(){if(!this.explicitlyCleared){this.explicitlyCleared=!0;for(var e=0;e<this.markers.length;++e)this.markers[e].clear();bi(this,"clear")}},co.prototype.find=function(e,t){return this.primary.find(e,t)};var fo=e.LineWidget=function(e,t,n){if(n)for(var r in n)n.hasOwnProperty(r)&&(this[r]=n[r]);this.doc=e,this.node=t};Ei(fo),fo.prototype.clear=function(){var e=this.doc.cm,t=this.line.widgets,n=this.line,r=Qr(n);if(null!=r&&t){for(var i=0;i<t.length;++i)t[i]==this&&t.splice(i--,1);t.length||(n.widgets=null);var a=$r(this);Xr(n,Math.max(0,n.height-a)),e&&kt(e,function(){wr(e,n,-a),Dt(e,r,"widget")})}},fo.prototype.changed=function(){var e=this.height,t=this.doc.cm,n=this.line;this.height=null;var r=$r(this)-e;r&&(Xr(n,n.height+r),t&&kt(t,function(){t.curOp.forceUpdate=!0,wr(t,n,r)}))};var po=e.Line=function(e,t,n){this.text=e,or(this,t),this.height=n?n(this):1};Ei(po),po.prototype.lineNo=function(){return Qr(this)};var ho={},go={};Ur.prototype={chunkSize:function(){return this.lines.length},removeInner:function(e,t){for(var n=e,r=e+t;r>n;++n){var i=this.lines[n];this.height-=i.height,Er(i),bi(i,"delete")}this.lines.splice(e,t)},collapse:function(e){e.push.apply(e,this.lines)},insertInner:function(e,t,n){this.height+=n,this.lines=this.lines.slice(0,e).concat(t).concat(this.lines.slice(e));for(var r=0;r<t.length;++r)t[r].parent=this},iterN:function(e,t,n){for(var r=e+t;r>e;++e)if(n(this.lines[e]))return!0}},zr.prototype={chunkSize:function(){return this.size},removeInner:function(e,t){this.size-=t;for(var n=0;n<this.children.length;++n){var r=this.children[n],i=r.chunkSize();if(i>e){var a=Math.min(t,i-e),o=r.height;if(r.removeInner(e,a),this.height-=o-r.height,i==a&&(this.children.splice(n--,1),r.parent=null),0==(t-=a))break;e=0}else e-=i}if(this.size-t<25&&(this.children.length>1||!(this.children[0]instanceof Ur))){var s=[];this.collapse(s),this.children=[new Ur(s)],this.children[0].parent=this}},collapse:function(e){for(var t=0;t<this.children.length;++t)this.children[t].collapse(e)},insertInner:function(e,t,n){this.size+=t.length,this.height+=n;for(var r=0;r<this.children.length;++r){var i=this.children[r],a=i.chunkSize();if(a>=e){if(i.insertInner(e,t,n),i.lines&&i.lines.length>50){for(;i.lines.length>50;){var o=i.lines.splice(i.lines.length-25,25),s=new Ur(o);i.height-=s.height,this.children.splice(r+1,0,s),s.parent=this}this.maybeSpill()}break}e-=a}},maybeSpill:function(){if(!(this.children.length<=10)){var e=this;do{var t=e.children.splice(e.children.length-5,5),n=new zr(t);if(e.parent){e.size-=n.size,e.height-=n.height;var r=Oi(e.parent.children,e);e.parent.children.splice(r+1,0,n)}else{var i=new zr(e.children);i.parent=e,e.children=[i,n],e=i}n.parent=e.parent}while(e.children.length>10);e.parent.maybeSpill()}},iterN:function(e,t,n){for(var r=0;r<this.children.length;++r){var i=this.children[r],a=i.chunkSize();if(a>e){var o=Math.min(t,a-e);if(i.iterN(e,o,n))return!0;if(0==(t-=o))break;e=0}else e-=a}}};var mo=0,vo=e.Doc=function(e,t,n){if(!(this instanceof vo))return new vo(e,t,n);null==n&&(n=0),zr.call(this,[new Ur([new po("",null)])]),this.first=n,this.scrollTop=this.scrollLeft=0,this.cantEdit=!1,this.cleanGeneration=1,this.frontier=n;var r=Aa(n,0);this.sel=pe(r),this.history=new ti(null),this.id=++mo,this.modeOption=t,"string"==typeof e&&(e=Wo(e)),Vr(this,{from:r,to:r,text:e}),Se(this,pe(r),Oo)};vo.prototype=Mi(zr.prototype,{constructor:vo,iter:function(e,t,n){n?this.iterN(e-this.first,t-e,n):this.iterN(this.first,this.first+this.size,e)},insert:function(e,t){for(var n=0,r=0;r<t.length;++r)n+=t[r].height;this.insertInner(e-this.first,t,n)},remove:function(e,t){this.removeInner(e-this.first,t)},getValue:function(e){var t=Yr(this,this.first,this.first+this.size);return e===!1?t:t.join(e||"\n")},setValue:At(function(e){var t=Aa(this.first,0),n=this.first+this.size-1;xn(this,{from:t,to:Aa(n,Gr(this,n).text.length),text:Wo(e),origin:"setValue",full:!0},!0),Se(this,pe(t))}),replaceRange:function(e,t,n,r){t=ge(this,t),n=n?ge(this,n):t,Tn(this,e,t,n,r)},getRange:function(e,t,n){var r=Kr(this,ge(this,e),ge(this,t));return n===!1?r:r.join(n||"\n")},getLine:function(e){var t=this.getLineHandle(e);return t&&t.text},getLineHandle:function(e){return ve(this,e)?Gr(this,e):void 0},getLineNumber:function(e){return Qr(e)},getLineHandleVisualStart:function(e){return"number"==typeof e&&(e=Gr(this,e)),hr(e)},lineCount:function(){return this.size},firstLine:function(){return this.first},lastLine:function(){return this.first+this.size-1},clipPos:function(e){return ge(this,e)},getCursor:function(e){var t,n=this.sel.primary();return t=null==e||"head"==e?n.head:"anchor"==e?n.anchor:"end"==e||"to"==e||e===!1?n.to():n.from()},listSelections:function(){return this.sel.ranges},somethingSelected:function(){return this.sel.somethingSelected()},setCursor:At(function(e,t,n){Ce(this,ge(this,"number"==typeof e?Aa(e,t||0):e),null,n)}),setSelection:At(function(e,t,n){Ce(this,ge(this,e),ge(this,t||e),n)}),extendSelection:At(function(e,t,n){we(this,ge(this,e),t&&ge(this,t),n)}),extendSelections:At(function(e,t){$e(this,ye(this,e,t))}),extendSelectionsBy:At(function(e,t){$e(this,Ai(this.sel.ranges,e),t)}),setSelections:At(function(e,t,n){if(e.length){for(var r=0,i=[];r<e.length;r++)i[r]=new de(ge(this,e[r].anchor),ge(this,e[r].head));null==t&&(t=Math.min(e.length-1,this.sel.primIndex)),Se(this,fe(i,t),n)}}),addSelection:At(function(e,t,n){var r=this.sel.ranges.slice(0);r.push(new de(ge(this,e),ge(this,t||e))),Se(this,fe(r,r.length-1),n)}),getSelection:function(e){for(var t,n=this.sel.ranges,r=0;r<n.length;r++){var i=Kr(this,n[r].from(),n[r].to());t=t?t.concat(i):i}return e===!1?t:t.join(e||"\n")},getSelections:function(e){for(var t=[],n=this.sel.ranges,r=0;r<n.length;r++){var i=Kr(this,n[r].from(),n[r].to());e!==!1&&(i=i.join(e||"\n")),t[r]=i}return t},replaceSelection:function(e,t,n){for(var r=[],i=0;i<this.sel.ranges.length;i++)r[i]=e;this.replaceSelections(r,t,n||"+input")},replaceSelections:At(function(e,t,n){for(var r=[],i=this.sel,a=0;a<i.ranges.length;a++){var o=i.ranges[a];r[a]={from:o.from(),to:o.to(),text:Wo(e[a]),origin:n}}for(var s=t&&"end"!=t&&wn(this,r,t),a=r.length-1;a>=0;a--)xn(this,r[a]);s?_e(this,s):this.cm&&Dn(this.cm)}),undo:At(function(){En(this,"undo")}),redo:At(function(){En(this,"redo")}),undoSelection:At(function(){En(this,"undo",!0)}),redoSelection:At(function(){En(this,"redo",!0)}),setExtending:function(e){this.extend=e},getExtending:function(){return this.extend},historySize:function(){for(var e=this.history,t=0,n=0,r=0;r<e.done.length;r++)e.done[r].ranges||++t;for(var r=0;r<e.undone.length;r++)e.undone[r].ranges||++n;return{undo:t,redo:n}},clearHistory:function(){this.history=new ti(this.history.maxGeneration)},markClean:function(){this.cleanGeneration=this.changeGeneration(!0)},changeGeneration:function(e){return e&&(this.history.lastOp=this.history.lastSelOp=this.history.lastOrigin=null),this.history.generation},isClean:function(e){return this.history.generation==(e||this.cleanGeneration)},getHistory:function(){return{done:fi(this.history.done),undone:fi(this.history.undone)}},setHistory:function(e){var t=this.history=new ti(this.history.maxGeneration);t.done=fi(e.done.slice(0),null,!0),t.undone=fi(e.undone.slice(0),null,!0)},addLineClass:At(function(e,t,n){return In(this,e,"gutter"==t?"gutter":"class",function(e){var r="text"==t?"textClass":"background"==t?"bgClass":"gutter"==t?"gutterClass":"wrapClass";if(e[r]){if(Vi(n).test(e[r]))return!1;e[r]+=" "+n}else e[r]=n;return!0})}),removeLineClass:At(function(e,t,n){return In(this,e,"gutter"==t?"gutter":"class",function(e){var r="text"==t?"textClass":"background"==t?"bgClass":"gutter"==t?"gutterClass":"wrapClass",i=e[r];if(!i)return!1;if(null==n)e[r]=null;else{var a=i.match(Vi(n));if(!a)return!1;var o=a.index+a[0].length;e[r]=i.slice(0,a.index)+(a.index&&o!=i.length?" ":"")+i.slice(o)||null}return!0})}),addLineWidget:At(function(e,t,n){return xr(this,e,t,n)}),removeLineWidget:function(e){e.clear()},markText:function(e,t,n){return zn(this,ge(this,e),ge(this,t),n,"range")},setBookmark:function(e,t){var n={replacedWith:t&&(null==t.nodeType?t.widget:t),insertLeft:t&&t.insertLeft,clearWhenEmpty:!1,shared:t&&t.shared,handleMouseEvents:t&&t.handleMouseEvents};return e=ge(this,e),zn(this,e,e,n,"bookmark")},findMarksAt:function(e){e=ge(this,e);var t=[],n=Gr(this,e.line).markedSpans;if(n)for(var r=0;r<n.length;++r){var i=n[r];(null==i.from||i.from<=e.ch)&&(null==i.to||i.to>=e.ch)&&t.push(i.marker.parent||i.marker)}return t},findMarks:function(e,t,n){e=ge(this,e),t=ge(this,t);var r=[],i=e.line;return this.iter(e.line,t.line+1,function(a){var o=a.markedSpans;if(o)for(var s=0;s<o.length;s++){var l=o[s];i==e.line&&e.ch>l.to||null==l.from&&i!=e.line||i==t.line&&l.from>t.ch||n&&!n(l.marker)||r.push(l.marker.parent||l.marker)}++i}),r},getAllMarks:function(){var e=[];return this.iter(function(t){var n=t.markedSpans;if(n)for(var r=0;r<n.length;++r)null!=n[r].from&&e.push(n[r].marker)}),e},posFromIndex:function(e){var t,n=this.first;return this.iter(function(r){var i=r.text.length+1;return i>e?(t=e,!0):(e-=i,void++n)}),ge(this,Aa(n,t))},indexFromPos:function(e){e=ge(this,e);var t=e.ch;return e.line<this.first||e.ch<0?0:(this.iter(this.first,e.line,function(e){t+=e.text.length+1}),t)},copy:function(e){var t=new vo(Yr(this,this.first,this.first+this.size),this.modeOption,this.first);return t.scrollTop=this.scrollTop,t.scrollLeft=this.scrollLeft,t.sel=this.sel,t.extend=!1,e&&(t.history.undoDepth=this.history.undoDepth,t.setHistory(this.getHistory())),t},linkedDoc:function(e){e||(e={});var t=this.first,n=this.first+this.size;null!=e.from&&e.from>t&&(t=e.from),null!=e.to&&e.to<n&&(n=e.to);var r=new vo(Yr(this,t,n),e.mode||this.modeOption,t);return e.sharedHist&&(r.history=this.history),(this.linked||(this.linked=[])).push({doc:r,sharedHist:e.sharedHist}),r.linked=[{doc:this,isParent:!0,sharedHist:e.sharedHist}],Gn(r,Wn(this)),r},unlinkDoc:function(t){if(t instanceof e&&(t=t.doc),this.linked)for(var n=0;n<this.linked.length;++n){var r=this.linked[n];if(r.doc==t){this.linked.splice(n,1),t.unlinkDoc(this),Kn(Wn(this));break}}if(t.history==this.history){var i=[t.id];qr(t,function(e){i.push(e.id)},!0),t.history=new ti(null),t.history.done=fi(this.history.done,i),t.history.undone=fi(this.history.undone,i)}},iterLinkedDocs:function(e){qr(this,e)},getMode:function(){return this.mode},getEditor:function(){return this.cm}}),vo.prototype.eachLine=vo.prototype.iter;var yo="iter insert remove copy getEditor".split(" ");for(var bo in vo.prototype)vo.prototype.hasOwnProperty(bo)&&Oi(yo,bo)<0&&(e.prototype[bo]=function(e){return function(){return e.apply(this.doc,arguments)}}(vo.prototype[bo]));Ei(vo);var wo=e.e_preventDefault=function(e){e.preventDefault?e.preventDefault():e.returnValue=!1},$o=e.e_stopPropagation=function(e){e.stopPropagation?e.stopPropagation():e.cancelBubble=!0},xo=e.e_stop=function(e){wo(e),$o(e)},Co=e.on=function(e,t,n){if(e.addEventListener)e.addEventListener(t,n,!1);else if(e.attachEvent)e.attachEvent("on"+t,n);else{var r=e._handlers||(e._handlers={}),i=r[t]||(r[t]=[]);i.push(n)}},Eo=e.off=function(e,t,n){if(e.removeEventListener)e.removeEventListener(t,n,!1);else if(e.detachEvent)e.detachEvent("on"+t,n);else{var r=e._handlers&&e._handlers[t];if(!r)return;for(var i=0;i<r.length;++i)if(r[i]==n){r.splice(i,1);break}}},_o=e.signal=function(e,t){var n=e._handlers&&e._handlers[t];if(n)for(var r=Array.prototype.slice.call(arguments,2),i=0;i<n.length;++i)n[i].apply(null,r)},So=null,ko=30,To=e.Pass={toString:function(){return"CodeMirror.Pass"}},Oo={scroll:!1},Ao={origin:"*mouse"},Ro={origin:"+move"};_i.prototype.set=function(e,t){clearTimeout(this.id),this.id=setTimeout(t,e)};var Mo=e.countColumn=function(e,t,n,r,i){null==t&&(t=e.search(/[^\s\u00a0]/),-1==t&&(t=e.length));for(var a=r||0,o=i||0;;){var s=e.indexOf("	",a);if(0>s||s>=t)return o+(t-a);o+=s-a,o+=n-o%n,a=s+1}},No=[""],Do=function(e){e.select()};$a?Do=function(e){e.selectionStart=0,e.selectionEnd=e.value.length}:fa&&(Do=function(e){try{e.select()}catch(t){}});var Lo,Po=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/,Io=e.isWordChar=function(e){return/\w/.test(e)||e>""&&(e.toUpperCase()!=e.toLowerCase()||Po.test(e))},Fo=/[\u0300-\u036f\u0483-\u0489\u0591-\u05bd\u05bf\u05c1\u05c2\u05c4\u05c5\u05c7\u0610-\u061a\u064b-\u065e\u0670\u06d6-\u06dc\u06de-\u06e4\u06e7\u06e8\u06ea-\u06ed\u0711\u0730-\u074a\u07a6-\u07b0\u07eb-\u07f3\u0816-\u0819\u081b-\u0823\u0825-\u0827\u0829-\u082d\u0900-\u0902\u093c\u0941-\u0948\u094d\u0951-\u0955\u0962\u0963\u0981\u09bc\u09be\u09c1-\u09c4\u09cd\u09d7\u09e2\u09e3\u0a01\u0a02\u0a3c\u0a41\u0a42\u0a47\u0a48\u0a4b-\u0a4d\u0a51\u0a70\u0a71\u0a75\u0a81\u0a82\u0abc\u0ac1-\u0ac5\u0ac7\u0ac8\u0acd\u0ae2\u0ae3\u0b01\u0b3c\u0b3e\u0b3f\u0b41-\u0b44\u0b4d\u0b56\u0b57\u0b62\u0b63\u0b82\u0bbe\u0bc0\u0bcd\u0bd7\u0c3e-\u0c40\u0c46-\u0c48\u0c4a-\u0c4d\u0c55\u0c56\u0c62\u0c63\u0cbc\u0cbf\u0cc2\u0cc6\u0ccc\u0ccd\u0cd5\u0cd6\u0ce2\u0ce3\u0d3e\u0d41-\u0d44\u0d4d\u0d57\u0d62\u0d63\u0dca\u0dcf\u0dd2-\u0dd4\u0dd6\u0ddf\u0e31\u0e34-\u0e3a\u0e47-\u0e4e\u0eb1\u0eb4-\u0eb9\u0ebb\u0ebc\u0ec8-\u0ecd\u0f18\u0f19\u0f35\u0f37\u0f39\u0f71-\u0f7e\u0f80-\u0f84\u0f86\u0f87\u0f90-\u0f97\u0f99-\u0fbc\u0fc6\u102d-\u1030\u1032-\u1037\u1039\u103a\u103d\u103e\u1058\u1059\u105e-\u1060\u1071-\u1074\u1082\u1085\u1086\u108d\u109d\u135f\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17b7-\u17bd\u17c6\u17c9-\u17d3\u17dd\u180b-\u180d\u18a9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193b\u1a17\u1a18\u1a56\u1a58-\u1a5e\u1a60\u1a62\u1a65-\u1a6c\u1a73-\u1a7c\u1a7f\u1b00-\u1b03\u1b34\u1b36-\u1b3a\u1b3c\u1b42\u1b6b-\u1b73\u1b80\u1b81\u1ba2-\u1ba5\u1ba8\u1ba9\u1c2c-\u1c33\u1c36\u1c37\u1cd0-\u1cd2\u1cd4-\u1ce0\u1ce2-\u1ce8\u1ced\u1dc0-\u1de6\u1dfd-\u1dff\u200c\u200d\u20d0-\u20f0\u2cef-\u2cf1\u2de0-\u2dff\u302a-\u302f\u3099\u309a\ua66f-\ua672\ua67c\ua67d\ua6f0\ua6f1\ua802\ua806\ua80b\ua825\ua826\ua8c4\ua8e0-\ua8f1\ua926-\ua92d\ua947-\ua951\ua980-\ua982\ua9b3\ua9b6-\ua9b9\ua9bc\uaa29-\uaa2e\uaa31\uaa32\uaa35\uaa36\uaa43\uaa4c\uaab0\uaab2-\uaab4\uaab7\uaab8\uaabe\uaabf\uaac1\uabe5\uabe8\uabed\udc00-\udfff\ufb1e\ufe00-\ufe0f\ufe20-\ufe26\uff9e\uff9f]/;Lo=document.createRange?function(e,t,n,r){var i=document.createRange();return i.setEnd(r||e,n),i.setStart(e,t),i}:function(e,t,n){var r=document.body.createTextRange();try{r.moveToElementText(e.parentNode)}catch(i){return r}return r.collapse(!0),r.moveEnd("character",n),r.moveStart("character",t),r};var jo=e.contains=function(e,t){if(3==t.nodeType&&(t=t.parentNode),e.contains)return e.contains(t);do if(11==t.nodeType&&(t=t.host),t==e)return!0;while(t=t.parentNode)};fa&&11>pa&&(Bi=function(){try{return document.activeElement}catch(e){return document.body}});var Ho,Bo,Vo=e.rmClass=function(e,t){var n=e.className,r=Vi(t).exec(n);if(r){var i=n.slice(r.index+r[0].length);e.className=n.slice(0,r.index)+(i?r[1]+i:"")}},Uo=e.addClass=function(e,t){var n=e.className;Vi(t).test(n)||(e.className+=(n?" ":"")+t)},zo=!1,qo=function(){if(fa&&9>pa)return!1;var e=Fi("div");return"draggable"in e||"dragDrop"in e}(),Wo=e.splitLines=3!="\n\nb".split(/\n/).length?function(e){for(var t=0,n=[],r=e.length;r>=t;){var i=e.indexOf("\n",t);-1==i&&(i=e.length);var a=e.slice(t,"\r"==e.charAt(i-1)?i-1:i),o=a.indexOf("\r");-1!=o?(n.push(a.slice(0,o)),t+=o+1):(n.push(a),t=i+1)}return n}:function(e){return e.split(/\r\n?|\n/)},Go=window.getSelection?function(e){try{return e.selectionStart!=e.selectionEnd}catch(t){return!1}}:function(e){try{var t=e.ownerDocument.selection.createRange()}catch(n){}return t&&t.parentElement()==e?0!=t.compareEndPoints("StartToEnd",t):!1},Ko=function(){var e=Fi("div");return"oncopy"in e?!0:(e.setAttribute("oncopy","return;"),"function"==typeof e.oncopy)}(),Yo=null,Xo={3:"Enter",8:"Backspace",9:"Tab",13:"Enter",16:"Shift",17:"Ctrl",18:"Alt",19:"Pause",20:"CapsLock",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"PrintScrn",45:"Insert",46:"Delete",59:";",61:"=",91:"Mod",92:"Mod",93:"Mod",107:"=",109:"-",127:"Delete",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",63232:"Up",63233:"Down",63234:"Left",63235:"Right",63272:"Delete",63273:"Home",63275:"End",63276:"PageUp",63277:"PageDown",63302:"Insert"};e.keyNames=Xo,function(){for(var e=0;10>e;e++)Xo[e+48]=Xo[e+96]=String(e);for(var e=65;90>=e;e++)Xo[e]=String.fromCharCode(e);for(var e=1;12>=e;e++)Xo[e+111]=Xo[e+63235]="F"+e}();var Qo,Jo=function(){function e(e){return 247>=e?n.charAt(e):e>=1424&&1524>=e?"R":e>=1536&&1773>=e?r.charAt(e-1536):e>=1774&&2220>=e?"r":e>=8192&&8203>=e?"w":8204==e?"b":"L"}function t(e,t,n){this.level=e,this.from=t,this.to=n}var n="bbbbbbbbbtstwsbbbbbbbbbbbbbbssstwNN%%%NNNNNN,N,N1111111111NNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNbbbbbbsbbbbbbbbbbbbbbbbbbbbbbbbbb,N%%%%NNNNLNNNNN%%11NLNNN1LNNNNNLLLLLLLLLLLLLLLLLLLLLLLNLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLN",r="rrrrrrrrrrrr,rNNmmmmmmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmrrrrrrrnnnnnnnnnn%nnrrrmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmmmmmmNmmmm",i=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/,a=/[stwN]/,o=/[LRr]/,s=/[Lb1n]/,l=/[1n]/,u="L";return function(n){if(!i.test(n))return!1;for(var r,c=n.length,d=[],f=0;c>f;++f)d.push(r=e(n.charCodeAt(f)));for(var f=0,p=u;c>f;++f){var r=d[f];"m"==r?d[f]=p:p=r}for(var f=0,h=u;c>f;++f){var r=d[f];"1"==r&&"r"==h?d[f]="n":o.test(r)&&(h=r,"r"==r&&(d[f]="R"))}for(var f=1,p=d[0];c-1>f;++f){var r=d[f];"+"==r&&"1"==p&&"1"==d[f+1]?d[f]="1":","!=r||p!=d[f+1]||"1"!=p&&"n"!=p||(d[f]=p),p=r}for(var f=0;c>f;++f){var r=d[f];if(","==r)d[f]="N";else if("%"==r){for(var g=f+1;c>g&&"%"==d[g];++g);for(var m=f&&"!"==d[f-1]||c>g&&"1"==d[g]?"1":"N",v=f;g>v;++v)d[v]=m;f=g-1}}for(var f=0,h=u;c>f;++f){var r=d[f];"L"==h&&"1"==r?d[f]="L":o.test(r)&&(h=r)}for(var f=0;c>f;++f)if(a.test(d[f])){for(var g=f+1;c>g&&a.test(d[g]);++g);for(var y="L"==(f?d[f-1]:u),b="L"==(c>g?d[g]:u),m=y||b?"L":"R",v=f;g>v;++v)d[v]=m;f=g-1}for(var w,$=[],f=0;c>f;)if(s.test(d[f])){var x=f;for(++f;c>f&&s.test(d[f]);++f);$.push(new t(0,x,f))}else{var C=f,E=$.length;for(++f;c>f&&"L"!=d[f];++f);for(var v=C;f>v;)if(l.test(d[v])){v>C&&$.splice(E,0,new t(1,C,v));var _=v;for(++v;f>v&&l.test(d[v]);++v);$.splice(E,0,new t(2,_,v)),C=v}else++v;f>C&&$.splice(E,0,new t(1,C,f))}return 1==$[0].level&&(w=n.match(/^\s+/))&&($[0].from=w[0].length,$.unshift(new t(0,0,w[0].length))),1==Ti($).level&&(w=n.match(/\s+$/))&&(Ti($).to-=w[0].length,$.push(new t(0,c-w[0].length,c))),2==$[0].level&&$.unshift(new t(1,$[0].to,$[0].to)),$[0].level!=Ti($).level&&$.push(new t($[0].level,c,c)),$}}();return e.version="5.3.0",e})},function(e,t,n){n(195),e.exports=angular},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=function(e,t,n){for(var r=!0;r;){var i=e,a=t,o=n;s=u=l=void 0,r=!1;var s=Object.getOwnPropertyDescriptor(i,a);if(void 0!==s){if("value"in s)return s.value;var l=s.get;return void 0===l?void 0:l.call(o)}var u=Object.getPrototypeOf(i);if(null===u)return void 0;e=u,t=a,n=o,r=!0}},l=n(1),u=r(l),c=function(e){function t(e){i(this,t),s(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e),this._type="reference",
this._targetEntity=null,this._targetField=null,this._perPage=30,this._filters=null,this._sortField=null,this._sortDir=null,this._singleApiCall=!1,this._detailLink=!0}return a(t,e),o(t,[{key:"perPage",value:function(e){return arguments.length?(this._perPage=e,this):this._perPage}},{key:"datagridName",value:function(){return this._targetEntity.name()+"_ListView"}},{key:"targetEntity",value:function(e){return arguments.length?(this._targetEntity=e,this):this._targetEntity}},{key:"targetField",value:function(e){return arguments.length?(this._targetField=e,this):this._targetField}},{key:"filters",value:function(e){return arguments.length?(this._filters=e,this):this._filters}},{key:"sortField",value:function(){return arguments.length?(this._sortField=arguments[0],this):this._sortField}},{key:"sortDir",value:function(){return arguments.length?(this._sortDir=arguments[0],this):this._sortDir}},{key:"singleApiCall",value:function(e){return arguments.length?(this._singleApiCall=e,this):this._singleApiCall}},{key:"hasSingleApiCall",value:function(){return"function"==typeof this._singleApiCall}},{key:"getSingleApiCall",value:function(e){return this.hasSingleApiCall()?this._singleApiCall(e):this._singleApiCall}},{key:"getIdentifierValues",value:function(e){for(var t={},n=this._name,r=0,i=e.length;i>r;r++){var a=e[r][n];if(a)if(a instanceof Array)for(var o in a)t[a[o]]=!0;else t[a]=!0}return Object.keys(t)}},{key:"getSortFieldName",value:function(){return this.sortField()?this._targetEntity.name()+"_ListView."+this.sortField():null}}]),t}(u["default"]);t["default"]=c,e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=function(e,t,n){for(var r=!0;r;){var i=e,a=t,o=n;s=u=l=void 0,r=!1;var s=Object.getOwnPropertyDescriptor(i,a);if(void 0!==s){if("value"in s)return s.value;var l=s.get;return void 0===l?void 0:l.call(o)}var u=Object.getPrototypeOf(i);if(null===u)return void 0;e=u,t=a,n=o,r=!0}},l=n(2),u=r(l),c=n(14),d=r(c),f=function(e){function t(e){i(this,t),s(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e),this._type="ListView",this._perPage=30,this._infinitePagination=!1,this._listActions=[],this._batchActions=["delete"],this._filters=[],this._exportFields=null,this._sortField="id",this._sortDir="DESC"}return a(t,e),o(t,[{key:"perPage",value:function(){return arguments.length?(this._perPage=arguments[0],this):this._perPage}},{key:"limit",value:function(){return arguments.length?this.perPage(arguments[0]):this.perPage()}},{key:"sortField",value:function(){return arguments.length?(this._sortField=arguments[0],this):this._sortField}},{key:"sortDir",value:function(){return arguments.length?(this._sortDir=arguments[0],this):this._sortDir}},{key:"getSortFieldName",value:function(){return this.name()+"."+this._sortField}},{key:"infinitePagination",value:function(){return arguments.length?(this._infinitePagination=arguments[0],this):this._infinitePagination}},{key:"actions",value:function(e){return arguments.length?(this._actions=e,this):this._actions}},{key:"exportFields",value:function(e){return arguments.length?(this._exportFields=e,this):this._exportFields}},{key:"batchActions",value:function(e){return arguments.length?(this._batchActions=e,this):this._batchActions}},{key:"filters",value:function(e){return arguments.length?(this._filters=d["default"].order(e),this):this._filters}},{key:"getFilterReferences",value:function(){for(var e={},t=this._filters.filter(function(e){return"reference"===e.type()}),n=0,r=t.length;r>n;n++){var i=t[n];e[i.name()]=i}return e}},{key:"listActions",value:function(e){return arguments.length?(this._listActions=e,this):this._listActions}}]),t}(u["default"]);t["default"]=f,e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(15),s=r(o),l=n(1),u=r(l),c=n(71),d=r(c),f=n(75),p=r(f),h=n(6),g=r(h),m=n(70),v=r(m),y=n(73),b=r(y),w=n(72),$=r(w),x=n(76),C=r(x),E=n(69),_=r(E),S=n(74),k=r(S),T=0,O=function(){function e(t){i(this,e),this._name=t,this._uniqueId=this._name+"_"+T++,this._baseApiUrl=null,this._label=null,this._identifierField=new u["default"]("id"),this._isReadOnly=!1,this._errorMessage=null,this._order=0,this._url=null,this._createMethod=null,this._updateMethod=null,this._initViews()}return a(e,[{key:"uniqueId",get:function(){return this._uniqueId}},{key:"views",get:function(){return this._views}},{key:"label",value:function(){return arguments.length?(this._label=arguments[0],this):null===this._label?s["default"].camelCase(this._name):this._label}},{key:"name",value:function(){return arguments.length?(this._name=arguments[0],this):this._name}},{key:"menuView",value:function(){return this._views.MenuView}},{key:"dashboardView",value:function(){return this._views.DashboardView}},{key:"listView",value:function(){return this._views.ListView}},{key:"creationView",value:function(){return this._views.CreateView}},{key:"editionView",value:function(){return this._views.EditView}},{key:"deletionView",value:function(){return this._views.DeleteView}},{key:"batchDeleteView",value:function(){return this._views.BatchDeleteView}},{key:"exportView",value:function(){return this._views.ExportView}},{key:"showView",value:function(){return this._views.ShowView}},{key:"baseApiUrl",value:function(e){return arguments.length?(this._baseApiUrl=e,this):this._baseApiUrl}},{key:"_initViews",value:function(){this._views={DashboardView:(new d["default"]).setEntity(this),MenuView:(new p["default"]).setEntity(this),ListView:(new g["default"]).setEntity(this),CreateView:(new v["default"]).setEntity(this),EditView:(new b["default"]).setEntity(this),DeleteView:(new $["default"]).setEntity(this),BatchDeleteView:(new _["default"]).setEntity(this),ExportView:(new k["default"]).setEntity(this),ShowView:(new C["default"]).setEntity(this)}}},{key:"identifier",value:function(e){if(!arguments.length)return this._identifierField;if(!(e instanceof u["default"]))throw new Error("Entity "+this.name()+": identifier must be an instance of Field.");return this._identifierField=e,this}},{key:"readOnly",value:function(){return this._isReadOnly=!0,this._views.CreateView.disable(),this._views.EditView.disable(),this._views.DeleteView.disable(),this._views.BatchDeleteView.disable(),this}},{key:"isReadOnly",get:function(){return this._isReadOnly}},{key:"getErrorMessage",value:function(e){return"function"==typeof this._errorMessage?this._errorMessage(e):this._errorMessage}},{key:"errorMessage",value:function(e){return arguments.length?(this._errorMessage=e,this):this._errorMessage}},{key:"order",value:function(e){return arguments.length?(this._order=e,this):this._order}},{key:"url",value:function(e){return arguments.length?(this._url=e,this):this._url}},{key:"getUrl",value:function(e,t,n){return"function"==typeof this._url?this._url(this.name(),e,t,n):this._url}},{key:"createMethod",value:function(e){return arguments.length?(this._createMethod=e,this):this._createMethod}},{key:"updateMethod",value:function(e){return arguments.length?(this._updateMethod=e,this):this._updateMethod}}]),e}();t["default"]=O,e.exports=t["default"]},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function(){function e(t,n,i){r(this,e),this._entityName=t,this.values=n||{},this._identifierValue=i,this.listValues={}}return i(e,[{key:"entityName",get:function(){return this._entityName}},{key:"identifierValue",get:function(){return this._identifierValue}}],[{key:"mapFromRest",value:function(t,n,r,i){if(!i)return new e(t);var a=null;return r.forEach(function(e){var t=e.name();t in i&&(i[t]=e.getMappedValue(i[t],i))}),n&&(a=i[n.name()]),new e(t,i,a)}}]),e}();t["default"]=a,e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=function(e,t,n){for(var r=!0;r;){var i=e,a=t,o=n;s=u=l=void 0,r=!1;var s=Object.getOwnPropertyDescriptor(i,a);if(void 0!==s){if("value"in s)return s.value;var l=s.get;return void 0===l?void 0:l.call(o)}var u=Object.getPrototypeOf(i);if(null===u)return void 0;e=u,t=a,n=o,r=!0}},l=n(1),u=r(l),c=function(e){function t(e){i(this,t),s(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e),this._type="choice",this._choices=[]}return a(t,e),o(t,[{key:"choices",value:function(e){return arguments.length?(this._choices=e,this):this._choices}},{key:"getLabelForChoice",value:function(e,t){var n="function"==typeof this._choices?this._choices(t):this._choices,r=n.filter(function(t){return t.value==e}).pop();return r?r.label:null}}]),t}(u["default"]);t["default"]=c,e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=function(e,t,n){for(var r=!0;r;){var i=e,a=t,o=n;s=u=l=void 0,r=!1;var s=Object.getOwnPropertyDescriptor(i,a);if(void 0!==s){if("value"in s)return s.value;var l=s.get;return void 0===l?void 0:l.call(o)}var u=Object.getPrototypeOf(i);if(null===u)return void 0;e=u,t=a,n=o,r=!0}},l=n(1),u=r(l),c=function(e){function t(e){i(this,t),s(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e),this._format="yyyy-MM-dd",this._parse=function(e){if(e instanceof Date){e.setMinutes(e.getMinutes()-e.getTimezoneOffset());var t=e.toJSON();return t?t.substr(0,10):null}},this._type="date"}return a(t,e),o(t,[{key:"format",value:function(e){return arguments.length?(this._format=e,this):this._format}},{key:"parse",value:function(e){return arguments.length?(this._parse=e,this):this._parse}}]),t}(u["default"]);t["default"]=c,e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=function(e,t,n){for(var r=!0;r;){var i=e,a=t,o=n;s=u=l=void 0,r=!1;var s=Object.getOwnPropertyDescriptor(i,a);if(void 0!==s){if("value"in s)return s.value;var l=s.get;return void 0===l?void 0:l.call(o)}var u=Object.getPrototypeOf(i);if(null===u)return void 0;e=u,t=a,n=o,r=!0}},l=n(1),u=r(l),c=function(e){function t(e){i(this,t),s(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e),this._type="number",this._format=void 0}return a(t,e),o(t,[{key:"format",value:function(e){return arguments.length?(this._format=e,this):this._format}},{key:"fractionSize",value:function(e){return console.warn("NumberField.fractionSize() is deprecated, use NumberField.format() instead"),this.format("0."+"0".repeat(e)),this}}]),t}(u["default"]);t["default"]=c,e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(){return!1}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(7),l=r(s),u=0,c=function(){function e(){i(this,e),this._link=null,this._activeFunc=a,this._title=null,this._icon=!1,this._children=[],this._template=!1,this.uuid=u++}return o(e,[{key:"title",value:function(){return arguments.length?(this._title=arguments[0],this):this._title}},{key:"isLink",value:function(){return!!this._link}},{key:"link",value:function(){var e=this;return arguments.length?(this._link=arguments[0],this._activeFunc==a&&(this._activeFunc=function(t){return 0===t.indexOf(e._link)}),this):this._link}},{key:"active",value:function(e){return arguments.length?(this._activeFunc=arguments[0],this):this._activeFunc}},{key:"isActive",value:function(e){return this._activeFunc(e)}},{key:"isChildActive",value:function(e){return this.isActive(e)||this.children().filter(function(t){return t.isChildActive(e)}).length>0}},{key:"addChild",value:function(t){if(!(t instanceof e))throw new Error("Only Menu instances are accepted as children of a Menu");return this._children.push(t),this}},{key:"hasChild",value:function(){return this._children.length>0}},{key:"getChildByTitle",value:function(e){return this.children().filter(function(t){return t.title()==e}).pop()}},{key:"children",value:function(){return arguments.length?(this._children=arguments[0],this):this._children}},{key:"icon",value:function(){return arguments.length?(this._icon=arguments[0],this):this._icon}},{key:"template",value:function(){return arguments.length?(this._template=arguments[0],this):this._template}},{key:"populateFromEntity",value:function(e){if(!(e instanceof l["default"]))throw new Error("populateFromEntity() only accepts an Entity parameter");return this.title(e.label()),this.active(function(t){return 0===t.indexOf("/"+e.name()+"/")}),this.link("/"+e.name()+"/list"),this.icon(e.menuView().icon()),this}}]),e}();t["default"]=c,e.exports=t["default"]},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function a(e,t,n){r(this,a),this._restWrapper=e,this._promisesResolver=t,this._application=n};t["default"]=i,e.exports=t["default"]},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t["default"]={order:function(e){var t,n=[];for(t in e)n.push(e[t]);return n.sort(function(e,t){return e.order()-t.order()})}},e.exports=t["default"]},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t["default"]={camelCase:function(e){if(!e)return e;var t=e.charAt(0).toUpperCase();return e=t+e.substr(1),e.replace(/[-_](.)/g,function(e,t){return" "+t.toUpperCase()})}},e.exports=t["default"]},function(e,t,n){var r;r=function(e){"use strict";function t(){return'<ma-date-column field="::field" value="::entry.values[field.name()]"></ma-date-column>'}function n(){return'<a ng-click="gotoDetail()">'+t()+"</a>"}function r(){return'<ma-date-field field="::field" value="values[field.name()]"></ma-date-field>'}function i(){return'<div class="row"><ma-date-field field="::field" value="entry.values[field.name()]" class="col-sm-4"></ma-date-field></div>'}return{getReadWidget:t,getLinkWidget:n,getFilterWidget:r,getWriteWidget:i}}.call(t,n,t,e),!(void 0!==r&&(e.exports=r))},function(e,t,n){var r;(function(e,i){(function(){function a(e,t){if(e!==t){var n=null===e,r=e===S,i=e===e,a=null===t,o=t===S,s=t===t;if(e>t&&!a||!i||n&&!o&&s||r&&s)return 1;if(t>e&&!n||!s||a&&!r&&i||o&&i)return-1}return 0}function o(e,t,n){for(var r=e.length,i=n?r:-1;n?i--:++i<r;)if(t(e[i],i,e))return i;return-1}function s(e,t,n){if(t!==t)return v(e,n);for(var r=n-1,i=e.length;++r<i;)if(e[r]===t)return r;return-1}function l(e){return"function"==typeof e||!1}function u(e){return"string"==typeof e?e:null==e?"":e+""}function c(e,t){for(var n=-1,r=e.length;++n<r&&t.indexOf(e.charAt(n))>-1;);return n}function d(e,t){for(var n=e.length;n--&&t.indexOf(e.charAt(n))>-1;);return n}function f(e,t){return a(e.criteria,t.criteria)||e.index-t.index}function p(e,t,n){for(var r=-1,i=e.criteria,o=t.criteria,s=i.length,l=n.length;++r<s;){var u=a(i[r],o[r]);if(u)return r>=l?u:u*(n[r]?1:-1)}return e.index-t.index}function h(e){return Ge[e]}function g(e){return Ke[e]}function m(e){return"\\"+Qe[e]}function v(e,t,n){for(var r=e.length,i=t+(n?0:-1);n?i--:++i<r;){var a=e[i];if(a!==a)return i}return-1}function y(e){return!!e&&"object"==typeof e}function b(e){return 160>=e&&e>=9&&13>=e||32==e||160==e||5760==e||6158==e||e>=8192&&(8202>=e||8232==e||8233==e||8239==e||8287==e||12288==e||65279==e)}function w(e,t){for(var n=-1,r=e.length,i=-1,a=[];++n<r;)e[n]===t&&(e[n]=q,a[++i]=n);return a}function $(e,t){for(var n,r=-1,i=e.length,a=-1,o=[];++r<i;){var s=e[r],l=t?t(s,r,e):s;r&&n===l||(n=l,o[++a]=s)}return o}function x(e){for(var t=-1,n=e.length;++t<n&&b(e.charCodeAt(t)););return t}function C(e){for(var t=e.length;t--&&b(e.charCodeAt(t)););return t}function E(e){return Ye[e]}function _(e){function t(e){if(y(e)&&!ks(e)&&!(e instanceof i)){if(e instanceof r)return e;if(Ka.call(e,"__chain__")&&Ka.call(e,"__wrapped__"))return ur(e)}return new r(e)}function n(){}function r(e,t,n){this.__wrapped__=e,this.__actions__=n||[],this.__chain__=!!t}function i(e){this.__wrapped__=e,this.__actions__=null,this.__dir__=1,this.__dropCount__=0,this.__filtered__=!1,this.__iteratees__=null,this.__takeCount__=_o,this.__views__=null}function b(){var e=this.__actions__,t=this.__iteratees__,n=this.__views__,r=new i(this.__wrapped__);return r.__actions__=e?et(e):null,r.__dir__=this.__dir__,r.__filtered__=this.__filtered__,r.__iteratees__=t?et(t):null,r.__takeCount__=this.__takeCount__,r.__views__=n?et(n):null,r}function J(){if(this.__filtered__){var e=new i(this);e.__dir__=-1,e.__filtered__=!0}else e=this.clone(),e.__dir__*=-1;return e}function ne(){var e=this.__wrapped__.value();if(!ks(e))return tn(e,this.__actions__);var t=this.__dir__,n=0>t,r=Vn(0,e.length,this.__views__),i=r.start,a=r.end,o=a-i,s=n?a:i-1,l=bo(o,this.__takeCount__),u=this.__iteratees__,c=u?u.length:0,d=0,f=[];e:for(;o--&&l>d;){s+=t;for(var p=-1,h=e[s];++p<c;){var g=u[p],m=g.iteratee,v=g.type;if(v==B){if(g.done&&(n?s>g.index:s<g.index)&&(g.count=0,g.done=!1),g.index=s,!g.done){var y=g.limit;if(!(g.done=y>-1?g.count++>=y:!m(h)))continue e}}else{var b=m(h);if(v==U)h=b;else if(!b){if(v==V)continue e;break e}}}f[d++]=h}return f}function ie(){this.__data__={}}function Ge(e){return this.has(e)&&delete this.__data__[e]}function Ke(e){return"__proto__"==e?S:this.__data__[e]}function Ye(e){return"__proto__"!=e&&Ka.call(this.__data__,e)}function Xe(e,t){return"__proto__"!=e&&(this.__data__[e]=t),this}function Qe(e){var t=e?e.length:0;for(this.data={hash:ho(null),set:new so};t--;)this.push(e[t])}function Je(e,t){var n=e.data,r="string"==typeof t||Ti(t)?n.set.has(t):n.hash[t];return r?0:-1}function Ze(e){var t=this.data;"string"==typeof e||Ti(e)?t.set.add(e):t.hash[e]=!0}function et(e,t){var n=-1,r=e.length;for(t||(t=Na(r));++n<r;)t[n]=e[n];return t}function tt(e,t){for(var n=-1,r=e.length;++n<r&&t(e[n],n,e)!==!1;);return e}function nt(e,t){for(var n=e.length;n--&&t(e[n],n,e)!==!1;);return e}function at(e,t){for(var n=-1,r=e.length;++n<r;)if(!t(e[n],n,e))return!1;return!0}function ot(e,t,n,r){for(var i=-1,a=e.length,o=r,s=o;++i<a;){var l=e[i],u=+t(l);n(u,o)&&(o=u,s=l)}return s}function st(e,t){for(var n=-1,r=e.length,i=-1,a=[];++n<r;){var o=e[n];t(o,n,e)&&(a[++i]=o)}return a}function lt(e,t){for(var n=-1,r=e.length,i=Na(r);++n<r;)i[n]=t(e[n],n,e);return i}function ut(e,t,n,r){var i=-1,a=e.length;for(r&&a&&(n=e[++i]);++i<a;)n=t(n,e[i],i,e);return n}function ct(e,t,n,r){var i=e.length;for(r&&i&&(n=e[--i]);i--;)n=t(n,e[i],i,e);return n}function dt(e,t){for(var n=-1,r=e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}function ft(e){for(var t=e.length,n=0;t--;)n+=+e[t]||0;return n}function pt(e,t){return e===S?t:e}function ht(e,t,n,r){return e!==S&&Ka.call(r,n)?e:t}function gt(e,t,n){for(var r=-1,i=js(t),a=i.length;++r<a;){var o=i[r],s=e[o],l=n(s,t[o],o,e,t);(l===l?l===s:s!==s)&&(s!==S||o in e)||(e[o]=l)}return e}function mt(e,t){return null==t?e:yt(t,js(t),e)}function vt(e,t){for(var n=-1,r=null==e,i=!r&&Gn(e),a=i?e.length:0,o=t.length,s=Na(o);++n<o;){var l=t[n];i?s[n]=Kn(l,a)?e[l]:S:s[n]=r?S:e[l]}return s}function yt(e,t,n){n||(n={});for(var r=-1,i=t.length;++r<i;){var a=t[r];n[a]=e[a]}return n}function bt(e,t,n){var r=typeof e;return"function"==r?t===S?e:an(e,t,n):null==e?wa:"object"==r?Ft(e):t===S?Sa(e):jt(e,t)}function wt(e,t,n,r,i,a,o){var s;if(n&&(s=i?n(e,r,i):n(e)),s!==S)return s;if(!Ti(e))return e;var l=ks(e);if(l){if(s=Un(e),!t)return et(e,s)}else{var u=Xa.call(e),c=u==Q;if(u!=ee&&u!=W&&(!c||i))return qe[u]?qn(e,u,t):i?e:{};if(s=zn(c?{}:e),!t)return mt(s,e)}a||(a=[]),o||(o=[]);for(var d=a.length;d--;)if(a[d]==e)return o[d];return a.push(e),o.push(s),(l?tt:At)(e,function(r,i){s[i]=wt(r,t,n,i,e,a,o)}),s}function $t(e,t,n){if("function"!=typeof e)throw new Va(z);return lo(function(){e.apply(S,n)},t)}function xt(e,t){var n=e?e.length:0,r=[];if(!n)return r;var i=-1,a=jn(),o=a==s,l=o&&t.length>=200?Ho(t):null,u=t.length;l&&(a=Je,o=!1,t=l);e:for(;++i<n;){var c=e[i];if(o&&c===c){for(var d=u;d--;)if(t[d]===c)continue e;r.push(c)}else a(t,c,0)<0&&r.push(c)}return r}function Ct(e,t){var n=!0;return Lo(e,function(e,r,i){return n=!!t(e,r,i)}),n}function Et(e,t,n,r){var i=r,a=i;return Lo(e,function(e,o,s){var l=+t(e,o,s);(n(l,i)||l===r&&l===a)&&(i=l,a=e)}),a}function _t(e,t,n,r){var i=e.length;for(n=null==n?0:+n||0,0>n&&(n=-n>i?0:i+n),r=r===S||r>i?i:+r||0,0>r&&(r+=i),i=n>r?0:r>>>0,n>>>=0;i>n;)e[n++]=t;return e}function St(e,t){var n=[];return Lo(e,function(e,r,i){t(e,r,i)&&n.push(e)}),n}function kt(e,t,n,r){var i;return n(e,function(e,n,a){return t(e,n,a)?(i=r?n:e,!1):void 0}),i}function Tt(e,t,n){for(var r=-1,i=e.length,a=-1,o=[];++r<i;){var s=e[r];if(y(s)&&Gn(s)&&(n||ks(s)||$i(s))){t&&(s=Tt(s,t,n));for(var l=-1,u=s.length;++l<u;)o[++a]=s[l]}else n||(o[++a]=s)}return o}function Ot(e,t){return Io(e,t,Gi)}function At(e,t){return Io(e,t,js)}function Rt(e,t){return Fo(e,t,js)}function Mt(e,t){for(var n=-1,r=t.length,i=-1,a=[];++n<r;){var o=t[n];Os(e[o])&&(a[++i]=o)}return a}function Nt(e,t,n){if(null!=e){n!==S&&n in sr(e)&&(t=[n]);for(var r=0,i=t.length;null!=e&&i>r;)e=e[t[r++]];return r&&r==i?e:S}}function Dt(e,t,n,r,i,a){return e===t?!0:null==e||null==t||!Ti(e)&&!y(t)?e!==e&&t!==t:Lt(e,t,Dt,n,r,i,a)}function Lt(e,t,n,r,i,a,o){var s=ks(e),l=ks(t),u=G,c=G;s||(u=Xa.call(e),u==W?u=ee:u!=ee&&(s=Pi(e))),l||(c=Xa.call(t),c==W?c=ee:c!=ee&&(l=Pi(t)));var d=u==ee,f=c==ee,p=u==c;if(p&&!s&&!d)return Ln(e,t,u);if(!i){var h=d&&Ka.call(e,"__wrapped__"),g=f&&Ka.call(t,"__wrapped__");if(h||g)return n(h?e.value():e,g?t.value():t,r,i,a,o)}if(!p)return!1;a||(a=[]),o||(o=[]);for(var m=a.length;m--;)if(a[m]==e)return o[m]==t;a.push(e),o.push(t);var v=(s?Dn:Pn)(e,t,n,r,i,a,o);return a.pop(),o.pop(),v}function Pt(e,t,n){var r=t.length,i=r,a=!n;if(null==e)return!i;for(e=sr(e);r--;){var o=t[r];if(a&&o[2]?o[1]!==e[o[0]]:!(o[0]in e))return!1}for(;++r<i;){o=t[r];var s=o[0],l=e[s],u=o[1];if(a&&o[2]){if(l===S&&!(s in e))return!1}else{var c=n?n(l,u,s):S;if(!(c===S?Dt(u,l,n,!0):c))return!1}}return!0}function It(e,t){var n=-1,r=Gn(e)?Na(e.length):[];return Lo(e,function(e,i,a){r[++n]=t(e,i,a)}),r}function Ft(e){var t=Hn(e);if(1==t.length&&t[0][2]){var n=t[0][0],r=t[0][1];return function(e){return null==e?!1:e[n]===r&&(r!==S||n in sr(e))}}return function(e){return Pt(e,t)}}function jt(e,t){var n=ks(e),r=Xn(e)&&Zn(t),i=e+"";return e=lr(e),function(a){if(null==a)return!1;var o=i;if(a=sr(a),!(!n&&r||o in a)){if(a=1==e.length?a:Nt(a,Gt(e,0,-1)),null==a)return!1;o=xr(e),a=sr(a)}return a[o]===t?t!==S||o in a:Dt(t,a[o],S,!0)}}function Ht(e,t,n,r,i){if(!Ti(e))return e;var a=Gn(t)&&(ks(t)||Pi(t)),o=a?null:js(t);return tt(o||t,function(s,l){if(o&&(l=s,s=t[l]),y(s))r||(r=[]),i||(i=[]),Bt(e,t,l,Ht,n,r,i);else{var u=e[l],c=n?n(u,s,l,e,t):S,d=c===S;d&&(c=s),c===S&&(!a||l in e)||!d&&(c===c?c===u:u!==u)||(e[l]=c)}}),e}function Bt(e,t,n,r,i,a,o){for(var s=a.length,l=t[n];s--;)if(a[s]==l)return void(e[n]=o[s]);var u=e[n],c=i?i(u,l,n,e,t):S,d=c===S;d&&(c=l,Gn(l)&&(ks(l)||Pi(l))?c=ks(u)?u:Gn(u)?et(u):[]:As(l)||$i(l)?c=$i(u)?Bi(u):As(u)?u:{}:d=!1),a.push(l),o.push(c),d?e[n]=r(c,l,i,a,o):(c===c?c!==u:u===u)&&(e[n]=c)}function Vt(e){return function(t){return null==t?S:t[e]}}function Ut(e){var t=e+"";return e=lr(e),function(n){return Nt(n,e,t)}}function zt(e,t){for(var n=e?t.length:0;n--;){var r=t[n];if(r!=i&&Kn(r)){var i=r;uo.call(e,r,1)}}return e}function qt(e,t){return e+ro(Co()*(t-e+1))}function Wt(e,t,n,r,i){return i(e,function(e,i,a){n=r?(r=!1,e):t(n,e,i,a)}),n}function Gt(e,t,n){var r=-1,i=e.length;t=null==t?0:+t||0,0>t&&(t=-t>i?0:i+t),n=n===S||n>i?i:+n||0,0>n&&(n+=i),i=t>n?0:n-t>>>0,t>>>=0;for(var a=Na(i);++r<i;)a[r]=e[r+t];return a}function Kt(e,t){var n;return Lo(e,function(e,r,i){return n=t(e,r,i),!n}),!!n}function Yt(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e}function Xt(e,t,n){var r=In(),i=-1;t=lt(t,function(e){return r(e)});var a=It(e,function(e){var n=lt(t,function(t){return t(e)});return{criteria:n,index:++i,value:e}});return Yt(a,function(e,t){return p(e,t,n)})}function Qt(e,t){var n=0;return Lo(e,function(e,r,i){n+=+t(e,r,i)||0}),n}function Jt(e,t){var n=-1,r=jn(),i=e.length,a=r==s,o=a&&i>=200,l=o?Ho():null,u=[];l?(r=Je,a=!1):(o=!1,l=t?[]:u);e:for(;++n<i;){var c=e[n],d=t?t(c,n,e):c;if(a&&c===c){for(var f=l.length;f--;)if(l[f]===d)continue e;t&&l.push(d),u.push(c)}else r(l,d,0)<0&&((t||o)&&l.push(d),u.push(c))}return u}function Zt(e,t){for(var n=-1,r=t.length,i=Na(r);++n<r;)i[n]=e[t[n]];return i}function en(e,t,n,r){for(var i=e.length,a=r?i:-1;(r?a--:++a<i)&&t(e[a],a,e););return n?Gt(e,r?0:a,r?a+1:i):Gt(e,r?a+1:0,r?i:a)}function tn(e,t){var n=e;n instanceof i&&(n=n.value());for(var r=-1,a=t.length;++r<a;){var o=[n],s=t[r];oo.apply(o,s.args),n=s.func.apply(s.thisArg,o)}return n}function nn(e,t,n){var r=0,i=e?e.length:r;if("number"==typeof t&&t===t&&To>=i){for(;i>r;){var a=r+i>>>1,o=e[a];(n?t>=o:t>o)&&null!==o?r=a+1:i=a}return i}return rn(e,t,wa,n)}function rn(e,t,n,r){t=n(t);for(var i=0,a=e?e.length:0,o=t!==t,s=null===t,l=t===S;a>i;){var u=ro((i+a)/2),c=n(e[u]),d=c!==S,f=c===c;if(o)var p=f||r;else p=s?f&&d&&(r||null!=c):l?f&&(r||d):null==c?!1:r?t>=c:t>c;p?i=u+1:a=u}return bo(a,ko)}function an(e,t,n){if("function"!=typeof e)return wa;if(t===S)return e;switch(n){case 1:return function(n){return e.call(t,n)};case 3:return function(n,r,i){return e.call(t,n,r,i)};case 4:return function(n,r,i,a){return e.call(t,n,r,i,a)};case 5:return function(n,r,i,a,o){return e.call(t,n,r,i,a,o)}}return function(){return e.apply(t,arguments)}}function on(e){return eo.call(e,0)}function sn(e,t,n){for(var r=n.length,i=-1,a=yo(e.length-r,0),o=-1,s=t.length,l=Na(a+s);++o<s;)l[o]=t[o];for(;++i<r;)l[n[i]]=e[i];for(;a--;)l[o++]=e[i++];return l}function ln(e,t,n){for(var r=-1,i=n.length,a=-1,o=yo(e.length-i,0),s=-1,l=t.length,u=Na(o+l);++a<o;)u[a]=e[a];for(var c=a;++s<l;)u[c+s]=t[s];for(;++r<i;)u[c+n[r]]=e[a++];return u}function un(e,t){return function(n,r,i){var a=t?t():{};if(r=In(r,i,3),ks(n))for(var o=-1,s=n.length;++o<s;){var l=n[o];e(a,l,r(l,o,n),n)}else Lo(n,function(t,n,i){e(a,t,r(t,n,i),i)});return a}}function cn(e){return pi(function(t,n){var r=-1,i=null==t?0:n.length,a=i>2?n[i-2]:S,o=i>2?n[2]:S,s=i>1?n[i-1]:S;for("function"==typeof a?(a=an(a,s,5),i-=2):(a="function"==typeof s?s:S,i-=a?1:0),o&&Yn(n[0],n[1],o)&&(a=3>i?S:a,i=1);++r<i;){var l=n[r];l&&e(t,l,a)}return t})}function dn(e,t){return function(n,r){var i=n?Vo(n):0;if(!Jn(i))return e(n,r);for(var a=t?i:-1,o=sr(n);(t?a--:++a<i)&&r(o[a],a,o)!==!1;);return n}}function fn(e){return function(t,n,r){for(var i=sr(t),a=r(t),o=a.length,s=e?o:-1;e?s--:++s<o;){var l=a[s];if(n(i[l],l,i)===!1)break}return t}}function pn(e,t){function n(){var i=this&&this!==rt&&this instanceof n?r:e;return i.apply(t,arguments)}var r=gn(e);return n}function hn(e){return function(t){for(var n=-1,r=va(ra(t)),i=r.length,a="";++n<i;)a=e(a,r[n],n);return a}}function gn(e){return function(){var t=arguments;switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4])}var n=Do(e.prototype),r=e.apply(n,t);return Ti(r)?r:n}}function mn(e){function t(n,r,i){i&&Yn(n,r,i)&&(r=null);var a=Nn(n,e,null,null,null,null,null,r);return a.placeholder=t.placeholder,a}return t}function vn(e,t){return function(n,r,i){if(i&&Yn(n,r,i)&&(r=null),r=In(r,i,3),1==r.length){n=or(n);var a=ot(n,r,e,t);if(!n.length||a!==t)return a}return Et(n,r,e,t)}}function yn(e,t){return function(n,r,i){if(r=In(r,i,3),ks(n)){var a=o(n,r,t);return a>-1?n[a]:S}return kt(n,r,e)}}function bn(e){return function(t,n,r){return t&&t.length?(n=In(n,r,3),o(t,n,e)):-1}}function wn(e){return function(t,n,r){return n=In(n,r,3),kt(t,n,e,!0)}}function $n(e){return function(){for(var t,n=arguments.length,i=e?n:-1,a=0,o=Na(n);e?i--:++i<n;){var s=o[a++]=arguments[i];if("function"!=typeof s)throw new Va(z);!t&&r.prototype.thru&&"wrapper"==Fn(s)&&(t=new r([]))}for(i=t?-1:n;++i<n;){s=o[i];var l=Fn(s),u="wrapper"==l?Bo(s):null;t=u&&Qn(u[0])&&u[1]==(L|R|N|P)&&!u[4].length&&1==u[9]?t[Fn(u[0])].apply(t,u[3]):1==s.length&&Qn(s)?t[l]():t.thru(s)}return function(){var e=arguments;if(t&&1==e.length&&ks(e[0]))return t.plant(e[0]).value();for(var r=0,i=n?o[r].apply(this,e):e[0];++r<n;)i=o[r].call(this,i);return i}}}function xn(e,t){return function(n,r,i){return"function"==typeof r&&i===S&&ks(n)?e(n,r):t(n,an(r,i,3))}}function Cn(e){return function(t,n,r){return("function"!=typeof n||r!==S)&&(n=an(n,r,3)),e(t,n,Gi)}}function En(e){return function(t,n,r){
return("function"!=typeof n||r!==S)&&(n=an(n,r,3)),e(t,n)}}function _n(e){return function(t,n,r){var i={};return n=In(n,r,3),At(t,function(t,r,a){var o=n(t,r,a);r=e?o:r,t=e?t:o,i[r]=t}),i}}function Sn(e){return function(t,n,r){return t=u(t),(e?t:"")+An(t,n,r)+(e?"":t)}}function kn(e){var t=pi(function(n,r){var i=w(r,t.placeholder);return Nn(n,e,null,r,i)});return t}function Tn(e,t){return function(n,r,i,a){var o=arguments.length<3;return"function"==typeof r&&a===S&&ks(n)?e(n,r,i,o):Wt(n,In(r,a,4),i,o,t)}}function On(e,t,n,r,i,a,o,s,l,u){function c(){for(var y=arguments.length,b=y,$=Na(y);b--;)$[b]=arguments[b];if(r&&($=sn($,r,i)),a&&($=ln($,a,o)),h||m){var x=c.placeholder,C=w($,x);if(y-=C.length,u>y){var E=s?et(s):null,_=yo(u-y,0),k=h?C:null,A=h?null:C,R=h?$:null,M=h?null:$;t|=h?N:D,t&=~(h?D:N),g||(t&=~(T|O));var L=[e,t,n,R,k,M,A,E,l,_],P=On.apply(S,L);return Qn(e)&&Uo(P,L),P.placeholder=x,P}}var I=f?n:this,F=p?I[e]:e;return s&&($=rr($,s)),d&&l<$.length&&($.length=l),this&&this!==rt&&this instanceof c&&(F=v||gn(e)),F.apply(I,$)}var d=t&L,f=t&T,p=t&O,h=t&R,g=t&A,m=t&M,v=p?null:gn(e);return c}function An(e,t,n){var r=e.length;if(t=+t,r>=t||!mo(t))return"";var i=t-r;return n=null==n?" ":n+"",ua(n,to(i/n.length)).slice(0,i)}function Rn(e,t,n,r){function i(){for(var t=-1,s=arguments.length,l=-1,u=r.length,c=Na(s+u);++l<u;)c[l]=r[l];for(;s--;)c[l++]=arguments[++t];var d=this&&this!==rt&&this instanceof i?o:e;return d.apply(a?n:this,c)}var a=t&T,o=gn(e);return i}function Mn(e){return function(t,n,r,i){var a=In(r);return null==r&&a===bt?nn(t,n,e):rn(t,n,a(r,i,1),e)}}function Nn(e,t,n,r,i,a,o,s){var l=t&O;if(!l&&"function"!=typeof e)throw new Va(z);var u=r?r.length:0;if(u||(t&=~(N|D),r=i=null),u-=i?i.length:0,t&D){var c=r,d=i;r=i=null}var f=l?null:Bo(e),p=[e,t,n,r,i,c,d,a,o,s];if(f&&(er(p,f),t=p[1],s=p[9]),p[9]=null==s?l?0:e.length:yo(s-u,0)||0,t==T)var h=pn(p[0],p[2]);else h=t!=N&&t!=(T|N)||p[4].length?On.apply(S,p):Rn.apply(S,p);var g=f?jo:Uo;return g(h,p)}function Dn(e,t,n,r,i,a,o){var s=-1,l=e.length,u=t.length;if(l!=u&&!(i&&u>l))return!1;for(;++s<l;){var c=e[s],d=t[s],f=r?r(i?d:c,i?c:d,s):S;if(f!==S){if(f)continue;return!1}if(i){if(!dt(t,function(e){return c===e||n(c,e,r,i,a,o)}))return!1}else if(c!==d&&!n(c,d,r,i,a,o))return!1}return!0}function Ln(e,t,n){switch(n){case K:case Y:return+e==+t;case X:return e.name==t.name&&e.message==t.message;case Z:return e!=+e?t!=+t:e==+t;case te:case re:return e==t+""}return!1}function Pn(e,t,n,r,i,a,o){var s=js(e),l=s.length,u=js(t),c=u.length;if(l!=c&&!i)return!1;for(var d=l;d--;){var f=s[d];if(!(i?f in t:Ka.call(t,f)))return!1}for(var p=i;++d<l;){f=s[d];var h=e[f],g=t[f],m=r?r(i?g:h,i?h:g,f):S;if(!(m===S?n(h,g,r,i,a,o):m))return!1;p||(p="constructor"==f)}if(!p){var v=e.constructor,y=t.constructor;if(v!=y&&"constructor"in e&&"constructor"in t&&!("function"==typeof v&&v instanceof v&&"function"==typeof y&&y instanceof y))return!1}return!0}function In(e,n,r){var i=t.callback||ya;return i=i===ya?bt:i,r?i(e,n,r):i}function Fn(e){for(var t=e.name,n=Mo[t],r=n?n.length:0;r--;){var i=n[r],a=i.func;if(null==a||a==e)return i.name}return t}function jn(e,n,r){var i=t.indexOf||wr;return i=i===wr?s:i,e?i(e,n,r):i}function Hn(e){for(var t=Ki(e),n=t.length;n--;)t[n][2]=Zn(t[n][1]);return t}function Bn(e,t){var n=null==e?S:e[t];return Ri(n)?n:S}function Vn(e,t,n){for(var r=-1,i=n?n.length:0;++r<i;){var a=n[r],o=a.size;switch(a.type){case"drop":e+=o;break;case"dropRight":t-=o;break;case"take":t=bo(t,e+o);break;case"takeRight":e=yo(e,t-o)}}return{start:e,end:t}}function Un(e){var t=e.length,n=new e.constructor(t);return t&&"string"==typeof e[0]&&Ka.call(e,"index")&&(n.index=e.index,n.input=e.input),n}function zn(e){var t=e.constructor;return"function"==typeof t&&t instanceof t||(t=ja),new t}function qn(e,t,n){var r=e.constructor;switch(t){case ae:return on(e);case K:case Y:return new r(+e);case oe:case se:case le:case ue:case ce:case de:case fe:case pe:case he:var i=e.buffer;return new r(n?on(i):i,e.byteOffset,e.length);case Z:case re:return new r(e);case te:var a=new r(e.source,Ne.exec(e));a.lastIndex=e.lastIndex}return a}function Wn(e,t,n){null==e||Xn(t,e)||(t=lr(t),e=1==t.length?e:Nt(e,Gt(t,0,-1)),t=xr(t));var r=null==e?e:e[t];return null==r?S:r.apply(e,n)}function Gn(e){return null!=e&&Jn(Vo(e))}function Kn(e,t){return e="number"==typeof e||Pe.test(e)?+e:-1,t=null==t?Ao:t,e>-1&&e%1==0&&t>e}function Yn(e,t,n){if(!Ti(n))return!1;var r=typeof t;if("number"==r?Gn(n)&&Kn(t,n.length):"string"==r&&t in n){var i=n[t];return e===e?e===i:i!==i}return!1}function Xn(e,t){var n=typeof e;if("string"==n&&Se.test(e)||"number"==n)return!0;if(ks(e))return!1;var r=!_e.test(e);return r||null!=t&&e in sr(t)}function Qn(e){var n=Fn(e);if(!(n in i.prototype))return!1;var r=t[n];if(e===r)return!0;var a=Bo(r);return!!a&&e===a[0]}function Jn(e){return"number"==typeof e&&e>-1&&e%1==0&&Ao>=e}function Zn(e){return e===e&&!Ti(e)}function er(e,t){var n=e[1],r=t[1],i=n|r,a=L>i,o=r==L&&n==R||r==L&&n==P&&e[7].length<=t[8]||r==(L|P)&&n==R;if(!a&&!o)return e;r&T&&(e[2]=t[2],i|=n&T?0:A);var s=t[3];if(s){var l=e[3];e[3]=l?sn(l,s,t[4]):et(s),e[4]=l?w(e[3],q):et(t[4])}return s=t[5],s&&(l=e[5],e[5]=l?ln(l,s,t[6]):et(s),e[6]=l?w(e[5],q):et(t[6])),s=t[7],s&&(e[7]=et(s)),r&L&&(e[8]=null==e[8]?t[8]:bo(e[8],t[8])),null==e[9]&&(e[9]=t[9]),e[0]=t[0],e[1]=i,e}function tr(e,t){e=sr(e);for(var n=-1,r=t.length,i={};++n<r;){var a=t[n];a in e&&(i[a]=e[a])}return i}function nr(e,t){var n={};return Ot(e,function(e,r,i){t(e,r,i)&&(n[r]=e)}),n}function rr(e,t){for(var n=e.length,r=bo(t.length,n),i=et(e);r--;){var a=t[r];e[r]=Kn(a,n)?i[a]:S}return e}function ir(e){var n;t.support;if(!y(e)||Xa.call(e)!=ee||!Ka.call(e,"constructor")&&(n=e.constructor,"function"==typeof n&&!(n instanceof n)))return!1;var r;return Ot(e,function(e,t){r=t}),r===S||Ka.call(e,r)}function ar(e){for(var t=Gi(e),n=t.length,r=n&&e.length,i=!!r&&Jn(r)&&(ks(e)||$i(e)),a=-1,o=[];++a<n;){var s=t[a];(i&&Kn(s,r)||Ka.call(e,s))&&o.push(s)}return o}function or(e){return null==e?[]:Gn(e)?Ti(e)?e:ja(e):Ji(e)}function sr(e){return Ti(e)?e:ja(e)}function lr(e){if(ks(e))return e;var t=[];return u(e).replace(ke,function(e,n,r,i){t.push(r?i.replace(Re,"$1"):n||e)}),t}function ur(e){return e instanceof i?e.clone():new r(e.__wrapped__,e.__chain__,et(e.__actions__))}function cr(e,t,n){t=(n?Yn(e,t,n):null==t)?1:yo(+t||1,1);for(var r=0,i=e?e.length:0,a=-1,o=Na(to(i/t));i>r;)o[++a]=Gt(e,r,r+=t);return o}function dr(e){for(var t=-1,n=e?e.length:0,r=-1,i=[];++t<n;){var a=e[t];a&&(i[++r]=a)}return i}function fr(e,t,n){var r=e?e.length:0;return r?((n?Yn(e,t,n):null==t)&&(t=1),Gt(e,0>t?0:t)):[]}function pr(e,t,n){var r=e?e.length:0;return r?((n?Yn(e,t,n):null==t)&&(t=1),t=r-(+t||0),Gt(e,0,0>t?0:t)):[]}function hr(e,t,n){return e&&e.length?en(e,In(t,n,3),!0,!0):[]}function gr(e,t,n){return e&&e.length?en(e,In(t,n,3),!0):[]}function mr(e,t,n,r){var i=e?e.length:0;return i?(n&&"number"!=typeof n&&Yn(e,t,n)&&(n=0,r=i),_t(e,t,n,r)):[]}function vr(e){return e?e[0]:S}function yr(e,t,n){var r=e?e.length:0;return n&&Yn(e,t,n)&&(t=!1),r?Tt(e,t):[]}function br(e){var t=e?e.length:0;return t?Tt(e,!0):[]}function wr(e,t,n){var r=e?e.length:0;if(!r)return-1;if("number"==typeof n)n=0>n?yo(r+n,0):n;else if(n){var i=nn(e,t),a=e[i];return(t===t?t===a:a!==a)?i:-1}return s(e,t,n||0)}function $r(e){return pr(e,1)}function xr(e){var t=e?e.length:0;return t?e[t-1]:S}function Cr(e,t,n){var r=e?e.length:0;if(!r)return-1;var i=r;if("number"==typeof n)i=(0>n?yo(r+n,0):bo(n||0,r-1))+1;else if(n){i=nn(e,t,!0)-1;var a=e[i];return(t===t?t===a:a!==a)?i:-1}if(t!==t)return v(e,i,!0);for(;i--;)if(e[i]===t)return i;return-1}function Er(){var e=arguments,t=e[0];if(!t||!t.length)return t;for(var n=0,r=jn(),i=e.length;++n<i;)for(var a=0,o=e[n];(a=r(t,o,a))>-1;)uo.call(t,a,1);return t}function _r(e,t,n){var r=[];if(!e||!e.length)return r;var i=-1,a=[],o=e.length;for(t=In(t,n,3);++i<o;){var s=e[i];t(s,i,e)&&(r.push(s),a.push(i))}return zt(e,a),r}function Sr(e){return fr(e,1)}function kr(e,t,n){var r=e?e.length:0;return r?(n&&"number"!=typeof n&&Yn(e,t,n)&&(t=0,n=r),Gt(e,t,n)):[]}function Tr(e,t,n){var r=e?e.length:0;return r?((n?Yn(e,t,n):null==t)&&(t=1),Gt(e,0,0>t?0:t)):[]}function Or(e,t,n){var r=e?e.length:0;return r?((n?Yn(e,t,n):null==t)&&(t=1),t=r-(+t||0),Gt(e,0>t?0:t)):[]}function Ar(e,t,n){return e&&e.length?en(e,In(t,n,3),!1,!0):[]}function Rr(e,t,n){return e&&e.length?en(e,In(t,n,3)):[]}function Mr(e,t,n,r){var i=e?e.length:0;if(!i)return[];null!=t&&"boolean"!=typeof t&&(r=n,n=Yn(e,t,r)?null:t,t=!1);var a=In();return(null!=n||a!==bt)&&(n=a(n,r,3)),t&&jn()==s?$(e,n):Jt(e,n)}function Nr(e){if(!e||!e.length)return[];var t=-1,n=0;e=st(e,function(e){return Gn(e)?(n=yo(e.length,n),!0):void 0});for(var r=Na(n);++t<n;)r[t]=lt(e,Vt(t));return r}function Dr(e,t,n){var r=e?e.length:0;if(!r)return[];var i=Nr(e);return null==t?i:(t=an(t,n,4),lt(i,function(e){return ut(e,t,S,!0)}))}function Lr(){for(var e=-1,t=arguments.length;++e<t;){var n=arguments[e];if(Gn(n))var r=r?xt(r,n).concat(xt(n,r)):n}return r?Jt(r):[]}function Pr(e,t){var n=-1,r=e?e.length:0,i={};for(!r||t||ks(e[0])||(t=[]);++n<r;){var a=e[n];t?i[a]=t[n]:a&&(i[a[0]]=a[1])}return i}function Ir(e){var n=t(e);return n.__chain__=!0,n}function Fr(e,t,n){return t.call(n,e),e}function jr(e,t,n){return t.call(n,e)}function Hr(){return Ir(this)}function Br(){return new r(this.value(),this.__chain__)}function Vr(e){for(var t,r=this;r instanceof n;){var i=ur(r);t?a.__wrapped__=i:t=i;var a=i;r=r.__wrapped__}return a.__wrapped__=e,t}function Ur(){var e=this.__wrapped__;return e instanceof i?(this.__actions__.length&&(e=new i(this)),new r(e.reverse(),this.__chain__)):this.thru(function(e){return e.reverse()})}function zr(){return this.value()+""}function qr(){return tn(this.__wrapped__,this.__actions__)}function Wr(e,t,n){var r=ks(e)?at:Ct;return n&&Yn(e,t,n)&&(t=null),("function"!=typeof t||n!==S)&&(t=In(t,n,3)),r(e,t)}function Gr(e,t,n){var r=ks(e)?st:St;return t=In(t,n,3),r(e,t)}function Kr(e,t){return rs(e,Ft(t))}function Yr(e,t,n,r){var i=e?Vo(e):0;return Jn(i)||(e=Ji(e),i=e.length),i?(n="number"!=typeof n||r&&Yn(t,n,r)?0:0>n?yo(i+n,0):n||0,"string"==typeof e||!ks(e)&&Li(e)?i>n&&e.indexOf(t,n)>-1:jn(e,t,n)>-1):!1}function Xr(e,t,n){var r=ks(e)?lt:It;return t=In(t,n,3),r(e,t)}function Qr(e,t){return Xr(e,Sa(t))}function Jr(e,t,n){var r=ks(e)?st:St;return t=In(t,n,3),r(e,function(e,n,r){return!t(e,n,r)})}function Zr(e,t,n){if(n?Yn(e,t,n):null==t){e=or(e);var r=e.length;return r>0?e[qt(0,r-1)]:S}var i=-1,a=Hi(e),r=a.length,o=r-1;for(t=bo(0>t?0:+t||0,r);++i<t;){var s=qt(i,o),l=a[s];a[s]=a[i],a[i]=l}return a.length=t,a}function ei(e){return Zr(e,_o)}function ti(e){var t=e?Vo(e):0;return Jn(t)?t:js(e).length}function ni(e,t,n){var r=ks(e)?dt:Kt;return n&&Yn(e,t,n)&&(t=null),("function"!=typeof t||n!==S)&&(t=In(t,n,3)),r(e,t)}function ri(e,t,n){if(null==e)return[];n&&Yn(e,t,n)&&(t=null);var r=-1;t=In(t,n,3);var i=It(e,function(e,n,i){return{criteria:t(e,n,i),index:++r,value:e}});return Yt(i,f)}function ii(e,t,n,r){return null==e?[]:(r&&Yn(t,n,r)&&(n=null),ks(t)||(t=null==t?[]:[t]),ks(n)||(n=null==n?[]:[n]),Xt(e,t,n))}function ai(e,t){return Gr(e,Ft(t))}function oi(e,t){if("function"!=typeof t){if("function"!=typeof e)throw new Va(z);var n=e;e=t,t=n}return e=mo(e=+e)?e:0,function(){return--e<1?t.apply(this,arguments):void 0}}function si(e,t,n){return n&&Yn(e,t,n)&&(t=null),t=e&&null==t?e.length:yo(+t||0,0),Nn(e,L,null,null,null,null,t)}function li(e,t){var n;if("function"!=typeof t){if("function"!=typeof e)throw new Va(z);var r=e;e=t,t=r}return function(){return--e>0&&(n=t.apply(this,arguments)),1>=e&&(t=null),n}}function ui(e,t,n){function r(){f&&no(f),l&&no(l),l=f=p=S}function i(){var n=t-(hs()-c);if(0>=n||n>t){l&&no(l);var r=p;l=f=p=S,r&&(h=hs(),u=e.apply(d,s),f||l||(s=d=null))}else f=lo(i,n)}function a(){f&&no(f),l=f=p=S,(m||g!==t)&&(h=hs(),u=e.apply(d,s),f||l||(s=d=null))}function o(){if(s=arguments,c=hs(),d=this,p=m&&(f||!v),g===!1)var n=v&&!f;else{l||v||(h=c);var r=g-(c-h),o=0>=r||r>g;o?(l&&(l=no(l)),h=c,u=e.apply(d,s)):l||(l=lo(a,r))}return o&&f?f=no(f):f||t===g||(f=lo(i,t)),n&&(o=!0,u=e.apply(d,s)),!o||f||l||(s=d=null),u}var s,l,u,c,d,f,p,h=0,g=!1,m=!0;if("function"!=typeof e)throw new Va(z);if(t=0>t?0:+t||0,n===!0){var v=!0;m=!1}else Ti(n)&&(v=n.leading,g="maxWait"in n&&yo(+n.maxWait||0,t),m="trailing"in n?n.trailing:m);return o.cancel=r,o}function ci(e,t){if("function"!=typeof e||t&&"function"!=typeof t)throw new Va(z);var n=function(){var r=arguments,i=t?t.apply(this,r):r[0],a=n.cache;if(a.has(i))return a.get(i);var o=e.apply(this,r);return n.cache=a.set(i,o),o};return n.cache=new ci.Cache,n}function di(e){if("function"!=typeof e)throw new Va(z);return function(){return!e.apply(this,arguments)}}function fi(e){return li(2,e)}function pi(e,t){if("function"!=typeof e)throw new Va(z);return t=yo(t===S?e.length-1:+t||0,0),function(){for(var n=arguments,r=-1,i=yo(n.length-t,0),a=Na(i);++r<i;)a[r]=n[t+r];switch(t){case 0:return e.call(this,a);case 1:return e.call(this,n[0],a);case 2:return e.call(this,n[0],n[1],a)}var o=Na(t+1);for(r=-1;++r<t;)o[r]=n[r];return o[t]=a,e.apply(this,o)}}function hi(e){if("function"!=typeof e)throw new Va(z);return function(t){return e.apply(this,t)}}function gi(e,t,n){var r=!0,i=!0;if("function"!=typeof e)throw new Va(z);return n===!1?r=!1:Ti(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),We.leading=r,We.maxWait=+t,We.trailing=i,ui(e,t,We)}function mi(e,t){return t=null==t?wa:t,Nn(t,N,null,[e],[])}function vi(e,t,n,r){return t&&"boolean"!=typeof t&&Yn(e,t,n)?t=!1:"function"==typeof t&&(r=n,n=t,t=!1),"function"==typeof n?wt(e,t,an(n,r,1)):wt(e,t)}function yi(e,t,n){return"function"==typeof t?wt(e,!0,an(t,n,1)):wt(e,!0)}function bi(e,t){return e>t}function wi(e,t){return e>=t}function $i(e){return y(e)&&Gn(e)&&Xa.call(e)==W}function xi(e){return e===!0||e===!1||y(e)&&Xa.call(e)==K}function Ci(e){return y(e)&&Xa.call(e)==Y}function Ei(e){return!!e&&1===e.nodeType&&y(e)&&Xa.call(e).indexOf("Element")>-1}function _i(e){return null==e?!0:Gn(e)&&(ks(e)||Li(e)||$i(e)||y(e)&&Os(e.splice))?!e.length:!js(e).length}function Si(e,t,n,r){n="function"==typeof n?an(n,r,3):S;var i=n?n(e,t):S;return i===S?Dt(e,t,n):!!i}function ki(e){return y(e)&&"string"==typeof e.message&&Xa.call(e)==X}function Ti(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function Oi(e,t,n,r){return n="function"==typeof n?an(n,r,3):S,Pt(e,Hn(t),n)}function Ai(e){return Ni(e)&&e!=+e}function Ri(e){return null==e?!1:Xa.call(e)==Q?Ja.test(Ga.call(e)):y(e)&&Le.test(e)}function Mi(e){return null===e}function Ni(e){return"number"==typeof e||y(e)&&Xa.call(e)==Z}function Di(e){return y(e)&&Xa.call(e)==te}function Li(e){return"string"==typeof e||y(e)&&Xa.call(e)==re}function Pi(e){return y(e)&&Jn(e.length)&&!!ze[Xa.call(e)]}function Ii(e){return e===S}function Fi(e,t){return t>e}function ji(e,t){return t>=e}function Hi(e){var t=e?Vo(e):0;return Jn(t)?t?et(e):[]:Ji(e)}function Bi(e){return yt(e,Gi(e))}function Vi(e,t,n){var r=Do(e);return n&&Yn(e,t,n)&&(t=null),t?mt(r,t):r}function Ui(e){return Mt(e,Gi(e))}function zi(e,t,n){var r=null==e?S:Nt(e,lr(t),t+"");return r===S?n:r}function qi(e,t){if(null==e)return!1;var n=Ka.call(e,t);if(!n&&!Xn(t)){if(t=lr(t),e=1==t.length?e:Nt(e,Gt(t,0,-1)),null==e)return!1;t=xr(t),n=Ka.call(e,t)}return n||Jn(e.length)&&Kn(t,e.length)&&(ks(e)||$i(e))}function Wi(e,t,n){n&&Yn(e,t,n)&&(t=null);for(var r=-1,i=js(e),a=i.length,o={};++r<a;){var s=i[r],l=e[s];t?Ka.call(o,l)?o[l].push(s):o[l]=[s]:o[l]=s}return o}function Gi(e){if(null==e)return[];Ti(e)||(e=ja(e));var t=e.length;t=t&&Jn(t)&&(ks(e)||$i(e))&&t||0;for(var n=e.constructor,r=-1,i="function"==typeof n&&n.prototype===e,a=Na(t),o=t>0;++r<t;)a[r]=r+"";for(var s in e)o&&Kn(s,t)||"constructor"==s&&(i||!Ka.call(e,s))||a.push(s);return a}function Ki(e){e=sr(e);for(var t=-1,n=js(e),r=n.length,i=Na(r);++t<r;){var a=n[t];i[t]=[a,e[a]]}return i}function Yi(e,t,n){var r=null==e?S:e[t];return r===S&&(null==e||Xn(t,e)||(t=lr(t),e=1==t.length?e:Nt(e,Gt(t,0,-1)),r=null==e?S:e[xr(t)]),r=r===S?n:r),Os(r)?r.call(e):r}function Xi(e,t,n){if(null==e)return e;var r=t+"";t=null!=e[r]||Xn(t,e)?[r]:lr(t);for(var i=-1,a=t.length,o=a-1,s=e;null!=s&&++i<a;){var l=t[i];Ti(s)&&(i==o?s[l]=n:null==s[l]&&(s[l]=Kn(t[i+1])?[]:{})),s=s[l]}return e}function Qi(e,t,n,r){var i=ks(e)||Pi(e);if(t=In(t,r,4),null==n)if(i||Ti(e)){var a=e.constructor;n=i?ks(e)?new a:[]:Do(Os(a)?a.prototype:null)}else n={};return(i?tt:At)(e,function(e,r,i){return t(n,e,r,i)}),n}function Ji(e){return Zt(e,js(e))}function Zi(e){return Zt(e,Gi(e))}function ea(e,t,n){return t=+t||0,"undefined"==typeof n?(n=t,t=0):n=+n||0,e>=bo(t,n)&&e<yo(t,n)}function ta(e,t,n){n&&Yn(e,t,n)&&(t=n=null);var r=null==e,i=null==t;if(null==n&&(i&&"boolean"==typeof e?(n=e,e=1):"boolean"==typeof t&&(n=t,i=!0)),r&&i&&(t=1,i=!1),e=+e||0,i?(t=e,e=0):t=+t||0,n||e%1||t%1){var a=Co();return bo(e+a*(t-e+ao("1e-"+((a+"").length-1))),t)}return qt(e,t)}function na(e){return e=u(e),e&&e.charAt(0).toUpperCase()+e.slice(1)}function ra(e){return e=u(e),e&&e.replace(Ie,h).replace(Ae,"")}function ia(e,t,n){e=u(e),t+="";var r=e.length;return n=n===S?r:bo(0>n?0:+n||0,r),n-=t.length,n>=0&&e.indexOf(t,n)==n}function aa(e){return e=u(e),e&&$e.test(e)?e.replace(be,g):e}function oa(e){return e=u(e),e&&Oe.test(e)?e.replace(Te,"\\$&"):e}function sa(e,t,n){e=u(e),t=+t;var r=e.length;if(r>=t||!mo(t))return e;var i=(t-r)/2,a=ro(i),o=to(i);return n=An("",o,n),n.slice(0,a)+e+n}function la(e,t,n){return n&&Yn(e,t,n)&&(t=0),xo(e,t)}function ua(e,t){var n="";if(e=u(e),t=+t,1>t||!e||!mo(t))return n;do t%2&&(n+=e),t=ro(t/2),e+=e;while(t);return n}function ca(e,t,n){return e=u(e),n=null==n?0:bo(0>n?0:+n||0,e.length),e.lastIndexOf(t,n)==n}function da(e,n,r){var i=t.templateSettings;r&&Yn(e,n,r)&&(n=r=null),e=u(e),n=gt(mt({},r||n),i,ht);var a,o,s=gt(mt({},n.imports),i.imports,ht),l=js(s),c=Zt(s,l),d=0,f=n.interpolate||Fe,p="__p += '",h=Ha((n.escape||Fe).source+"|"+f.source+"|"+(f===Ee?Me:Fe).source+"|"+(n.evaluate||Fe).source+"|$","g"),g="//# sourceURL="+("sourceURL"in n?n.sourceURL:"lodash.templateSources["+ ++Ue+"]")+"\n";e.replace(h,function(t,n,r,i,s,l){return r||(r=i),p+=e.slice(d,l).replace(je,m),n&&(a=!0,p+="' +\n__e("+n+") +\n'"),s&&(o=!0,p+="';\n"+s+";\n__p += '"),r&&(p+="' +\n((__t = ("+r+")) == null ? '' : __t) +\n'"),d=l+t.length,t}),p+="';\n";var v=n.variable;v||(p="with (obj) {\n"+p+"\n}\n"),p=(o?p.replace(ge,""):p).replace(me,"$1").replace(ve,"$1;"),p="function("+(v||"obj")+") {\n"+(v?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(a?", __e = _.escape":"")+(o?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+p+"return __p\n}";var y=Qs(function(){return Pa(l,g+"return "+p).apply(S,c)});if(y.source=p,ki(y))throw y;return y}function fa(e,t,n){var r=e;return(e=u(e))?(n?Yn(r,t,n):null==t)?e.slice(x(e),C(e)+1):(t+="",e.slice(c(e,t),d(e,t)+1)):e}function pa(e,t,n){var r=e;return e=u(e),e?(n?Yn(r,t,n):null==t)?e.slice(x(e)):e.slice(c(e,t+"")):e}function ha(e,t,n){var r=e;return e=u(e),e?(n?Yn(r,t,n):null==t)?e.slice(0,C(e)+1):e.slice(0,d(e,t+"")+1):e}function ga(e,t,n){n&&Yn(e,t,n)&&(t=null);var r=I,i=F;if(null!=t)if(Ti(t)){var a="separator"in t?t.separator:a;r="length"in t?+t.length||0:r,i="omission"in t?u(t.omission):i}else r=+t||0;if(e=u(e),r>=e.length)return e;var o=r-i.length;if(1>o)return i;var s=e.slice(0,o);if(null==a)return s+i;if(Di(a)){if(e.slice(o).search(a)){var l,c,d=e.slice(0,o);for(a.global||(a=Ha(a.source,(Ne.exec(a)||"")+"g")),a.lastIndex=0;l=a.exec(d);)c=l.index;s=s.slice(0,null==c?o:c)}}else if(e.indexOf(a,o)!=o){var f=s.lastIndexOf(a);f>-1&&(s=s.slice(0,f))}return s+i}function ma(e){return e=u(e),e&&we.test(e)?e.replace(ye,E):e}function va(e,t,n){return n&&Yn(e,t,n)&&(t=null),e=u(e),e.match(t||He)||[]}function ya(e,t,n){return n&&Yn(e,t,n)&&(t=null),y(e)?$a(e):bt(e,t)}function ba(e){return function(){return e}}function wa(e){return e}function $a(e){return Ft(wt(e,!0))}function xa(e,t){return jt(e,wt(t,!0))}function Ca(e,t,n){if(null==n){var r=Ti(t),i=r?js(t):null,a=i&&i.length?Mt(t,i):null;(a?a.length:r)||(a=!1,n=t,t=e,e=this)}a||(a=Mt(t,js(t)));var o=!0,s=-1,l=Os(e),u=a.length;n===!1?o=!1:Ti(n)&&"chain"in n&&(o=n.chain);for(;++s<u;){var c=a[s],d=t[c];e[c]=d,l&&(e.prototype[c]=function(t){return function(){var n=this.__chain__;if(o||n){var r=e(this.__wrapped__),i=r.__actions__=et(this.__actions__);return i.push({func:t,args:arguments,thisArg:e}),r.__chain__=n,r}var a=[this.value()];return oo.apply(a,arguments),t.apply(e,a)}}(d))}return e}function Ea(){return e._=Qa,this}function _a(){}function Sa(e){return Xn(e)?Vt(e):Ut(e)}function ka(e){return function(t){return Nt(e,lr(t),t+"")}}function Ta(e,t,n){n&&Yn(e,t,n)&&(t=n=null),e=+e||0,n=null==n?1:+n||0,null==t?(t=e,e=0):t=+t||0;for(var r=-1,i=yo(to((t-e)/(n||1)),0),a=Na(i);++r<i;)a[r]=e,e+=n;return a}function Oa(e,t,n){if(e=ro(e),1>e||!mo(e))return[];var r=-1,i=Na(bo(e,So));for(t=an(t,n,1);++r<e;)So>r?i[r]=t(r):t(r);return i}function Aa(e){var t=++Ya;return u(e)+t}function Ra(e,t){return(+e||0)+(+t||0)}function Ma(e,t,n){n&&Yn(e,t,n)&&(t=null);var r=In(),i=null==t;return i&&r===bt||(i=!1,t=r(t,n,3)),i?ft(ks(e)?e:or(e)):Qt(e,t)}e=e?it.defaults(rt.Object(),e,it.pick(rt,Ve)):rt;var Na=e.Array,Da=e.Date,La=e.Error,Pa=e.Function,Ia=e.Math,Fa=e.Number,ja=e.Object,Ha=e.RegExp,Ba=e.String,Va=e.TypeError,Ua=Na.prototype,za=ja.prototype,qa=Ba.prototype,Wa=(Wa=e.window)?Wa.document:null,Ga=Pa.prototype.toString,Ka=za.hasOwnProperty,Ya=0,Xa=za.toString,Qa=e._,Ja=Ha("^"+oa(Ga.call(Ka)).replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Za=Bn(e,"ArrayBuffer"),eo=Bn(Za&&new Za(0),"slice"),to=Ia.ceil,no=e.clearTimeout,ro=Ia.floor,io=Bn(ja,"getPrototypeOf"),ao=e.parseFloat,oo=Ua.push,so=Bn(e,"Set"),lo=e.setTimeout,uo=Ua.splice,co=Bn(e,"Uint8Array"),fo=Bn(e,"WeakMap"),po=function(){try{var t=Bn(e,"Float64Array"),n=new t(new Za(10),0,1)&&t}catch(r){}return n||null}(),ho=Bn(ja,"create"),go=Bn(Na,"isArray"),mo=e.isFinite,vo=Bn(ja,"keys"),yo=Ia.max,bo=Ia.min,wo=Bn(Da,"now"),$o=Bn(Fa,"isFinite"),xo=e.parseInt,Co=Ia.random,Eo=Fa.NEGATIVE_INFINITY,_o=Fa.POSITIVE_INFINITY,So=4294967295,ko=So-1,To=So>>>1,Oo=po?po.BYTES_PER_ELEMENT:0,Ao=9007199254740991,Ro=fo&&new fo,Mo={},No=t.support={};!function(e){var t=function(){this.x=e},n=[];t.prototype={valueOf:e,y:e};for(var r in new t)n.push(r);try{No.dom=11===Wa.createDocumentFragment().nodeType}catch(i){No.dom=!1}}(1,0),t.templateSettings={escape:xe,evaluate:Ce,interpolate:Ee,variable:"",imports:{_:t}};var Do=function(){function e(){}return function(t){if(Ti(t)){e.prototype=t;var n=new e;e.prototype=null}return n||{}}}(),Lo=dn(At),Po=dn(Rt,!0),Io=fn(),Fo=fn(!0),jo=Ro?function(e,t){return Ro.set(e,t),e}:wa;eo||(on=Za&&co?function(e){var t=e.byteLength,n=po?ro(t/Oo):0,r=n*Oo,i=new Za(t);if(n){var a=new po(i,0,n);a.set(new po(e,0,n))}return t!=r&&(a=new co(i,r),a.set(new co(e,r))),i}:ba(null));var Ho=ho&&so?function(e){return new Qe(e)}:ba(null),Bo=Ro?function(e){return Ro.get(e)}:_a,Vo=Vt("length"),Uo=function(){var e=0,t=0;return function(n,r){var i=hs(),a=H-(i-t);if(t=i,a>0){if(++e>=j)return n}else e=0;return jo(n,r)}}(),zo=pi(function(e,t){return Gn(e)?xt(e,Tt(t,!1,!0)):[]}),qo=bn(),Wo=bn(!0),Go=pi(function(e){for(var t=e.length,n=t,r=Na(d),i=jn(),a=i==s,o=[];n--;){var l=e[n]=Gn(l=e[n])?l:[];r[n]=a&&l.length>=120?Ho(n&&l):null}var u=e[0],c=-1,d=u?u.length:0,f=r[0];e:for(;++c<d;)if(l=u[c],(f?Je(f,l):i(o,l,0))<0){for(var n=t;--n;){var p=r[n];if((p?Je(p,l):i(e[n],l,0))<0)continue e}f&&f.push(l),o.push(l)}return o}),Ko=pi(function(e,t){t=Tt(t);var n=vt(e,t);return zt(e,t.sort(a)),n}),Yo=Mn(),Xo=Mn(!0),Qo=pi(function(e){return Jt(Tt(e,!1,!0))}),Jo=pi(function(e,t){return Gn(e)?xt(e,t):[]}),Zo=pi(Nr),es=pi(function(e){var t=e.length,n=t>2?e[t-2]:S,r=t>1?e[t-1]:S;return t>2&&"function"==typeof n?t-=2:(n=t>1&&"function"==typeof r?(--t,r):S,r=S),e.length=t,Dr(e,n,r)}),ts=pi(function(e,t){return vt(e,Tt(t))}),ns=un(function(e,t,n){Ka.call(e,n)?++e[n]:e[n]=1}),rs=yn(Lo),is=yn(Po,!0),as=xn(tt,Lo),os=xn(nt,Po),ss=un(function(e,t,n){Ka.call(e,n)?e[n].push(t):e[n]=[t]}),ls=un(function(e,t,n){e[n]=t}),us=pi(function(e,t,n){var r=-1,i="function"==typeof t,a=Xn(t),o=Gn(e)?Na(e.length):[];return Lo(e,function(e){var s=i?t:a&&null!=e?e[t]:null;o[++r]=s?s.apply(e,n):Wn(e,t,n)}),o}),cs=un(function(e,t,n){e[n?0:1].push(t)},function(){return[[],[]]}),ds=Tn(ut,Lo),fs=Tn(ct,Po),ps=pi(function(e,t){if(null==e)return[];var n=t[2];return n&&Yn(t[0],t[1],n)&&(t.length=1),Xt(e,Tt(t),[])}),hs=wo||function(){return(new Da).getTime()},gs=pi(function(e,t,n){var r=T;if(n.length){var i=w(n,gs.placeholder);r|=N}return Nn(e,r,t,n,i)}),ms=pi(function(e,t){t=t.length?Tt(t):Ui(e);for(var n=-1,r=t.length;++n<r;){var i=t[n];e[i]=Nn(e[i],T,e)}return e}),vs=pi(function(e,t,n){var r=T|O;if(n.length){var i=w(n,vs.placeholder);r|=N}return Nn(t,r,e,n,i)}),ys=mn(R),bs=mn(M),ws=pi(function(e,t){return $t(e,1,t)}),$s=pi(function(e,t,n){return $t(e,t,n)}),xs=$n(),Cs=$n(!0),Es=kn(N),_s=kn(D),Ss=pi(function(e,t){return Nn(e,P,null,null,null,Tt(t))}),ks=go||function(e){return y(e)&&Jn(e.length)&&Xa.call(e)==G};No.dom||(Ei=function(e){return!!e&&1===e.nodeType&&y(e)&&!As(e)});var Ts=$o||function(e){return"number"==typeof e&&mo(e)},Os=l(/x/)||co&&!l(co)?function(e){return Xa.call(e)==Q}:l,As=io?function(e){if(!e||Xa.call(e)!=ee)return!1;var t=Bn(e,"valueOf"),n=t&&(n=io(t))&&io(n);return n?e==n||io(e)==n:ir(e)}:ir,Rs=cn(function(e,t,n){return n?gt(e,t,n):mt(e,t)}),Ms=pi(function(e){var t=e[0];return null==t?t:(e.push(pt),Rs.apply(S,e))}),Ns=wn(At),Ds=wn(Rt),Ls=Cn(Io),Ps=Cn(Fo),Is=En(At),Fs=En(Rt),js=vo?function(e){var t=null==e?null:e.constructor;return"function"==typeof t&&t.prototype===e||"function"!=typeof e&&Gn(e)?ar(e):Ti(e)?vo(e):[]}:ar,Hs=_n(!0),Bs=_n(),Vs=cn(Ht),Us=pi(function(e,t){if(null==e)return{};if("function"!=typeof t[0]){var t=lt(Tt(t),Ba);return tr(e,xt(Gi(e),t))}var n=an(t[0],t[1],3);return nr(e,function(e,t,r){return!n(e,t,r)})}),zs=pi(function(e,t){return null==e?{}:"function"==typeof t[0]?nr(e,an(t[0],t[1],3)):tr(e,Tt(t))}),qs=hn(function(e,t,n){return t=t.toLowerCase(),e+(n?t.charAt(0).toUpperCase()+t.slice(1):t)}),Ws=hn(function(e,t,n){return e+(n?"-":"")+t.toLowerCase()}),Gs=Sn(),Ks=Sn(!0);8!=xo(Be+"08")&&(la=function(e,t,n){return(n?Yn(e,t,n):null==t)?t=0:t&&(t=+t),e=fa(e),xo(e,t||(De.test(e)?16:10))});var Ys=hn(function(e,t,n){return e+(n?"_":"")+t.toLowerCase()}),Xs=hn(function(e,t,n){return e+(n?" ":"")+(t.charAt(0).toUpperCase()+t.slice(1))}),Qs=pi(function(e,t){try{return e.apply(S,t)}catch(n){return ki(n)?n:new La(n)}}),Js=pi(function(e,t){return function(n){return Wn(n,e,t)}}),Zs=pi(function(e,t){return function(n){return Wn(e,n,t)}}),el=vn(bi,Eo),tl=vn(Fi,_o);return t.prototype=n.prototype,r.prototype=Do(n.prototype),r.prototype.constructor=r,i.prototype=Do(n.prototype),i.prototype.constructor=i,ie.prototype["delete"]=Ge,ie.prototype.get=Ke,ie.prototype.has=Ye,ie.prototype.set=Xe,Qe.prototype.push=Ze,ci.Cache=ie,t.after=oi,t.ary=si,t.assign=Rs,t.at=ts,t.before=li,t.bind=gs,t.bindAll=ms,t.bindKey=vs,t.callback=ya,t.chain=Ir,t.chunk=cr,t.compact=dr,t.constant=ba,t.countBy=ns,t.create=Vi,t.curry=ys,t.curryRight=bs,t.debounce=ui,t.defaults=Ms,t.defer=ws,t.delay=$s,t.difference=zo,t.drop=fr,t.dropRight=pr,t.dropRightWhile=hr,t.dropWhile=gr,t.fill=mr,t.filter=Gr,t.flatten=yr,t.flattenDeep=br,t.flow=xs,t.flowRight=Cs,t.forEach=as,t.forEachRight=os,t.forIn=Ls,t.forInRight=Ps,t.forOwn=Is,t.forOwnRight=Fs,t.functions=Ui,t.groupBy=ss,t.indexBy=ls,t.initial=$r,t.intersection=Go,t.invert=Wi,t.invoke=us,t.keys=js,t.keysIn=Gi,t.map=Xr,t.mapKeys=Hs,t.mapValues=Bs,t.matches=$a,t.matchesProperty=xa,t.memoize=ci,t.merge=Vs,t.method=Js,t.methodOf=Zs,t.mixin=Ca,t.negate=di,t.omit=Us,t.once=fi,t.pairs=Ki,t.partial=Es,t.partialRight=_s,t.partition=cs,t.pick=zs,t.pluck=Qr,t.property=Sa,t.propertyOf=ka,t.pull=Er,t.pullAt=Ko,t.range=Ta,t.rearg=Ss,t.reject=Jr,t.remove=_r,t.rest=Sr,t.restParam=pi,t.set=Xi,t.shuffle=ei,t.slice=kr,t.sortBy=ri,t.sortByAll=ps,t.sortByOrder=ii,t.spread=hi,t.take=Tr,t.takeRight=Or,t.takeRightWhile=Ar,t.takeWhile=Rr,t.tap=Fr,t.throttle=gi,t.thru=jr,t.times=Oa,t.toArray=Hi,t.toPlainObject=Bi,t.transform=Qi,t.union=Qo,t.uniq=Mr,t.unzip=Nr,t.unzipWith=Dr,t.values=Ji,t.valuesIn=Zi,t.where=ai,t.without=Jo,t.wrap=mi,t.xor=Lr,t.zip=Zo,t.zipObject=Pr,t.zipWith=es,t.backflow=Cs,t.collect=Xr,t.compose=Cs,t.each=as,t.eachRight=os,t.extend=Rs,t.iteratee=ya,t.methods=Ui,t.object=Pr,t.select=Gr,t.tail=Sr,t.unique=Mr,Ca(t,t),t.add=Ra,t.attempt=Qs,t.camelCase=qs,t.capitalize=na,t.clone=vi,t.cloneDeep=yi,t.deburr=ra,t.endsWith=ia,t.escape=aa,t.escapeRegExp=oa,t.every=Wr,t.find=rs,t.findIndex=qo,t.findKey=Ns,t.findLast=is,t.findLastIndex=Wo,t.findLastKey=Ds,t.findWhere=Kr,t.first=vr,t.get=zi,t.gt=bi,t.gte=wi,t.has=qi,t.identity=wa,t.includes=Yr,t.indexOf=wr,t.inRange=ea,t.isArguments=$i,t.isArray=ks,t.isBoolean=xi,t.isDate=Ci,t.isElement=Ei,t.isEmpty=_i,t.isEqual=Si,t.isError=ki,t.isFinite=Ts,t.isFunction=Os,t.isMatch=Oi,t.isNaN=Ai,t.isNative=Ri,t.isNull=Mi,t.isNumber=Ni,t.isObject=Ti,t.isPlainObject=As,t.isRegExp=Di,t.isString=Li,t.isTypedArray=Pi,t.isUndefined=Ii,t.kebabCase=Ws,t.last=xr,t.lastIndexOf=Cr,t.lt=Fi,t.lte=ji,t.max=el,t.min=tl,t.noConflict=Ea,t.noop=_a,t.now=hs,t.pad=sa,t.padLeft=Gs,t.padRight=Ks,t.parseInt=la,t.random=ta,t.reduce=ds,t.reduceRight=fs,t.repeat=ua,t.result=Yi,t.runInContext=_,t.size=ti,t.snakeCase=Ys,t.some=ni,t.sortedIndex=Yo,t.sortedLastIndex=Xo,t.startCase=Xs,t.startsWith=ca,t.sum=Ma,t.template=da,t.trim=fa,t.trimLeft=pa,t.trimRight=ha,t.trunc=ga,t.unescape=ma,t.uniqueId=Aa,t.words=va,t.all=Wr,t.any=ni,t.contains=Yr,t.eq=Si,t.detect=rs,t.foldl=ds,t.foldr=fs,t.head=vr,t.include=Yr,t.inject=ds,Ca(t,function(){var e={};return At(t,function(n,r){t.prototype[r]||(e[r]=n)}),e}(),!1),t.sample=Zr,t.prototype.sample=function(e){return this.__chain__||null!=e?this.thru(function(t){return Zr(t,e)}):Zr(this.value())},t.VERSION=k,tt(["bind","bindKey","curry","curryRight","partial","partialRight"],function(e){t[e].placeholder=t}),tt(["dropWhile","filter","map","takeWhile"],function(e,t){var n=t!=U,r=t==B;i.prototype[e]=function(e,a){var o=this.__filtered__,s=o&&r?new i(this):this.clone(),l=s.__iteratees__||(s.__iteratees__=[]);return l.push({done:!1,count:0,index:0,iteratee:In(e,a,1),limit:-1,type:t}),s.__filtered__=o||n,s}}),tt(["drop","take"],function(e,t){var n=e+"While";i.prototype[e]=function(n){var r=this.__filtered__,i=r&&!t?this.dropWhile():this.clone();if(n=null==n?1:yo(ro(n)||0,0),r)t?i.__takeCount__=bo(i.__takeCount__,n):xr(i.__iteratees__).limit=n;else{var a=i.__views__||(i.__views__=[]);a.push({size:n,type:e+(i.__dir__<0?"Right":"")})}return i},i.prototype[e+"Right"]=function(t){return this.reverse()[e](t).reverse()},i.prototype[e+"RightWhile"]=function(e,t){return this.reverse()[n](e,t).reverse()}}),tt(["first","last"],function(e,t){var n="take"+(t?"Right":"");i.prototype[e]=function(){return this[n](1).value()[0]}}),tt(["initial","rest"],function(e,t){var n="drop"+(t?"":"Right");i.prototype[e]=function(){return this[n](1)}}),tt(["pluck","where"],function(e,t){var n=t?"filter":"map",r=t?Ft:Sa;i.prototype[e]=function(e){return this[n](r(e))}}),i.prototype.compact=function(){return this.filter(wa)},i.prototype.reject=function(e,t){return e=In(e,t,1),this.filter(function(t){return!e(t)})},i.prototype.slice=function(e,t){e=null==e?0:+e||0;var n=this;return 0>e?n=this.takeRight(-e):e&&(n=this.drop(e)),t!==S&&(t=+t||0,n=0>t?n.dropRight(-t):n.take(t-e)),n},i.prototype.toArray=function(){return this.drop(0)},At(i.prototype,function(e,n){var a=t[n];if(a){var o=/^(?:filter|map|reject)|While$/.test(n),s=/^(?:first|last)$/.test(n);t.prototype[n]=function(){var n=arguments,l=this.__chain__,u=this.__wrapped__,c=!!this.__actions__.length,d=u instanceof i,f=n[0],p=d||ks(u);p&&o&&"function"==typeof f&&1!=f.length&&(d=p=!1);var h=d&&!c;if(s&&!l)return h?e.call(u):a.call(t,this.value());
var g=function(e){var r=[e];return oo.apply(r,n),a.apply(t,r)};if(p){var m=h?u:new i(this),v=e.apply(m,n);if(!s&&(c||v.__actions__)){var y=v.__actions__||(v.__actions__=[]);y.push({func:jr,args:[g],thisArg:t})}return new r(v,l)}return this.thru(g)}}}),tt(["concat","join","pop","push","replace","shift","sort","splice","split","unshift"],function(e){var n=(/^(?:replace|split)$/.test(e)?qa:Ua)[e],r=/^(?:push|sort|unshift)$/.test(e)?"tap":"thru",i=/^(?:join|pop|replace|shift)$/.test(e);t.prototype[e]=function(){var e=arguments;return i&&!this.__chain__?n.apply(this.value(),e):this[r](function(t){return n.apply(t,e)})}}),At(i.prototype,function(e,n){var r=t[n];if(r){var i=r.name,a=Mo[i]||(Mo[i]=[]);a.push({name:n,func:r})}}),Mo[On(null,O).name]=[{name:"wrapper",func:null}],i.prototype.clone=b,i.prototype.reverse=J,i.prototype.value=ne,t.prototype.chain=Hr,t.prototype.commit=Br,t.prototype.plant=Vr,t.prototype.reverse=Ur,t.prototype.toString=zr,t.prototype.run=t.prototype.toJSON=t.prototype.valueOf=t.prototype.value=qr,t.prototype.collect=t.prototype.map,t.prototype.head=t.prototype.first,t.prototype.select=t.prototype.filter,t.prototype.tail=t.prototype.rest,t}var S,k="3.9.3",T=1,O=2,A=4,R=8,M=16,N=32,D=64,L=128,P=256,I=30,F="...",j=150,H=16,B=0,V=1,U=2,z="Expected a function",q="__lodash_placeholder__",W="[object Arguments]",G="[object Array]",K="[object Boolean]",Y="[object Date]",X="[object Error]",Q="[object Function]",J="[object Map]",Z="[object Number]",ee="[object Object]",te="[object RegExp]",ne="[object Set]",re="[object String]",ie="[object WeakMap]",ae="[object ArrayBuffer]",oe="[object Float32Array]",se="[object Float64Array]",le="[object Int8Array]",ue="[object Int16Array]",ce="[object Int32Array]",de="[object Uint8Array]",fe="[object Uint8ClampedArray]",pe="[object Uint16Array]",he="[object Uint32Array]",ge=/\b__p \+= '';/g,me=/\b(__p \+=) '' \+/g,ve=/(__e\(.*?\)|\b__t\)) \+\n'';/g,ye=/&(?:amp|lt|gt|quot|#39|#96);/g,be=/[&<>"'`]/g,we=RegExp(ye.source),$e=RegExp(be.source),xe=/<%-([\s\S]+?)%>/g,Ce=/<%([\s\S]+?)%>/g,Ee=/<%=([\s\S]+?)%>/g,_e=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\n\\]|\\.)*?\1)\]/,Se=/^\w*$/,ke=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\n\\]|\\.)*?)\2)\]/g,Te=/[.*+?^${}()|[\]\/\\]/g,Oe=RegExp(Te.source),Ae=/[\u0300-\u036f\ufe20-\ufe23]/g,Re=/\\(\\)?/g,Me=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Ne=/\w*$/,De=/^0[xX]/,Le=/^\[object .+?Constructor\]$/,Pe=/^\d+$/,Ie=/[\xc0-\xd6\xd8-\xde\xdf-\xf6\xf8-\xff]/g,Fe=/($^)/,je=/['\n\r\u2028\u2029\\]/g,He=function(){var e="[A-Z\\xc0-\\xd6\\xd8-\\xde]",t="[a-z\\xdf-\\xf6\\xf8-\\xff]+";return RegExp(e+"+(?="+e+t+")|"+e+"?"+t+"|"+e+"+|[0-9]+","g")}(),Be=" 	\f \ufeff\n\r\u2028\u2029 ᠎             　",Ve=["Array","ArrayBuffer","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Math","Number","Object","RegExp","Set","String","_","clearTimeout","document","isFinite","parseFloat","parseInt","setTimeout","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","window"],Ue=-1,ze={};ze[oe]=ze[se]=ze[le]=ze[ue]=ze[ce]=ze[de]=ze[fe]=ze[pe]=ze[he]=!0,ze[W]=ze[G]=ze[ae]=ze[K]=ze[Y]=ze[X]=ze[Q]=ze[J]=ze[Z]=ze[ee]=ze[te]=ze[ne]=ze[re]=ze[ie]=!1;var qe={};qe[W]=qe[G]=qe[ae]=qe[K]=qe[Y]=qe[oe]=qe[se]=qe[le]=qe[ue]=qe[ce]=qe[Z]=qe[ee]=qe[te]=qe[re]=qe[de]=qe[fe]=qe[pe]=qe[he]=!0,qe[X]=qe[Q]=qe[J]=qe[ne]=qe[ie]=!1;var We={leading:!1,maxWait:0,trailing:!1},Ge={"À":"A","Á":"A","Â":"A","Ã":"A","Ä":"A","Å":"A","à":"a","á":"a","â":"a","ã":"a","ä":"a","å":"a","Ç":"C","ç":"c","Ð":"D","ð":"d","È":"E","É":"E","Ê":"E","Ë":"E","è":"e","é":"e","ê":"e","ë":"e","Ì":"I","Í":"I","Î":"I","Ï":"I","ì":"i","í":"i","î":"i","ï":"i","Ñ":"N","ñ":"n","Ò":"O","Ó":"O","Ô":"O","Õ":"O","Ö":"O","Ø":"O","ò":"o","ó":"o","ô":"o","õ":"o","ö":"o","ø":"o","Ù":"U","Ú":"U","Û":"U","Ü":"U","ù":"u","ú":"u","û":"u","ü":"u","Ý":"Y","ý":"y","ÿ":"y","Æ":"Ae","æ":"ae","Þ":"Th","þ":"th","ß":"ss"},Ke={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","`":"&#96;"},Ye={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'","&#96;":"`"},Xe={"function":!0,object:!0},Qe={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Je=Xe[typeof t]&&t&&!t.nodeType&&t,Ze=Xe[typeof e]&&e&&!e.nodeType&&e,et=Je&&Ze&&"object"==typeof i&&i&&i.Object&&i,tt=Xe[typeof self]&&self&&self.Object&&self,nt=Xe[typeof window]&&window&&window.Object&&window,rt=(Ze&&Ze.exports===Je&&Je,et||nt!==(this&&this.window)&&nt||tt||this),it=_();rt._=it,r=function(){return it}.call(t,n,t,e),!(r!==S&&(e.exports=r))}).call(this)}).call(t,n(208)(e),function(){return this}())},function(e,t,n){/**
	 * State-based routing for AngularJS
	 * @version v0.2.15
	 * @link http://angular-ui.github.com/
	 * @license MIT License, http://www.opensource.org/licenses/MIT
	 */
"undefined"!=typeof e&&"undefined"!=typeof t&&e.exports===t&&(e.exports="ui.router"),function(e,t,n){"use strict";function r(e,t){return j(new(j(function(){},{prototype:e})),t)}function i(e){return F(arguments,function(t){t!==e&&F(t,function(t,n){e.hasOwnProperty(n)||(e[n]=t)})}),e}function a(e,t){var n=[];for(var r in e.path){if(e.path[r]!==t.path[r])break;n.push(e.path[r])}return n}function o(e){if(Object.keys)return Object.keys(e);var t=[];return F(e,function(e,n){t.push(n)}),t}function s(e,t){if(Array.prototype.indexOf)return e.indexOf(t,Number(arguments[2])||0);var n=e.length>>>0,r=Number(arguments[2])||0;for(r=0>r?Math.ceil(r):Math.floor(r),0>r&&(r+=n);n>r;r++)if(r in e&&e[r]===t)return r;return-1}function l(e,t,n,r){var i,l=a(n,r),u={},c=[];for(var d in l)if(l[d].params&&(i=o(l[d].params),i.length))for(var f in i)s(c,i[f])>=0||(c.push(i[f]),u[i[f]]=e[i[f]]);return j({},u,t)}function u(e,t,n){if(!n){n=[];for(var r in e)n.push(r)}for(var i=0;i<n.length;i++){var a=n[i];if(e[a]!=t[a])return!1}return!0}function c(e,t){var n={};return F(e,function(e){n[e]=t[e]}),n}function d(e){var t={},n=Array.prototype.concat.apply(Array.prototype,Array.prototype.slice.call(arguments,1));return F(n,function(n){n in e&&(t[n]=e[n])}),t}function f(e){var t={},n=Array.prototype.concat.apply(Array.prototype,Array.prototype.slice.call(arguments,1));for(var r in e)-1==s(n,r)&&(t[r]=e[r]);return t}function p(e,t){var n=I(e),r=n?[]:{};return F(e,function(e,i){t(e,i)&&(r[n?r.length:i]=e)}),r}function h(e,t){var n=I(e)?[]:{};return F(e,function(e,r){n[r]=t(e,r)}),n}function g(e,t){var r=1,a=2,l={},u=[],c=l,d=j(e.when(l),{$$promises:l,$$values:l});this.study=function(l){function p(e,n){if(y[n]!==a){if(v.push(n),y[n]===r)throw v.splice(0,s(v,n)),new Error("Cyclic dependency: "+v.join(" -> "));if(y[n]=r,L(e))m.push(n,[function(){return t.get(e)}],u);else{var i=t.annotate(e);F(i,function(e){e!==n&&l.hasOwnProperty(e)&&p(l[e],e)}),m.push(n,e,i)}v.pop(),y[n]=a}}function h(e){return P(e)&&e.then&&e.$$promises}if(!P(l))throw new Error("'invocables' must be an object");var g=o(l||{}),m=[],v=[],y={};return F(l,p),l=v=y=null,function(r,a,o){function s(){--w||($||i(b,a.$$values),v.$$values=b,v.$$promises=v.$$promises||!0,delete v.$$inheritedValues,p.resolve(b))}function l(e){v.$$failure=e,p.reject(e)}function u(n,i,a){function u(e){d.reject(e),l(e)}function c(){if(!N(v.$$failure))try{d.resolve(t.invoke(i,o,b)),d.promise.then(function(e){b[n]=e,s()},u)}catch(e){u(e)}}var d=e.defer(),f=0;F(a,function(e){y.hasOwnProperty(e)&&!r.hasOwnProperty(e)&&(f++,y[e].then(function(t){b[e]=t,--f||c()},u))}),f||c(),y[n]=d.promise}if(h(r)&&o===n&&(o=a,a=r,r=null),r){if(!P(r))throw new Error("'locals' must be an object")}else r=c;if(a){if(!h(a))throw new Error("'parent' must be a promise returned by $resolve.resolve()")}else a=d;var p=e.defer(),v=p.promise,y=v.$$promises={},b=j({},r),w=1+m.length/3,$=!1;if(N(a.$$failure))return l(a.$$failure),v;a.$$inheritedValues&&i(b,f(a.$$inheritedValues,g)),j(y,a.$$promises),a.$$values?($=i(b,f(a.$$values,g)),v.$$inheritedValues=f(a.$$values,g),s()):(a.$$inheritedValues&&(v.$$inheritedValues=f(a.$$inheritedValues,g)),a.then(s,l));for(var x=0,C=m.length;C>x;x+=3)r.hasOwnProperty(m[x])?s():u(m[x],m[x+1],m[x+2]);return v}},this.resolve=function(e,t,n,r){return this.study(e)(t,n,r)}}function m(e,t,n){this.fromConfig=function(e,t,n){return N(e.template)?this.fromString(e.template,t):N(e.templateUrl)?this.fromUrl(e.templateUrl,t):N(e.templateProvider)?this.fromProvider(e.templateProvider,t,n):null},this.fromString=function(e,t){return D(e)?e(t):e},this.fromUrl=function(n,r){return D(n)&&(n=n(r)),null==n?null:e.get(n,{cache:t,headers:{Accept:"text/html"}}).then(function(e){return e.data})},this.fromProvider=function(e,t,r){return n.invoke(e,null,r||{params:t})}}function v(e,t,i){function a(t,n,r,i){if(m.push(t),h[t])return h[t];if(!/^\w+(-+\w+)*(?:\[\])?$/.test(t))throw new Error("Invalid parameter name '"+t+"' in pattern '"+e+"'");if(g[t])throw new Error("Duplicate parameter name '"+t+"' in pattern '"+e+"'");return g[t]=new B.Param(t,n,r,i),g[t]}function o(e,t,n,r){var i=["",""],a=e.replace(/[\\\[\]\^$*+?.()|{}]/g,"\\$&");if(!t)return a;switch(n){case!1:i=["(",")"+(r?"?":"")];break;case!0:i=["?(",")?"];break;default:i=["("+n+"|",")?"]}return a+i[0]+t+i[1]}function s(i,a){var o,s,l,u,c;return o=i[2]||i[3],c=t.params[o],l=e.substring(f,i.index),s=a?i[4]:i[4]||("*"==i[1]?".*":null),u=B.type(s||"string")||r(B.type("string"),{pattern:new RegExp(s,t.caseInsensitive?"i":n)}),{id:o,regexp:s,segment:l,type:u,cfg:c}}t=j({params:{}},P(t)?t:{});var l,u=/([:*])([\w\[\]]+)|\{([\w\[\]]+)(?:\:((?:[^{}\\]+|\\.|\{(?:[^{}\\]+|\\.)*\})+))?\}/g,c=/([:]?)([\w\[\]-]+)|\{([\w\[\]-]+)(?:\:((?:[^{}\\]+|\\.|\{(?:[^{}\\]+|\\.)*\})+))?\}/g,d="^",f=0,p=this.segments=[],h=i?i.params:{},g=this.params=i?i.params.$$new():new B.ParamSet,m=[];this.source=e;for(var v,y,b;(l=u.exec(e))&&(v=s(l,!1),!(v.segment.indexOf("?")>=0));)y=a(v.id,v.type,v.cfg,"path"),d+=o(v.segment,y.type.pattern.source,y.squash,y.isOptional),p.push(v.segment),f=u.lastIndex;b=e.substring(f);var w=b.indexOf("?");if(w>=0){var $=this.sourceSearch=b.substring(w);if(b=b.substring(0,w),this.sourcePath=e.substring(0,f+w),$.length>0)for(f=0;l=c.exec($);)v=s(l,!0),y=a(v.id,v.type,v.cfg,"search"),f=u.lastIndex}else this.sourcePath=e,this.sourceSearch="";d+=o(b)+(t.strict===!1?"/?":"")+"$",p.push(b),this.regexp=new RegExp(d,t.caseInsensitive?"i":n),this.prefix=p[0],this.$$paramNames=m}function y(e){j(this,e)}function b(){function e(e){return null!=e?e.toString().replace(/\//g,"%2F"):e}function i(e){return null!=e?e.toString().replace(/%2F/g,"/"):e}function a(){return{strict:g,caseInsensitive:f}}function l(e){return D(e)||I(e)&&D(e[e.length-1])}function u(){for(;x.length;){var e=x.shift();if(e.pattern)throw new Error("You cannot override a type's .pattern at runtime.");t.extend(w[e.name],d.invoke(e.def))}}function c(e){j(this,e||{})}B=this;var d,f=!1,g=!0,m=!1,w={},$=!0,x=[],C={string:{encode:e,decode:i,is:function(e){return null==e||!N(e)||"string"==typeof e},pattern:/[^/]*/},"int":{encode:e,decode:function(e){return parseInt(e,10)},is:function(e){return N(e)&&this.decode(e.toString())===e},pattern:/\d+/},bool:{encode:function(e){return e?1:0},decode:function(e){return 0!==parseInt(e,10)},is:function(e){return e===!0||e===!1},pattern:/0|1/},date:{encode:function(e){return this.is(e)?[e.getFullYear(),("0"+(e.getMonth()+1)).slice(-2),("0"+e.getDate()).slice(-2)].join("-"):n},decode:function(e){if(this.is(e))return e;var t=this.capture.exec(e);return t?new Date(t[1],t[2]-1,t[3]):n},is:function(e){return e instanceof Date&&!isNaN(e.valueOf())},equals:function(e,t){return this.is(e)&&this.is(t)&&e.toISOString()===t.toISOString()},pattern:/[0-9]{4}-(?:0[1-9]|1[0-2])-(?:0[1-9]|[1-2][0-9]|3[0-1])/,capture:/([0-9]{4})-(0[1-9]|1[0-2])-(0[1-9]|[1-2][0-9]|3[0-1])/},json:{encode:t.toJson,decode:t.fromJson,is:t.isObject,equals:t.equals,pattern:/[^/]*/},any:{encode:t.identity,decode:t.identity,equals:t.equals,pattern:/.*/}};b.$$getDefaultValue=function(e){if(!l(e.value))return e.value;if(!d)throw new Error("Injectable functions cannot be called at configuration time");return d.invoke(e.value)},this.caseInsensitive=function(e){return N(e)&&(f=e),f},this.strictMode=function(e){return N(e)&&(g=e),g},this.defaultSquashPolicy=function(e){if(!N(e))return m;if(e!==!0&&e!==!1&&!L(e))throw new Error("Invalid squash policy: "+e+". Valid policies: false, true, arbitrary-string");return m=e,e},this.compile=function(e,t){return new v(e,j(a(),t))},this.isMatcher=function(e){if(!P(e))return!1;var t=!0;return F(v.prototype,function(n,r){D(n)&&(t=t&&N(e[r])&&D(e[r]))}),t},this.type=function(e,t,n){if(!N(t))return w[e];if(w.hasOwnProperty(e))throw new Error("A type named '"+e+"' has already been defined.");return w[e]=new y(j({name:e},t)),n&&(x.push({name:e,def:n}),$||u()),this},F(C,function(e,t){w[t]=new y(j({name:t},e))}),w=r(w,{}),this.$get=["$injector",function(e){return d=e,$=!1,u(),F(C,function(e,t){w[t]||(w[t]=new y(e))}),this}],this.Param=function(e,t,r,i){function a(e){var t=P(e)?o(e):[],n=-1===s(t,"value")&&-1===s(t,"type")&&-1===s(t,"squash")&&-1===s(t,"array");return n&&(e={value:e}),e.$$fn=l(e.value)?e.value:function(){return e.value},e}function u(t,n,r){if(t.type&&n)throw new Error("Param '"+e+"' has two type configurations.");return n?n:t.type?t.type instanceof y?t.type:new y(t.type):"config"===r?w.any:w.string}function c(){var t={array:"search"===i?"auto":!1},n=e.match(/\[\]$/)?{array:!0}:{};return j(t,n,r).array}function f(e,t){var n=e.squash;if(!t||n===!1)return!1;if(!N(n)||null==n)return m;if(n===!0||L(n))return n;throw new Error("Invalid squash policy: '"+n+"'. Valid policies: false, true, or arbitrary string")}function g(e,t,r,i){var a,o,l=[{from:"",to:r||t?n:""},{from:null,to:r||t?n:""}];return a=I(e.replace)?e.replace:[],L(i)&&a.push({from:i,to:n}),o=h(a,function(e){return e.from}),p(l,function(e){return-1===s(o,e.from)}).concat(a)}function v(){if(!d)throw new Error("Injectable functions cannot be called at configuration time");var e=d.invoke(r.$$fn);if(null!==e&&e!==n&&!x.type.is(e))throw new Error("Default value ("+e+") for parameter '"+x.id+"' is not an instance of Type ("+x.type.name+")");return e}function b(e){function t(e){return function(t){return t.from===e}}function n(e){var n=h(p(x.replace,t(e)),function(e){return e.to});return n.length?n[0]:e}return e=n(e),N(e)?x.type.$normalize(e):v()}function $(){return"{Param:"+e+" "+t+" squash: '"+_+"' optional: "+E+"}"}var x=this;r=a(r),t=u(r,t,i);var C=c();t=C?t.$asArray(C,"search"===i):t,"string"!==t.name||C||"path"!==i||r.value!==n||(r.value="");var E=r.value!==n,_=f(r,E),S=g(r,C,E,_);j(this,{id:e,type:t,location:i,array:C,squash:_,replace:S,isOptional:E,value:b,dynamic:n,config:r,toString:$})},c.prototype={$$new:function(){return r(this,j(new c,{$$parent:this}))},$$keys:function(){for(var e=[],t=[],n=this,r=o(c.prototype);n;)t.push(n),n=n.$$parent;return t.reverse(),F(t,function(t){F(o(t),function(t){-1===s(e,t)&&-1===s(r,t)&&e.push(t)})}),e},$$values:function(e){var t={},n=this;return F(n.$$keys(),function(r){t[r]=n[r].value(e&&e[r])}),t},$$equals:function(e,t){var n=!0,r=this;return F(r.$$keys(),function(i){var a=e&&e[i],o=t&&t[i];r[i].type.equals(a,o)||(n=!1)}),n},$$validates:function(e){var r,i,a,o,s,l=this.$$keys();for(r=0;r<l.length&&(i=this[l[r]],a=e[l[r]],a!==n&&null!==a||!i.isOptional);r++){if(o=i.type.$normalize(a),!i.type.is(o))return!1;if(s=i.type.encode(o),t.isString(s)&&!i.type.pattern.exec(s))return!1}return!0},$$parent:n},this.ParamSet=c}function w(e,r){function i(e){var t=/^\^((?:\\[^a-zA-Z0-9]|[^\\\[\]\^$*+?.()|{}]+)*)/.exec(e.source);return null!=t?t[1].replace(/\\(.)/g,"$1"):""}function a(e,t){return e.replace(/\$(\$|\d{1,2})/,function(e,n){return t["$"===n?0:Number(n)]})}function o(e,t,n){if(!n)return!1;var r=e.invoke(t,t,{$match:n});return N(r)?r:!0}function s(r,i,a,o){function s(e,t,n){return"/"===g?e:t?g.slice(0,-1)+e:n?g.slice(1)+e:e}function f(e){function t(e){var t=e(a,r);return t?(L(t)&&r.replace().url(t),!0):!1}if(!e||!e.defaultPrevented){h&&r.url()===h;h=n;var i,o=u.length;for(i=0;o>i;i++)if(t(u[i]))return;c&&t(c)}}function p(){return l=l||i.$on("$locationChangeSuccess",f)}var h,g=o.baseHref(),m=r.url();return d||p(),{sync:function(){f()},listen:function(){return p()},update:function(e){return e?void(m=r.url()):void(r.url()!==m&&(r.url(m),r.replace()))},push:function(e,t,i){var a=e.format(t||{});null!==a&&t&&t["#"]&&(a+="#"+t["#"]),r.url(a),h=i&&i.$$avoidResync?r.url():n,i&&i.replace&&r.replace()},href:function(n,i,a){if(!n.validates(i))return null;var o=e.html5Mode();t.isObject(o)&&(o=o.enabled);var l=n.format(i);if(a=a||{},o||null===l||(l="#"+e.hashPrefix()+l),null!==l&&i&&i["#"]&&(l+="#"+i["#"]),l=s(l,o,a.absolute),!a.absolute||!l)return l;var u=!o&&l?"/":"",c=r.port();return c=80===c||443===c?"":":"+c,[r.protocol(),"://",r.host(),c,u,l].join("")}}}var l,u=[],c=null,d=!1;this.rule=function(e){if(!D(e))throw new Error("'rule' must be a function");return u.push(e),this},this.otherwise=function(e){if(L(e)){var t=e;e=function(){return t}}else if(!D(e))throw new Error("'rule' must be a function");return c=e,this},this.when=function(e,t){var n,s=L(t);if(L(e)&&(e=r.compile(e)),!s&&!D(t)&&!I(t))throw new Error("invalid 'handler' in when()");var l={matcher:function(e,t){return s&&(n=r.compile(t),t=["$match",function(e){return n.format(e)}]),j(function(n,r){return o(n,t,e.exec(r.path(),r.search()))},{prefix:L(e.prefix)?e.prefix:""})},regex:function(e,t){if(e.global||e.sticky)throw new Error("when() RegExp must not be global or sticky");return s&&(n=t,t=["$match",function(e){return a(n,e)}]),j(function(n,r){return o(n,t,e.exec(r.path()))},{prefix:i(e)})}},u={matcher:r.isMatcher(e),regex:e instanceof RegExp};for(var c in u)if(u[c])return this.rule(l[c](e,t));throw new Error("invalid 'what' in when()")},this.deferIntercept=function(e){e===n&&(e=!0),d=e},this.$get=s,s.$inject=["$location","$rootScope","$injector","$browser"]}function $(e,i){function a(e){return 0===e.indexOf(".")||0===e.indexOf("^")}function f(e,t){if(!e)return n;var r=L(e),i=r?e:e.name,o=a(i);if(o){if(!t)throw new Error("No reference point given for path '"+i+"'");t=f(t);for(var s=i.split("."),l=0,u=s.length,c=t;u>l;l++)if(""!==s[l]||0!==l){if("^"!==s[l])break;if(!c.parent)throw new Error("Path '"+i+"' not valid for state '"+t.name+"'");c=c.parent}else c=t;s=s.slice(l).join("."),i=c.name+(c.name&&s?".":"")+s}var d=_[i];return!d||!r&&(r||d!==e&&d.self!==e)?n:d}function p(e,t){S[e]||(S[e]=[]),S[e].push(t)}function g(e){for(var t=S[e]||[];t.length;)m(t.shift())}function m(t){t=r(t,{self:t,resolve:t.resolve||{},toString:function(){return this.name}});var n=t.name;if(!L(n)||n.indexOf("@")>=0)throw new Error("State must have a valid name");if(_.hasOwnProperty(n))throw new Error("State '"+n+"'' is already defined");var i=-1!==n.indexOf(".")?n.substring(0,n.lastIndexOf(".")):L(t.parent)?t.parent:P(t.parent)&&L(t.parent.name)?t.parent.name:"";if(i&&!_[i])return p(i,t.self);for(var a in T)D(T[a])&&(t[a]=T[a](t,T.$delegates[a]));return _[n]=t,!t[k]&&t.url&&e.when(t.url,["$match","$stateParams",function(e,n){E.$current.navigable==t&&u(e,n)||E.transitionTo(t,e,{inherit:!0,location:!1})}]),g(n),t}function v(e){return e.indexOf("*")>-1}function y(e){for(var t=e.split("."),n=E.$current.name.split("."),r=0,i=t.length;i>r;r++)"*"===t[r]&&(n[r]="*");return"**"===t[0]&&(n=n.slice(s(n,t[1])),n.unshift("**")),"**"===t[t.length-1]&&(n.splice(s(n,t[t.length-2])+1,Number.MAX_VALUE),n.push("**")),t.length!=n.length?!1:n.join("")===t.join("")}function b(e,t){return L(e)&&!N(t)?T[e]:D(t)&&L(e)?(T[e]&&!T.$delegates[e]&&(T.$delegates[e]=T[e]),T[e]=t,this):this}function w(e,t){return P(e)?t=e:t.name=e,m(t),this}function $(e,i,a,s,d,p,g,m,b){function w(t,n,r,a){var o=e.$broadcast("$stateNotFound",t,n,r);if(o.defaultPrevented)return g.update(),O;if(!o.retry)return null;if(a.$retry)return g.update(),A;var s=E.transition=i.when(o.retry);return s.then(function(){return s!==E.transition?S:(t.options.$retry=!0,E.transitionTo(t.to,t.toParams,t.options))},function(){return O}),g.update(),s}function $(e,n,r,o,l,u){function f(){var n=[];return F(e.views,function(r,i){var o=r.resolve&&r.resolve!==e.resolve?r.resolve:{};o.$template=[function(){return a.load(i,{view:r,locals:l.globals,params:p,notify:u.notify})||""}],n.push(d.resolve(o,l.globals,l.resolve,e).then(function(n){if(D(r.controllerProvider)||I(r.controllerProvider)){var a=t.extend({},o,l.globals);n.$$controller=s.invoke(r.controllerProvider,null,a)}else n.$$controller=r.controller;n.$$state=e,n.$$controllerAs=r.controllerAs,l[i]=n}))}),i.all(n).then(function(){return l.globals})}var p=r?n:c(e.params.$$keys(),n),h={$stateParams:p};l.resolve=d.resolve(e.resolve,h,l.resolve,e);var g=[l.resolve.then(function(e){l.globals=e})];return o&&g.push(o),i.all(g).then(f).then(function(e){return l})}var S=i.reject(new Error("transition superseded")),T=i.reject(new Error("transition prevented")),O=i.reject(new Error("transition aborted")),A=i.reject(new Error("transition failed"));return C.locals={resolve:null,globals:{$stateParams:{}}},E={params:{},current:C.self,$current:C,transition:null},E.reload=function(e){return E.transitionTo(E.current,p,{reload:e||!0,inherit:!1,notify:!0})},E.go=function(e,t,n){return E.transitionTo(e,t,j({inherit:!0,relative:E.$current},n))},E.transitionTo=function(t,n,a){n=n||{},a=j({location:!0,inherit:!1,relative:null,notify:!0,reload:!1,$retry:!1},a||{});var o,u=E.$current,d=E.params,h=u.path,m=f(t,a.relative),v=n["#"];if(!N(m)){var y={to:t,toParams:n,options:a},b=w(y,u.self,d,a);if(b)return b;if(t=y.to,n=y.toParams,a=y.options,m=f(t,a.relative),!N(m)){if(!a.relative)throw new Error("No such state '"+t+"'");throw new Error("Could not resolve '"+t+"' from state '"+a.relative+"'")}}if(m[k])throw new Error("Cannot transition to abstract state '"+t+"'");if(a.inherit&&(n=l(p,n||{},E.$current,m)),!m.params.$$validates(n))return A;n=m.params.$$values(n),t=m;var _=t.path,O=0,R=_[O],M=C.locals,D=[];if(a.reload){if(L(a.reload)||P(a.reload)){if(P(a.reload)&&!a.reload.name)throw new Error("Invalid reload state object");var I=a.reload===!0?h[0]:f(a.reload);if(a.reload&&!I)throw new Error("No such reload state '"+(L(a.reload)?a.reload:a.reload.name)+"'");for(;R&&R===h[O]&&R!==I;)M=D[O]=R.locals,O++,R=_[O]}}else for(;R&&R===h[O]&&R.ownParams.$$equals(n,d);)M=D[O]=R.locals,O++,R=_[O];if(x(t,n,u,d,M,a))return v&&(n["#"]=v),E.params=n,H(E.params,p),a.location&&t.navigable&&t.navigable.url&&(g.push(t.navigable.url,n,{$$avoidResync:!0,replace:"replace"===a.location}),g.update(!0)),E.transition=null,i.when(E.current);if(n=c(t.params.$$keys(),n||{}),a.notify&&e.$broadcast("$stateChangeStart",t.self,n,u.self,d).defaultPrevented)return e.$broadcast("$stateChangeCancel",t.self,n,u.self,d),g.update(),T;for(var F=i.when(M),B=O;B<_.length;B++,R=_[B])M=D[B]=r(M),F=$(R,n,R===t,F,M,a);var V=E.transition=F.then(function(){var r,i,o;if(E.transition!==V)return S;for(r=h.length-1;r>=O;r--)o=h[r],o.self.onExit&&s.invoke(o.self.onExit,o.self,o.locals.globals),o.locals=null;for(r=O;r<_.length;r++)i=_[r],i.locals=D[r],i.self.onEnter&&s.invoke(i.self.onEnter,i.self,i.locals.globals);return v&&(n["#"]=v),E.transition!==V?S:(E.$current=t,E.current=t.self,E.params=n,H(E.params,p),E.transition=null,a.location&&t.navigable&&g.push(t.navigable.url,t.navigable.locals.globals.$stateParams,{$$avoidResync:!0,replace:"replace"===a.location}),a.notify&&e.$broadcast("$stateChangeSuccess",t.self,n,u.self,d),g.update(!0),E.current)},function(r){return E.transition!==V?S:(E.transition=null,o=e.$broadcast("$stateChangeError",t.self,n,u.self,d,r),o.defaultPrevented||g.update(),i.reject(r))});return V},E.is=function(e,t,r){r=j({relative:E.$current},r||{});var i=f(e,r.relative);return N(i)?E.$current!==i?!1:t?u(i.params.$$values(t),p):!0:n},E.includes=function(e,t,r){if(r=j({relative:E.$current},r||{}),L(e)&&v(e)){if(!y(e))return!1;e=E.$current.name}var i=f(e,r.relative);return N(i)?N(E.$current.includes[i.name])?t?u(i.params.$$values(t),p,o(t)):!0:!1:n},E.href=function(e,t,r){r=j({lossy:!0,inherit:!0,absolute:!1,relative:E.$current},r||{});var i=f(e,r.relative);if(!N(i))return null;r.inherit&&(t=l(p,t||{},E.$current,i));var a=i&&r.lossy?i.navigable:i;return a&&a.url!==n&&null!==a.url?g.href(a.url,c(i.params.$$keys().concat("#"),t||{}),{absolute:r.absolute}):null},E.get=function(e,t){if(0===arguments.length)return h(o(_),function(e){return _[e].self});var n=f(e,t||E.$current);return n&&n.self?n.self:null},E}function x(e,t,n,r,i,a){function o(e,t,n){function r(t){return"search"!=e.params[t].location}var i=e.params.$$keys().filter(r),a=d.apply({},[e.params].concat(i)),o=new B.ParamSet(a);return o.$$equals(t,n)}return!a.reload&&e===n&&(i===n.locals||e.self.reloadOnSearch===!1&&o(n,r,t))?!0:void 0}var C,E,_={},S={},k="abstract",T={parent:function(e){if(N(e.parent)&&e.parent)return f(e.parent);var t=/^(.+)\.[^.]+$/.exec(e.name);return t?f(t[1]):C},data:function(e){return e.parent&&e.parent.data&&(e.data=e.self.data=j({},e.parent.data,e.data)),e.data},url:function(e){var t=e.url,n={params:e.params||{}};if(L(t))return"^"==t.charAt(0)?i.compile(t.substring(1),n):(e.parent.navigable||C).url.concat(t,n);if(!t||i.isMatcher(t))return t;throw new Error("Invalid url '"+t+"' in state '"+e+"'")},navigable:function(e){return e.url?e:e.parent?e.parent.navigable:null},ownParams:function(e){var t=e.url&&e.url.params||new B.ParamSet;return F(e.params||{},function(e,n){t[n]||(t[n]=new B.Param(n,null,e,"config"))}),t},params:function(e){return e.parent&&e.parent.params?j(e.parent.params.$$new(),e.ownParams):new B.ParamSet},views:function(e){var t={};return F(N(e.views)?e.views:{"":e},function(n,r){r.indexOf("@")<0&&(r+="@"+e.parent.name),t[r]=n}),t},path:function(e){return e.parent?e.parent.path.concat(e):[]},includes:function(e){var t=e.parent?j({},e.parent.includes):{};return t[e.name]=!0,t},$delegates:{}};C=m({name:"",url:"^",views:null,"abstract":!0}),C.navigable=null,this.decorator=b,this.state=w,this.$get=$,$.$inject=["$rootScope","$q","$view","$injector","$resolve","$stateParams","$urlRouter","$location","$urlMatcherFactory"]}function x(){function e(e,t){return{load:function(n,r){var i,a={template:null,controller:null,view:null,locals:null,notify:!0,async:!0,params:{}};return r=j(a,r),r.view&&(i=t.fromConfig(r.view,r.params,r.locals)),i&&r.notify&&e.$broadcast("$viewContentLoading",r),i}}}this.$get=e,e.$inject=["$rootScope","$templateFactory"]}function C(){var e=!1;this.useAnchorScroll=function(){e=!0},this.$get=["$anchorScroll","$timeout",function(t,n){return e?t:function(e){return n(function(){e[0].scrollIntoView()},0,!1)}}]}function E(e,n,r,i){function a(){return n.has?function(e){return n.has(e)?n.get(e):null}:function(e){try{return n.get(e)}catch(t){return null}}}function o(e,t){var n=function(){return{enter:function(e,t,n){t.after(e),n()},leave:function(e,t){e.remove(),t()}}};if(u)return{enter:function(e,t,n){var r=u.enter(e,null,t,n);r&&r.then&&r.then(n)},leave:function(e,t){var n=u.leave(e,t);n&&n.then&&n.then(t)}};if(l){var r=l&&l(t,e);return{enter:function(e,t,n){r.enter(e,null,t),n()},leave:function(e,t){r.leave(e),t()}}}return n()}var s=a(),l=s("$animator"),u=s("$animate"),c={restrict:"ECA",terminal:!0,priority:400,transclude:"element",compile:function(n,a,s){return function(n,a,l){function u(){d&&(d.remove(),d=null),p&&(p.$destroy(),p=null),f&&(v.leave(f,function(){d=null}),d=f,f=null)}function c(o){var c,d=S(n,l,a,i),y=d&&e.$current&&e.$current.locals[d];if(o||y!==h){c=n.$new(),h=e.$current.locals[d];var b=s(c,function(e){v.enter(e,a,function(){p&&p.$emit("$viewContentAnimationEnded"),(t.isDefined(m)&&!m||n.$eval(m))&&r(e)}),u()});f=b,p=c,p.$emit("$viewContentLoaded"),p.$eval(g)}}var d,f,p,h,g=l.onload||"",m=l.autoscroll,v=o(l,n);n.$on("$stateChangeSuccess",function(){c(!1)}),n.$on("$viewContentLoading",function(){c(!1)}),c(!0)}}};return c}function _(e,t,n,r){return{restrict:"ECA",priority:-400,compile:function(i){var a=i.html();return function(i,o,s){var l=n.$current,u=S(i,s,o,r),c=l&&l.locals[u];if(c){o.data("$uiView",{name:u,state:c.$$state}),o.html(c.$template?c.$template:a);var d=e(o.contents());if(c.$$controller){c.$scope=i,c.$element=o;var f=t(c.$$controller,c);c.$$controllerAs&&(i[c.$$controllerAs]=f),o.data("$ngControllerController",f),o.children().data("$ngControllerController",f)}d(i)}}}}}function S(e,t,n,r){var i=r(t.uiView||t.name||"")(e),a=n.inheritedData("$uiView");return i.indexOf("@")>=0?i:i+"@"+(a?a.state.name:"")}function k(e,t){var n,r=e.match(/^\s*({[^}]*})\s*$/);if(r&&(e=t+"("+r[1]+")"),n=e.replace(/\n/g," ").match(/^([^(]+?)\s*(\((.*)\))?$/),!n||4!==n.length)throw new Error("Invalid state ref '"+e+"'");return{state:n[1],paramExpr:n[3]||null}}function T(e){var t=e.parent().inheritedData("$uiView");return t&&t.state&&t.state.name?t.state:void 0}function O(e,n){var r=["location","inherit","reload","absolute"];return{restrict:"A",require:["?^uiSrefActive","?^uiSrefActiveEq"],link:function(i,a,o,s){var l=k(o.uiSref,e.current.name),u=null,c=T(a)||e.$current,d="[object SVGAnimatedString]"===Object.prototype.toString.call(a.prop("href"))?"xlink:href":"href",f=null,p="A"===a.prop("tagName").toUpperCase(),h="FORM"===a[0].nodeName,g=h?"action":d,m=!0,v={relative:c,inherit:!0},y=i.$eval(o.uiSrefOpts)||{};t.forEach(r,function(e){e in y&&(v[e]=y[e])});var b=function(n){if(n&&(u=t.copy(n)),m){f=e.href(l.state,u,v);var r=s[1]||s[0];return r&&r.$$addStateInfo(l.state,u),null===f?(m=!1,!1):void o.$set(g,f)}};l.paramExpr&&(i.$watch(l.paramExpr,function(e,t){e!==u&&b(e)},!0),u=t.copy(i.$eval(l.paramExpr))),b(),h||a.bind("click",function(t){var r=t.which||t.button;if(!(r>1||t.ctrlKey||t.metaKey||t.shiftKey||a.attr("target"))){var i=n(function(){e.go(l.state,u,v)});t.preventDefault();var o=p&&!f?1:0;t.preventDefault=function(){o--<=0&&n.cancel(i)}}})}}}function A(e,t,n){return{restrict:"A",controller:["$scope","$element","$attrs",function(t,r,i){function a(){o()?r.addClass(l):r.removeClass(l)}function o(){for(var e=0;e<u.length;e++)if(s(u[e].state,u[e].params))return!0;return!1}function s(t,n){return"undefined"!=typeof i.uiSrefActiveEq?e.is(t.name,n):e.includes(t.name,n)}var l,u=[];l=n(i.uiSrefActiveEq||i.uiSrefActive||"",!1)(t),this.$$addStateInfo=function(t,n){var i=e.get(t,T(r));u.push({state:i||{name:t},params:n}),a()},t.$on("$stateChangeSuccess",a)}]}}function R(e){var t=function(t){return e.is(t)};return t.$stateful=!0,t}function M(e){var t=function(t){return e.includes(t)};return t.$stateful=!0,t}var N=t.isDefined,D=t.isFunction,L=t.isString,P=t.isObject,I=t.isArray,F=t.forEach,j=t.extend,H=t.copy;t.module("ui.router.util",["ng"]),t.module("ui.router.router",["ui.router.util"]),t.module("ui.router.state",["ui.router.router","ui.router.util"]),t.module("ui.router",["ui.router.state"]),t.module("ui.router.compat",["ui.router"]),g.$inject=["$q","$injector"],t.module("ui.router.util").service("$resolve",g),m.$inject=["$http","$templateCache","$injector"],t.module("ui.router.util").service("$templateFactory",m);var B;v.prototype.concat=function(e,t){var n={caseInsensitive:B.caseInsensitive(),strict:B.strictMode(),squash:B.defaultSquashPolicy()};return new v(this.sourcePath+e+this.sourceSearch,j(n,t),this)},v.prototype.toString=function(){return this.source},v.prototype.exec=function(e,t){function n(e){function t(e){return e.split("").reverse().join("")}function n(e){return e.replace(/\\-/g,"-")}var r=t(e).split(/-(?!\\)/),i=h(r,t);return h(i,n).reverse()}var r=this.regexp.exec(e);if(!r)return null;t=t||{};var i,a,o,s=this.parameters(),l=s.length,u=this.segments.length-1,c={};if(u!==r.length-1)throw new Error("Unbalanced capture group in route '"+this.source+"'");for(i=0;u>i;i++){o=s[i];var d=this.params[o],f=r[i+1];for(a=0;a<d.replace;a++)d.replace[a].from===f&&(f=d.replace[a].to);f&&d.array===!0&&(f=n(f)),c[o]=d.value(f)}for(;l>i;i++)o=s[i],c[o]=this.params[o].value(t[o]);return c},v.prototype.parameters=function(e){return N(e)?this.params[e]||null:this.$$paramNames},v.prototype.validates=function(e){return this.params.$$validates(e)},v.prototype.format=function(e){function t(e){return encodeURIComponent(e).replace(/-/g,function(e){return"%5C%"+e.charCodeAt(0).toString(16).toUpperCase()})}e=e||{};var n=this.segments,r=this.parameters(),i=this.params;if(!this.validates(e))return null;var a,o=!1,s=n.length-1,l=r.length,u=n[0];for(a=0;l>a;a++){var c=s>a,d=r[a],f=i[d],p=f.value(e[d]),g=f.isOptional&&f.type.equals(f.value(),p),m=g?f.squash:!1,v=f.type.encode(p);if(c){var y=n[a+1];if(m===!1)null!=v&&(u+=I(v)?h(v,t).join("-"):encodeURIComponent(v)),u+=y;else if(m===!0){var b=u.match(/\/$/)?/\/?(.*)/:/(.*)/;u+=y.match(b)[1]}else L(m)&&(u+=m+y)}else{if(null==v||g&&m!==!1)continue;I(v)||(v=[v]),v=h(v,encodeURIComponent).join("&"+d+"="),u+=(o?"&":"?")+(d+"="+v),o=!0}}return u},y.prototype.is=function(e,t){return!0},y.prototype.encode=function(e,t){return e},y.prototype.decode=function(e,t){return e},y.prototype.equals=function(e,t){return e==t},y.prototype.$subPattern=function(){var e=this.pattern.toString();return e.substr(1,e.length-2)},y.prototype.pattern=/.*/,y.prototype.toString=function(){return"{Type:"+this.name+"}"},y.prototype.$normalize=function(e){return this.is(e)?e:this.decode(e)},y.prototype.$asArray=function(e,t){function r(e,t){function r(e,t){return function(){return e[t].apply(e,arguments)}}function i(e){return I(e)?e:N(e)?[e]:[]}function a(e){switch(e.length){case 0:return n;case 1:return"auto"===t?e[0]:e;default:return e}}function o(e){return!e}function s(e,t){return function(n){n=i(n);var r=h(n,e);return t===!0?0===p(r,o).length:a(r)}}function l(e){return function(t,n){var r=i(t),a=i(n);if(r.length!==a.length)return!1;for(var o=0;o<r.length;o++)if(!e(r[o],a[o]))return!1;return!0}}this.encode=s(r(e,"encode")),this.decode=s(r(e,"decode")),this.is=s(r(e,"is"),!0),this.equals=l(r(e,"equals")),this.pattern=e.pattern,this.$normalize=s(r(e,"$normalize")),this.name=e.name,this.$arrayMode=t}if(!e)return this;if("auto"===e&&!t)throw new Error("'auto' array mode is for query parameters only");return new r(this,e)},t.module("ui.router.util").provider("$urlMatcherFactory",b),t.module("ui.router.util").run(["$urlMatcherFactory",function(e){}]),w.$inject=["$locationProvider","$urlMatcherFactoryProvider"],t.module("ui.router.router").provider("$urlRouter",w),$.$inject=["$urlRouterProvider","$urlMatcherFactoryProvider"],t.module("ui.router.state").value("$stateParams",{}).provider("$state",$),x.$inject=[],t.module("ui.router.state").provider("$view",x),t.module("ui.router.state").provider("$uiViewScroll",C),E.$inject=["$state","$injector","$uiViewScroll","$interpolate"],_.$inject=["$compile","$controller","$state","$interpolate"],t.module("ui.router.state").directive("uiView",E),t.module("ui.router.state").directive("uiView",_),O.$inject=["$state","$timeout"],A.$inject=["$state","$stateParams","$interpolate"],t.module("ui.router.state").directive("uiSref",O).directive("uiSrefActive",A).directive("uiSrefActiveEq",A),R.$inject=["$state"],M.$inject=["$state"],t.module("ui.router.state").filter("isState",R).filter("includedByState",M)}(window,window.angular)},function(e,t,n){function r(e){return n(i(e))}function i(e){return a[e]||function(){throw new Error("Cannot find module '"+e+"'.")}()}var a={"./EasyAdminBundle/en.js":20,"./EasyAdminBundle/es.js":21,"./FOSUserBundle/en.js":22,"./FOSUserBundle/es.js":23,"./HttpStatusCodes/en.js":24,"./HttpStatusCodes/es.js":25,"./messages/es.js":27,"./security/en.js":28,"./security/es.js":29,"./validators/en.js":30,"./validators/es.js":31};r.keys=function(){return Object.keys(a)},r.resolve=i,e.exports=r,r.id=19},function(e,t,n){"use strict";!function(e){e.add("action.new","Add %entity_name%","EasyAdminBundle","en"),e.add("action.show","Show","EasyAdminBundle","en"),e.add("action.edit","Edit","EasyAdminBundle","en"),e.add("action.search","Search","EasyAdminBundle","en"),e.add("action.delete","Delete","EasyAdminBundle","en"),e.add("action.save","Save changes","EasyAdminBundle","en"),e.add("action.cancel","Cancel","EasyAdminBundle","en"),e.add("action.list","Back to listing","EasyAdminBundle","en"),e.add("new.page_title","Create %entity_name%","EasyAdminBundle","en"),e.add("show.page_title","%entity_name% (#%entity_id%)","EasyAdminBundle","en"),e.add("edit.page_title","Edit %entity_name% (#%entity_id%)","EasyAdminBundle","en"),e.add("list.page_title","%entity_name%","EasyAdminBundle","en"),e.add("search.page_title","{0} No results found|{1} <strong>1</strong> result found|]1,Inf] <strong>%count%</strong> results found","EasyAdminBundle","en"),e.add("search.no_results","No results found.","EasyAdminBundle","en"),e.add("list.row_actions","Actions","EasyAdminBundle","en"),e.add("paginator.first","First","EasyAdminBundle","en"),e.add("paginator.previous","Previous","EasyAdminBundle","en"),e.add("paginator.next","Next","EasyAdminBundle","en"),e.add("paginator.last","Last","EasyAdminBundle","en"),
e.add("paginator.counter","<strong>%start%</strong> - <strong>%end%</strong> of <strong>%results%</strong>","EasyAdminBundle","en"),e.add("header.close","Close","EasyAdminBundle","en"),e.add("header.logged_in_as","Logged in as","EasyAdminBundle","en"),e.add("delete_modal.title","Do you really want to delete this item?","EasyAdminBundle","en"),e.add("delete_modal.content","There is no undo for this operation.","EasyAdminBundle","en")}(Translator)},function(e,t,n){"use strict";!function(e){e.add("action.new","Crear %entity_name%","EasyAdminBundle","es"),e.add("action.show","Ver","EasyAdminBundle","es"),e.add("action.edit","Modificar","EasyAdminBundle","es"),e.add("action.search","Buscar","EasyAdminBundle","es"),e.add("action.delete","Borrar","EasyAdminBundle","es"),e.add("action.save","Guardar cambios","EasyAdminBundle","es"),e.add("action.cancel","Cancelar","EasyAdminBundle","es"),e.add("action.list","Volver al listado","EasyAdminBundle","es"),e.add("new.page_title","Crear %entity_name%","EasyAdminBundle","es"),e.add("show.page_title","%entity_name% (#%entity_id%)","EasyAdminBundle","es"),e.add("edit.page_title","Modificar %entity_name% (#%entity_id%)","EasyAdminBundle","es"),e.add("list.page_title","%entity_name%","EasyAdminBundle","es"),e.add("search.page_title","{0} No se han encontrado resultados|{1} <strong>1</strong> resultado|]1,Inf] <strong>%count%</strong> resultados","EasyAdminBundle","es"),e.add("search.no_results","No se han encontrado resultados.","EasyAdminBundle","es"),e.add("list.row_actions","Acciones","EasyAdminBundle","es"),e.add("paginator.first","Primera","EasyAdminBundle","es"),e.add("paginator.previous","Anterior","EasyAdminBundle","es"),e.add("paginator.next","Siguiente","EasyAdminBundle","es"),e.add("paginator.last","Última","EasyAdminBundle","es"),e.add("paginator.counter","<strong>%start%</strong> - <strong>%end%</strong> de <strong>%results%</strong>","EasyAdminBundle","es"),e.add("header.close","Cerrar","EasyAdminBundle","es"),e.add("header.logged_in_as","Conectado como","EasyAdminBundle","es"),e.add("delete_modal.title","¿Realmente quieres borrar este elemento?","EasyAdminBundle","es"),e.add("delete_modal.content","Esta acción no se puede deshacer.","EasyAdminBundle","es")}(Translator)},function(e,t,n){"use strict";!function(e){e.add("group.edit.submit","Update group","FOSUserBundle","en"),e.add("group.show.name","Group name","FOSUserBundle","en"),e.add("group.new.submit","Create group","FOSUserBundle","en"),e.add("group.flash.updated","The group has been updated","FOSUserBundle","en"),e.add("group.flash.created","The group has been created","FOSUserBundle","en"),e.add("group.flash.deleted","The group has been deleted","FOSUserBundle","en"),e.add("security.login.username","Username:","FOSUserBundle","en"),e.add("security.login.password","Password:","FOSUserBundle","en"),e.add("security.login.remember_me","Remember me","FOSUserBundle","en"),e.add("security.login.submit","Login","FOSUserBundle","en"),e.add("profile.show.username","Username","FOSUserBundle","en"),e.add("profile.show.email","Email","FOSUserBundle","en"),e.add("profile.edit.submit","Update","FOSUserBundle","en"),e.add("profile.flash.updated","The profile has been updated","FOSUserBundle","en"),e.add("change_password.submit","Change password","FOSUserBundle","en"),e.add("change_password.flash.success","The password has been changed","FOSUserBundle","en"),e.add("registration.check_email","An email has been sent to %email%. It contains an activation link you must click to activate your account.","FOSUserBundle","en"),e.add("registration.confirmed","Congrats %username%, your account is now activated.","FOSUserBundle","en"),e.add("registration.back","Back to the originating page.","FOSUserBundle","en"),e.add("registration.submit","Register","FOSUserBundle","en"),e.add("registration.flash.user_created","The user has been created successfully","FOSUserBundle","en"),e.add("registration.email.subject","Welcome %username%!","FOSUserBundle","en"),e.add("registration.email.message","Hello %username%!\n\nTo finish activating your account - please visit %confirmationUrl%\n\nRegards,\nthe Team.\n","FOSUserBundle","en"),e.add("resetting.password_already_requested","The password for this user has already been requested within the last 24 hours.","FOSUserBundle","en"),e.add("resetting.check_email","An email has been sent to %email%. It contains a link you must click to reset your password.","FOSUserBundle","en"),e.add("resetting.request.invalid_username",'The username or email address "%username%" does not exist.',"FOSUserBundle","en"),e.add("resetting.request.username","Username or email address:","FOSUserBundle","en"),e.add("resetting.request.submit","Reset password","FOSUserBundle","en"),e.add("resetting.reset.submit","Change password","FOSUserBundle","en"),e.add("resetting.flash.success","The password has been reset successfully","FOSUserBundle","en"),e.add("resetting.email.subject","Reset Password","FOSUserBundle","en"),e.add("resetting.email.message","Hello %username%!\n\nTo reset your password - please visit %confirmationUrl%\n\nRegards,\nthe Team.\n","FOSUserBundle","en"),e.add("layout.logout","Logout","FOSUserBundle","en"),e.add("layout.login","Login","FOSUserBundle","en"),e.add("layout.register","Register","FOSUserBundle","en"),e.add("layout.logged_in_as","Logged in as %username%","FOSUserBundle","en"),e.add("form.group_name","Group name:","FOSUserBundle","en"),e.add("form.username","Username:","FOSUserBundle","en"),e.add("form.email","Email:","FOSUserBundle","en"),e.add("form.current_password","Current password:","FOSUserBundle","en"),e.add("form.password","Password:","FOSUserBundle","en"),e.add("form.password_confirmation","Repeat password:","FOSUserBundle","en"),e.add("form.new_password","New password:","FOSUserBundle","en"),e.add("form.new_password_confirmation","Repeat new password:","FOSUserBundle","en")}(Translator)},function(e,t,n){"use strict";!function(e){e.add("group.edit.submit","Actualizar grupo","FOSUserBundle","es"),e.add("group.show.name","Nombre de grupo","FOSUserBundle","es"),e.add("group.new.submit","Crear grupo","FOSUserBundle","es"),e.add("group.flash.updated","El grupo ha sido actualizado","FOSUserBundle","es"),e.add("group.flash.created","El grupo ha sido creado","FOSUserBundle","es"),e.add("group.flash.deleted","El grupo ha sido borrado","FOSUserBundle","es"),e.add("security.login.username","Nombre de usuario:","FOSUserBundle","es"),e.add("security.login.username_email","Nombre de usuario o email:","FOSUserBundle","es"),e.add("security.login.email","Email:","FOSUserBundle","es"),e.add("security.login.password","Contraseña:","FOSUserBundle","es"),e.add("security.login.remember_me","Recordar","FOSUserBundle","es"),e.add("security.login.submit","Entrar","FOSUserBundle","es"),e.add("profile.show.username","Nombre de usuario","FOSUserBundle","es"),e.add("profile.show.email","Email","FOSUserBundle","es"),e.add("profile.edit.submit","Actualizar usuario","FOSUserBundle","es"),e.add("profile.flash.updated","El perfil ha sido actualizado","FOSUserBundle","es"),e.add("change_password.submit","Cambiar contraseña","FOSUserBundle","es"),e.add("change_password.flash.success","La contraseña se ha cambiado con éxito","FOSUserBundle","es"),e.add("registration.check_email","Se ha enviado un email a %email%. Contiene un enlace de activación que debes presionar para activar tu cuenta.","FOSUserBundle","es"),e.add("registration.confirmed","Felicidades %username%, tu cuenta está ahora confirmada.","FOSUserBundle","es"),e.add("registration.back","Volver a la página original.","FOSUserBundle","es"),e.add("registration.submit","Registrar","FOSUserBundle","es"),e.add("registration.flash.user_created","El usuario se ha creado satisfactoriamente","FOSUserBundle","es"),e.add("registration.email.subject","Bienvenido %username%!","FOSUserBundle","es"),e.add("registration.email.message","Hola %username%!\n\nPara completar la validación de tu cuenta - por favor visita %confirmationUrl%\n\nAtentamente,\nel Equipo.\n","FOSUserBundle","es"),e.add("resetting.password_already_requested","La contraseña para este usuario ya ha sido solicitada dentro de las 24 horas.","FOSUserBundle","es"),e.add("resetting.check_email","Un email ha sido enviado a %email%. Contiene un enlace de activación que debes presionar para restablecer tu contraseña.","FOSUserBundle","es"),e.add("resetting.request.invalid_username",'El usuario o dirección de correo "%username%" no existe.',"FOSUserBundle","es"),e.add("resetting.request.username","Nombre de usuario:","FOSUserBundle","es"),e.add("resetting.request.submit","Restablecer contraseña","FOSUserBundle","es"),e.add("resetting.reset.submit","Cambiar contraseña","FOSUserBundle","es"),e.add("resetting.flash.success","La contraseña se ha cambiado con éxito","FOSUserBundle","es"),e.add("resetting.email.subject","Restablecer Contraseña","FOSUserBundle","es"),e.add("resetting.email.message","Hola %username%!\n\nPara restablecer tu contraseña - por favor visita %confirmationUrl%\n\nAtentamente,\nel Equipo.\n","FOSUserBundle","es"),e.add("layout.logout","Salir","FOSUserBundle","es"),e.add("layout.login","Entrar","FOSUserBundle","es"),e.add("layout.register","Registrar","FOSUserBundle","es"),e.add("layout.logged_in_as","Identificado como %username%","FOSUserBundle","es"),e.add("form.group_name","Nombre de grupo:","FOSUserBundle","es"),e.add("form.username","Nombre de usuario:","FOSUserBundle","es"),e.add("form.email","Email:","FOSUserBundle","es"),e.add("form.current_password","Contraseña actual:","FOSUserBundle","es"),e.add("form.password","Contraseña:","FOSUserBundle","es"),e.add("form.password_confirmation","Repita la contraseña:","FOSUserBundle","es"),e.add("form.new_password","Nueva contraseña:","FOSUserBundle","es"),e.add("form.new_password_confirmation","Repita la contraseña:","FOSUserBundle","es")}(Translator)},function(e,t,n){"use strict";!function(e){e.add("status.100","Continue","HttpStatusCodes","en"),e.add("status.101","Switching Protocols","HttpStatusCodes","en"),e.add("status.102","Processing","HttpStatusCodes","en"),e.add("status.200","OK","HttpStatusCodes","en"),e.add("status.201","Created","HttpStatusCodes","en"),e.add("status.202","Accepted","HttpStatusCodes","en"),e.add("status.203","Non-Authoritative Information","HttpStatusCodes","en"),e.add("status.204","No Content","HttpStatusCodes","en"),e.add("status.205","Reset Content","HttpStatusCodes","en"),e.add("status.206","Partial Content","HttpStatusCodes","en"),e.add("status.207","Multi-Status","HttpStatusCodes","en"),e.add("status.208","Already Reported","HttpStatusCodes","en"),e.add("status.226","IM Used","HttpStatusCodes","en"),e.add("status.300","Multiple Choices","HttpStatusCodes","en"),e.add("status.301","Moved Permanently","HttpStatusCodes","en"),e.add("status.302","Found","HttpStatusCodes","en"),e.add("status.303","See Other","HttpStatusCodes","en"),e.add("status.304","Not Modified","HttpStatusCodes","en"),e.add("status.305","Use Proxy","HttpStatusCodes","en"),e.add("status.306","Reserved","HttpStatusCodes","en"),e.add("status.307","Temporary Redirect","HttpStatusCodes","en"),e.add("status.308","Permanent Redirect","HttpStatusCodes","en"),e.add("status.400","Bad Request","HttpStatusCodes","en"),e.add("status.401","Unauthorized","HttpStatusCodes","en"),e.add("status.402","Payment Required","HttpStatusCodes","en"),e.add("status.403","Forbidden","HttpStatusCodes","en"),e.add("status.404","Not Found","HttpStatusCodes","en"),e.add("status.405","Method Not Allowed","HttpStatusCodes","en"),e.add("status.406","Not Acceptable","HttpStatusCodes","en"),e.add("status.407","Proxy Authentication Required","HttpStatusCodes","en"),e.add("status.408","Request Timeout","HttpStatusCodes","en"),e.add("status.409","Conflict","HttpStatusCodes","en"),e.add("status.410","Gone","HttpStatusCodes","en"),e.add("status.411","Length Required","HttpStatusCodes","en"),e.add("status.412","Precondition Failed","HttpStatusCodes","en"),e.add("status.413","Request Entity Too Large","HttpStatusCodes","en"),e.add("status.414","Request-URI Too Long","HttpStatusCodes","en"),e.add("status.415","Unsupported Media Type","HttpStatusCodes","en"),e.add("status.416","Requested Range Not Satisfiable","HttpStatusCodes","en"),e.add("status.417","Expectation Failed","HttpStatusCodes","en"),e.add("status.418","I\\m a teapot","HttpStatusCodes","en"),e.add("status.422","Unprocessable Entity","HttpStatusCodes","en"),e.add("status.423","Locked","HttpStatusCodes","en"),e.add("status.424","Failed Dependency","HttpStatusCodes","en"),e.add("status.425","Reserved for WebDAV advanced collections expired proposal","HttpStatusCodes","en"),e.add("status.426","Upgrade Required","HttpStatusCodes","en"),e.add("status.428","Precondition Required","HttpStatusCodes","en"),e.add("status.429","Too Many Requests","HttpStatusCodes","en"),e.add("status.431","Request Header Fields Too Large","HttpStatusCodes","en"),e.add("status.500","Internal Server Error","HttpStatusCodes","en"),e.add("status.501","Not Implemented","HttpStatusCodes","en"),e.add("status.502","Bad Gateway","HttpStatusCodes","en"),e.add("status.503","Service Unavailable","HttpStatusCodes","en"),e.add("status.504","Gateway Timeout","HttpStatusCodes","en"),e.add("status.505","HTTP Version Not Supported","HttpStatusCodes","en"),e.add("status.506","Variant Also Negotiates (Experimental)","HttpStatusCodes","en"),e.add("status.507","Insufficient Storage","HttpStatusCodes","en"),e.add("status.508","Loop Detected","HttpStatusCodes","en"),e.add("status.510","Not Extended","HttpStatusCodes","en"),e.add("status.511","Network Authentication Required","HttpStatusCodes","en")}(Translator)},function(e,t,n){"use strict";!function(e){e.add("status.100","Continue","HttpStatusCodes","es"),e.add("status.101","Switching Protocols","HttpStatusCodes","es"),e.add("status.102","Processing","HttpStatusCodes","es"),e.add("status.200","OK","HttpStatusCodes","es"),e.add("status.201","Created","HttpStatusCodes","es"),e.add("status.202","Accepted","HttpStatusCodes","es"),e.add("status.203","Non-Authoritative Information","HttpStatusCodes","es"),e.add("status.204","No Content","HttpStatusCodes","es"),e.add("status.205","Reset Content","HttpStatusCodes","es"),e.add("status.206","Partial Content","HttpStatusCodes","es"),e.add("status.207","Multi-Status","HttpStatusCodes","es"),e.add("status.208","Already Reported","HttpStatusCodes","es"),e.add("status.226","IM Used","HttpStatusCodes","es"),e.add("status.300","Multiple Choices","HttpStatusCodes","es"),e.add("status.301","Moved Permanently","HttpStatusCodes","es"),e.add("status.302","Found","HttpStatusCodes","es"),e.add("status.303","See Other","HttpStatusCodes","es"),e.add("status.304","Not Modified","HttpStatusCodes","es"),e.add("status.305","Use Proxy","HttpStatusCodes","es"),e.add("status.306","Reserved","HttpStatusCodes","es"),e.add("status.307","Temporary Redirect","HttpStatusCodes","es"),e.add("status.308","Permanent Redirect","HttpStatusCodes","es"),e.add("status.400","Bad Request","HttpStatusCodes","es"),e.add("status.401","Unauthorized","HttpStatusCodes","es"),e.add("status.402","Payment Required","HttpStatusCodes","es"),e.add("status.403","Forbidden","HttpStatusCodes","es"),e.add("status.404","Not Found","HttpStatusCodes","es"),e.add("status.405","Method Not Allowed","HttpStatusCodes","es"),e.add("status.406","Not Acceptable","HttpStatusCodes","es"),e.add("status.407","Proxy Authentication Required","HttpStatusCodes","es"),e.add("status.408","Request Timeout","HttpStatusCodes","es"),e.add("status.409","Conflict","HttpStatusCodes","es"),e.add("status.410","Gone","HttpStatusCodes","es"),e.add("status.411","Length Required","HttpStatusCodes","es"),e.add("status.412","Precondition Failed","HttpStatusCodes","es"),e.add("status.413","Request Entity Too Large","HttpStatusCodes","es"),e.add("status.414","Request-URI Too Long","HttpStatusCodes","es"),e.add("status.415","Unsupported Media Type","HttpStatusCodes","es"),e.add("status.416","Requested Range Not Satisfiable","HttpStatusCodes","es"),e.add("status.417","Expectation Failed","HttpStatusCodes","es"),e.add("status.418","I\\m a teapot","HttpStatusCodes","es"),e.add("status.422","Unprocessable Entity","HttpStatusCodes","es"),e.add("status.423","Locked","HttpStatusCodes","es"),e.add("status.424","Failed Dependency","HttpStatusCodes","es"),e.add("status.425","Reserved for WebDAV advanced collections expired proposal","HttpStatusCodes","es"),e.add("status.426","Upgrade Required","HttpStatusCodes","es"),e.add("status.428","Precondition Required","HttpStatusCodes","es"),e.add("status.429","Too Many Requests","HttpStatusCodes","es"),e.add("status.431","Request Header Fields Too Large","HttpStatusCodes","es"),e.add("status.500","Internal Server Error","HttpStatusCodes","es"),e.add("status.501","Not Implemented","HttpStatusCodes","es"),e.add("status.502","Bad Gateway","HttpStatusCodes","es"),e.add("status.503","Service Unavailable","HttpStatusCodes","es"),e.add("status.504","Gateway Timeout","HttpStatusCodes","es"),e.add("status.505","HTTP Version Not Supported","HttpStatusCodes","es"),e.add("status.506","Variant Also Negotiates (Experimental)","HttpStatusCodes","es"),e.add("status.507","Insufficient Storage","HttpStatusCodes","es"),e.add("status.508","Loop Detected","HttpStatusCodes","es"),e.add("status.510","Not Extended","HttpStatusCodes","es"),e.add("status.511","Network Authentication Required","HttpStatusCodes","es")}(Translator)},function(e,t,n){"use strict";!function(e){e.fallback="es",e.defaultDomain="messages"}(Translator)},function(e,t,n){"use strict";!function(e){e.add("action.new","Crear %entity_name%","messages","es"),e.add("action.show","Ver","messages","es"),e.add("action.edit","Modificar","messages","es"),e.add("action.search","Buscar","messages","es"),e.add("action.delete","Borrar","messages","es"),e.add("action.save","Guardar cambios","messages","es"),e.add("action.cancel","Cancelar","messages","es"),e.add("action.list","Volver al listado","messages","es"),e.add("action.export","Exportar","messages","es"),e.add("action.empty","","messages","es"),e.add("action.detail","Detalle","messages","es"),e.add("action.submit","Guardar","messages","es"),e.add("new.page_title","Crear %entity_name%","messages","es"),e.add("show.page_title","%entity_name% (#%entity_id%)","messages","es"),e.add("edit.page_title","Modificar %entity_name% (#%entity_id%)","messages","es"),e.add("list.page_title","%entity_name%","messages","es"),e.add("search.page_title","{0} No se han encontrado resultados|{1} <strong>1</strong> resultado|]1,Inf] <strong>%count%</strong> resultados","messages","es"),e.add("search.no_results","No se han encontrado resultados.","messages","es"),e.add("list.row_actions","Acciones","messages","es"),e.add("paginator.first","Primera","messages","es"),e.add("paginator.previous","Anterior","messages","es"),e.add("paginator.next","Siguiente","messages","es"),e.add("paginator.last","Última","messages","es"),e.add("paginator.counter","<strong>%start%</strong> - <strong>%end%</strong> de <strong>%results%</strong>","messages","es"),e.add("header.close","Cerrar","messages","es"),e.add("header.logged_in_as","Conectado como","messages","es"),e.add("delete_modal.title","¿Realmente quieres borrar este elemento?","messages","es"),e.add("delete_modal.content","Esta acción no se puede deshacer.","messages","es"),e.add("status.401","Error de credenciales.","messages","es")}(Translator)},function(e,t,n){"use strict";!function(e){e.add("An authentication exception occurred.","An authentication exception occurred.","security","en"),e.add("Authentication credentials could not be found.","Authentication credentials could not be found.","security","en"),e.add("Authentication request could not be processed due to a system problem.","Authentication request could not be processed due to a system problem.","security","en"),e.add("Invalid credentials.","Invalid credentials.","security","en"),e.add("Cookie has already been used by someone else.","Cookie has already been used by someone else.","security","en"),e.add("Not privileged to request the resource.","Not privileged to request the resource.","security","en"),e.add("Invalid CSRF token.","Invalid CSRF token.","security","en"),e.add("Digest nonce has expired.","Digest nonce has expired.","security","en"),e.add("No authentication provider found to support the authentication token.","No authentication provider found to support the authentication token.","security","en"),e.add("No session available, it either timed out or cookies are not enabled.","No session available, it either timed out or cookies are not enabled.","security","en"),e.add("No token could be found.","No token could be found.","security","en"),e.add("Username could not be found.","Username could not be found.","security","en"),e.add("Account has expired.","Account has expired.","security","en"),e.add("Credentials have expired.","Credentials have expired.","security","en"),e.add("Account is disabled.","Account is disabled.","security","en"),e.add("Account is locked.","Account is locked.","security","en")}(Translator)},function(e,t,n){"use strict";!function(e){e.add("An authentication exception occurred.","Ocurrió un error de autenticación.","security","es"),e.add("Authentication credentials could not be found.","No se encontraron las credenciales de autenticación.","security","es"),e.add("Authentication request could not be processed due to a system problem.","La solicitud de autenticación no se pudo procesar debido a un problema del sistema.","security","es"),e.add("Invalid credentials.","Credenciales no válidas.","security","es"),e.add("Cookie has already been used by someone else.","La cookie ya ha sido usada por otra persona.","security","es"),e.add("Not privileged to request the resource.","No tiene privilegios para solicitar el recurso.","security","es"),e.add("Invalid CSRF token.","Token CSRF no válido.","security","es"),e.add("Digest nonce has expired.","El vector de inicialización (digest nonce) ha expirado.","security","es"),e.add("No authentication provider found to support the authentication token.","No se encontró un proveedor de autenticación que soporte el token de autenticación.","security","es"),e.add("No session available, it either timed out or cookies are not enabled.","No hay ninguna sesión disponible, ha expirado o las cookies no están habilitados.","security","es"),e.add("No token could be found.","No se encontró ningún token.","security","es"),e.add("Username could not be found.","No se encontró el nombre de usuario.","security","es"),e.add("Account has expired.","La cuenta ha expirado.","security","es"),e.add("Credentials have expired.","Las credenciales han expirado.","security","es"),e.add("Account is disabled.","La cuenta está deshabilitada.","security","es"),e.add("Account is locked.","La cuenta está bloqueada.","security","es")}(Translator)},function(e,t,n){"use strict";!function(e){e.add("This value should be false.","This value should be false.","validators","en"),e.add("This value should be true.","This value should be true.","validators","en"),e.add("This value should be of type {{ type }}.","This value should be of type {{ type }}.","validators","en"),e.add("This value should be blank.","This value should be blank.","validators","en"),e.add("The value you selected is not a valid choice.","The value you selected is not a valid choice.","validators","en"),e.add("You must select at least {{ limit }} choice.|You must select at least {{ limit }} choices.","You must select at least {{ limit }} choice.|You must select at least {{ limit }} choices.","validators","en"),e.add("You must select at most {{ limit }} choice.|You must select at most {{ limit }} choices.","You must select at most {{ limit }} choice.|You must select at most {{ limit }} choices.","validators","en"),e.add("One or more of the given values is invalid.","One or more of the given values is invalid.","validators","en"),e.add("This field was not expected.","This field was not expected.","validators","en"),e.add("This field is missing.","This field is missing.","validators","en"),e.add("This value is not a valid date.","This value is not a valid date.","validators","en"),e.add("This value is not a valid datetime.","This value is not a valid datetime.","validators","en"),e.add("This value is not a valid email address.","This value is not a valid email address.","validators","en"),e.add("The file could not be found.","The file could not be found.","validators","en"),e.add("The file is not readable.","The file is not readable.","validators","en"),e.add("The file is too large ({{ size }} {{ suffix }}). Allowed maximum size is {{ limit }} {{ suffix }}.","The file is too large ({{ size }} {{ suffix }}). Allowed maximum size is {{ limit }} {{ suffix }}.","validators","en"),e.add("The mime type of the file is invalid ({{ type }}). Allowed mime types are {{ types }}.","The mime type of the file is invalid ({{ type }}). Allowed mime types are {{ types }}.","validators","en"),e.add("This value should be {{ limit }} or less.","This value should be {{ limit }} or less.","validators","en"),e.add("This value is too long. It should have {{ limit }} character or less.|This value is too long. It should have {{ limit }} characters or less.","This value is too long. It should have {{ limit }} character or less.|This value is too long. It should have {{ limit }} characters or less.","validators","en"),e.add("This value should be {{ limit }} or more.","This value should be {{ limit }} or more.","validators","en"),e.add("This value is too short. It should have {{ limit }} character or more.|This value is too short. It should have {{ limit }} characters or more.","This value is too short. It should have {{ limit }} character or more.|This value is too short. It should have {{ limit }} characters or more.","validators","en"),e.add("This value should not be blank.","This value should not be blank.","validators","en"),e.add("This value should not be null.","This value should not be null.","validators","en"),e.add("This value should be null.","This value should be null.","validators","en"),e.add("This value is not valid.","This value is not valid.","validators","en"),e.add("This value is not a valid time.","This value is not a valid time.","validators","en"),e.add("This value is not a valid URL.","This value is not a valid URL.","validators","en"),e.add("The two values should be equal.","The two values should be equal.","validators","en"),e.add("The file is too large. Allowed maximum size is {{ limit }} {{ suffix }}.","The file is too large. Allowed maximum size is {{ limit }} {{ suffix }}.","validators","en"),e.add("The file is too large.","The file is too large.","validators","en"),e.add("The file could not be uploaded.","The file could not be uploaded.","validators","en"),e.add("This value should be a valid number.","This value should be a valid number.","validators","en"),e.add("This file is not a valid image.","This file is not a valid image.","validators","en"),e.add("This is not a valid IP address.","This is not a valid IP address.","validators","en"),e.add("This value is not a valid language.","This value is not a valid language.","validators","en"),e.add("This value is not a valid locale.","This value is not a valid locale.","validators","en"),e.add("This value is not a valid country.","This value is not a valid country.","validators","en"),e.add("This value is already used.","This value is already used.","validators","en"),e.add("The size of the image could not be detected.","The size of the image could not be detected.","validators","en"),e.add("The image width is too big ({{ width }}px). Allowed maximum width is {{ max_width }}px.","The image width is too big ({{ width }}px). Allowed maximum width is {{ max_width }}px.","validators","en"),e.add("The image width is too small ({{ width }}px). Minimum width expected is {{ min_width }}px.","The image width is too small ({{ width }}px). Minimum width expected is {{ min_width }}px.","validators","en"),e.add("The image height is too big ({{ height }}px). Allowed maximum height is {{ max_height }}px.","The image height is too big ({{ height }}px). Allowed maximum height is {{ max_height }}px.","validators","en"),e.add("The image height is too small ({{ height }}px). Minimum height expected is {{ min_height }}px.","The image height is too small ({{ height }}px). Minimum height expected is {{ min_height }}px.","validators","en"),e.add("This value should be the user's current password.","This value should be the user's current password.","validators","en"),e.add("This value should have exactly {{ limit }} character.|This value should have exactly {{ limit }} characters.","This value should have exactly {{ limit }} character.|This value should have exactly {{ limit }} characters.","validators","en"),e.add("The file was only partially uploaded.","The file was only partially uploaded.","validators","en"),e.add("No file was uploaded.","No file was uploaded.","validators","en"),e.add("No temporary folder was configured in php.ini.","No temporary folder was configured in php.ini.","validators","en"),e.add("Cannot write temporary file to disk.","Cannot write temporary file to disk.","validators","en"),e.add("A PHP extension caused the upload to fail.","A PHP extension caused the upload to fail.","validators","en"),e.add("This collection should contain {{ limit }} element or more.|This collection should contain {{ limit }} elements or more.","This collection should contain {{ limit }} element or more.|This collection should contain {{ limit }} elements or more.","validators","en"),e.add("This collection should contain {{ limit }} element or less.|This collection should contain {{ limit }} elements or less.","This collection should contain {{ limit }} element or less.|This collection should contain {{ limit }} elements or less.","validators","en"),e.add("This collection should contain exactly {{ limit }} element.|This collection should contain exactly {{ limit }} elements.","This collection should contain exactly {{ limit }} element.|This collection should contain exactly {{ limit }} elements.","validators","en"),e.add("Invalid card number.","Invalid card number.","validators","en"),e.add("Unsupported card type or invalid card number.","Unsupported card type or invalid card number.","validators","en"),e.add("This is not a valid International Bank Account Number (IBAN).","This is not a valid International Bank Account Number (IBAN).","validators","en"),e.add("This value is not a valid ISBN-10.","This value is not a valid ISBN-10.","validators","en"),e.add("This value is not a valid ISBN-13.","This value is not a valid ISBN-13.","validators","en"),e.add("This value is neither a valid ISBN-10 nor a valid ISBN-13.","This value is neither a valid ISBN-10 nor a valid ISBN-13.","validators","en"),e.add("This value is not a valid ISSN.","This value is not a valid ISSN.","validators","en"),e.add("This value is not a valid currency.","This value is not a valid currency.","validators","en"),e.add("This value should be equal to {{ compared_value }}.","This value should be equal to {{ compared_value }}.","validators","en"),e.add("This value should be greater than {{ compared_value }}.","This value should be greater than {{ compared_value }}.","validators","en"),e.add("This value should be greater than or equal to {{ compared_value }}.","This value should be greater than or equal to {{ compared_value }}.","validators","en"),e.add("This value should be identical to {{ compared_value_type }} {{ compared_value }}.","This value should be identical to {{ compared_value_type }} {{ compared_value }}.","validators","en"),e.add("This value should be less than {{ compared_value }}.","This value should be less than {{ compared_value }}.","validators","en"),e.add("This value should be less than or equal to {{ compared_value }}.","This value should be less than or equal to {{ compared_value }}.","validators","en"),
e.add("This value should not be equal to {{ compared_value }}.","This value should not be equal to {{ compared_value }}.","validators","en"),e.add("This value should not be identical to {{ compared_value_type }} {{ compared_value }}.","This value should not be identical to {{ compared_value_type }} {{ compared_value }}.","validators","en"),e.add("The image ratio is too big ({{ ratio }}). Allowed maximum ratio is {{ max_ratio }}.","The image ratio is too big ({{ ratio }}). Allowed maximum ratio is {{ max_ratio }}.","validators","en"),e.add("The image ratio is too small ({{ ratio }}). Minimum ratio expected is {{ min_ratio }}.","The image ratio is too small ({{ ratio }}). Minimum ratio expected is {{ min_ratio }}.","validators","en"),e.add("The image is square ({{ width }}x{{ height }}px). Square images are not allowed.","The image is square ({{ width }}x{{ height }}px). Square images are not allowed.","validators","en"),e.add("The image is landscape oriented ({{ width }}x{{ height }}px). Landscape oriented images are not allowed.","The image is landscape oriented ({{ width }}x{{ height }}px). Landscape oriented images are not allowed.","validators","en"),e.add("The image is portrait oriented ({{ width }}x{{ height }}px). Portrait oriented images are not allowed.","The image is portrait oriented ({{ width }}x{{ height }}px). Portrait oriented images are not allowed.","validators","en"),e.add("An empty file is not allowed.","An empty file is not allowed.","validators","en"),e.add("This value does not match the expected {{ charset }} charset.","This value does not match the expected {{ charset }} charset.","validators","en"),e.add("This form should not contain extra fields.","This form should not contain extra fields.","validators","en"),e.add("The uploaded file was too large. Please try to upload a smaller file.","The uploaded file was too large. Please try to upload a smaller file.","validators","en"),e.add("The CSRF token is invalid. Please try to resubmit the form.","The CSRF token is invalid. Please try to resubmit the form.","validators","en"),e.add("fos_user.username.already_used","The username is already used","validators","en"),e.add("fos_user.username.blank","Please enter a username","validators","en"),e.add("fos_user.username.short","[-Inf,Inf]The username is too short","validators","en"),e.add("fos_user.username.long","[-Inf,Inf]The username is too long","validators","en"),e.add("fos_user.email.already_used","The email is already used","validators","en"),e.add("fos_user.email.blank","Please enter an email","validators","en"),e.add("fos_user.email.short","[-Inf,Inf]The email is too short","validators","en"),e.add("fos_user.email.long","[-Inf,Inf]The email is too long","validators","en"),e.add("fos_user.email.invalid","The email is not valid","validators","en"),e.add("fos_user.password.blank","Please enter a password","validators","en"),e.add("fos_user.password.short","[-Inf,Inf]The password is too short","validators","en"),e.add("fos_user.password.mismatch","The entered passwords don't match","validators","en"),e.add("fos_user.new_password.blank","Please enter a new password","validators","en"),e.add("fos_user.new_password.short","[-Inf,Inf]The new password is too short","validators","en"),e.add("fos_user.current_password.invalid","The entered password is invalid","validators","en"),e.add("fos_user.group.blank","Please enter a name","validators","en"),e.add("fos_user.group.short","[-Inf,Inf]The name is too short","validators","en"),e.add("fos_user.group.long","[-Inf,Inf]The name is too long","validators","en")}(Translator)},function(e,t,n){"use strict";!function(e){e.add("This value should be false.","Este valor debería ser falso.","validators","es"),e.add("This value should be true.","Este valor debería ser verdadero.","validators","es"),e.add("This value should be of type {{ type }}.","Este valor debería ser de tipo {{ type }}.","validators","es"),e.add("This value should be blank.","Este valor debería estar vacío.","validators","es"),e.add("The value you selected is not a valid choice.","El valor seleccionado no es una opción válida.","validators","es"),e.add("You must select at least {{ limit }} choice.|You must select at least {{ limit }} choices.","Debe seleccionar al menos {{ limit }} opción.|Debe seleccionar al menos {{ limit }} opciones.","validators","es"),e.add("You must select at most {{ limit }} choice.|You must select at most {{ limit }} choices.","Debe seleccionar como máximo {{ limit }} opción.|Debe seleccionar como máximo {{ limit }} opciones.","validators","es"),e.add("One or more of the given values is invalid.","Uno o más de los valores indicados no son válidos.","validators","es"),e.add("This field was not expected.","Este campo no se esperaba.","validators","es"),e.add("This field is missing.","Este campo está desaparecido.","validators","es"),e.add("This value is not a valid date.","Este valor no es una fecha válida.","validators","es"),e.add("This value is not a valid datetime.","Este valor no es una fecha y hora válidas.","validators","es"),e.add("This value is not a valid email address.","Este valor no es una dirección de email válida.","validators","es"),e.add("The file could not be found.","No se pudo encontrar el archivo.","validators","es"),e.add("The file is not readable.","No se puede leer el archivo.","validators","es"),e.add("The file is too large ({{ size }} {{ suffix }}). Allowed maximum size is {{ limit }} {{ suffix }}.","El archivo es demasiado grande ({{ size }} {{ suffix }}). El tamaño máximo permitido es {{ limit }} {{ suffix }}.","validators","es"),e.add("The mime type of the file is invalid ({{ type }}). Allowed mime types are {{ types }}.","El tipo mime del archivo no es válido ({{ type }}). Los tipos mime válidos son {{ types }}.","validators","es"),e.add("This value should be {{ limit }} or less.","Este valor debería ser {{ limit }} o menos.","validators","es"),e.add("This value is too long. It should have {{ limit }} character or less.|This value is too long. It should have {{ limit }} characters or less.","Este valor es demasiado largo. Debería tener {{ limit }} carácter o menos.|Este valor es demasiado largo. Debería tener {{ limit }} caracteres o menos.","validators","es"),e.add("This value should be {{ limit }} or more.","Este valor debería ser {{ limit }} o más.","validators","es"),e.add("This value is too short. It should have {{ limit }} character or more.|This value is too short. It should have {{ limit }} characters or more.","Este valor es demasiado corto. Debería tener {{ limit }} carácter o más.|Este valor es demasiado corto. Debería tener {{ limit }} caracteres o más.","validators","es"),e.add("This value should not be blank.","Este valor no debería estar vacío.","validators","es"),e.add("This value should not be null.","Este valor no debería ser nulo.","validators","es"),e.add("This value should be null.","Este valor debería ser nulo.","validators","es"),e.add("This value is not valid.","Este valor no es válido.","validators","es"),e.add("This value is not a valid time.","Este valor no es una hora válida.","validators","es"),e.add("This value is not a valid URL.","Este valor no es una URL válida.","validators","es"),e.add("The two values should be equal.","Los dos valores deberían ser iguales.","validators","es"),e.add("The file is too large. Allowed maximum size is {{ limit }} {{ suffix }}.","El archivo es demasiado grande. El tamaño máximo permitido es {{ limit }} {{ suffix }}.","validators","es"),e.add("The file is too large.","El archivo es demasiado grande.","validators","es"),e.add("The file could not be uploaded.","No se pudo subir el archivo.","validators","es"),e.add("This value should be a valid number.","Este valor debería ser un número válido.","validators","es"),e.add("This file is not a valid image.","El archivo no es una imagen válida.","validators","es"),e.add("This is not a valid IP address.","Esto no es una dirección IP válida.","validators","es"),e.add("This value is not a valid language.","Este valor no es un idioma válido.","validators","es"),e.add("This value is not a valid locale.","Este valor no es una localización válida.","validators","es"),e.add("This value is not a valid country.","Este valor no es un país válido.","validators","es"),e.add("This value is already used.","Este valor ya se ha utilizado.","validators","es"),e.add("The size of the image could not be detected.","No se pudo determinar el tamaño de la imagen.","validators","es"),e.add("The image width is too big ({{ width }}px). Allowed maximum width is {{ max_width }}px.","El ancho de la imagen es demasiado grande ({{ width }}px). El ancho máximo permitido es de {{ max_width }}px.","validators","es"),e.add("The image width is too small ({{ width }}px). Minimum width expected is {{ min_width }}px.","El ancho de la imagen es demasiado pequeño ({{ width }}px). El ancho mínimo requerido es {{ min_width }}px.","validators","es"),e.add("The image height is too big ({{ height }}px). Allowed maximum height is {{ max_height }}px.","La altura de la imagen es demasiado grande ({{ height }}px). La altura máxima permitida es de {{ max_height }}px.","validators","es"),e.add("The image height is too small ({{ height }}px). Minimum height expected is {{ min_height }}px.","La altura de la imagen es demasiado pequeña ({{ height }}px). La altura mínima requerida es de {{ min_height }}px.","validators","es"),e.add("This value should be the user's current password.","Este valor debería ser la contraseña actual del usuario.","validators","es"),e.add("This value should have exactly {{ limit }} character.|This value should have exactly {{ limit }} characters.","Este valor debería tener exactamente {{ limit }} carácter.|Este valor debería tener exactamente {{ limit }} caracteres.","validators","es"),e.add("The file was only partially uploaded.","El archivo fue sólo subido parcialmente.","validators","es"),e.add("No file was uploaded.","Ningún archivo fue subido.","validators","es"),e.add("No temporary folder was configured in php.ini.","Ninguna carpeta temporal fue configurada en php.ini.","validators","es"),e.add("Cannot write temporary file to disk.","No se pudo escribir el archivo temporal en el disco.","validators","es"),e.add("A PHP extension caused the upload to fail.","Una extensión de PHP hizo que la subida fallara.","validators","es"),e.add("This collection should contain {{ limit }} element or more.|This collection should contain {{ limit }} elements or more.","Esta colección debe contener {{ limit }} elemento o más.|Esta colección debe contener {{ limit }} elementos o más.","validators","es"),e.add("This collection should contain {{ limit }} element or less.|This collection should contain {{ limit }} elements or less.","Esta colección debe contener {{ limit }} elemento o menos.|Esta colección debe contener {{ limit }} elementos o menos.","validators","es"),e.add("This collection should contain exactly {{ limit }} element.|This collection should contain exactly {{ limit }} elements.","Esta colección debe contener exactamente {{ limit }} elemento.|Esta colección debe contener exactamente {{ limit }} elementos.","validators","es"),e.add("Invalid card number.","Número de tarjeta inválido.","validators","es"),e.add("Unsupported card type or invalid card number.","Tipo de tarjeta no soportado o número de tarjeta inválido.","validators","es"),e.add("This is not a valid International Bank Account Number (IBAN).","Esto no es un International Bank Account Number (IBAN) válido.","validators","es"),e.add("This value is not a valid ISBN-10.","Este valor no es un ISBN-10 válido.","validators","es"),e.add("This value is not a valid ISBN-13.","Este valor no es un ISBN-13 válido.","validators","es"),e.add("This value is neither a valid ISBN-10 nor a valid ISBN-13.","Este valor no es ni un ISBN-10 válido ni un ISBN-13 válido.","validators","es"),e.add("This value is not a valid ISSN.","Este valor no es un ISSN válido.","validators","es"),e.add("This value is not a valid currency.","Este valor no es una divisa válida.","validators","es"),e.add("This value should be equal to {{ compared_value }}.","Este valor debería ser igual que {{ compared_value }}.","validators","es"),e.add("This value should be greater than {{ compared_value }}.","Este valor debería ser mayor que {{ compared_value }}.","validators","es"),e.add("This value should be greater than or equal to {{ compared_value }}.","Este valor debería ser mayor o igual que {{ compared_value }}.","validators","es"),e.add("This value should be identical to {{ compared_value_type }} {{ compared_value }}.","Este valor debería ser idéntico a {{ compared_value_type }} {{ compared_value }}.","validators","es"),e.add("This value should be less than {{ compared_value }}.","Este valor debería ser menor que {{ compared_value }}.","validators","es"),e.add("This value should be less than or equal to {{ compared_value }}.","Este valor debería ser menor o igual que {{ compared_value }}.","validators","es"),e.add("This value should not be equal to {{ compared_value }}.","Este valor debería ser distinto de {{ compared_value }}.","validators","es"),e.add("This value should not be identical to {{ compared_value_type }} {{ compared_value }}.","Este valor no debería ser idéntico a {{ compared_value_type }} {{ compared_value }}.","validators","es"),e.add("The image ratio is too big ({{ ratio }}). Allowed maximum ratio is {{ max_ratio }}.","La proporción de la imagen es demasiado grande ({{ ratio }}). La máxima proporción permitida es {{ max_ratio }}.","validators","es"),e.add("The image ratio is too small ({{ ratio }}). Minimum ratio expected is {{ min_ratio }}.","La proporción de la imagen es demasiado pequeña ({{ ratio }}). La mínima proporción permitida es {{ min_ratio }}.","validators","es"),e.add("The image is square ({{ width }}x{{ height }}px). Square images are not allowed.","La imagen es cuadrada ({{ width }}x{{ height }}px). Las imágenes cuadradas no están permitidas.","validators","es"),e.add("The image is landscape oriented ({{ width }}x{{ height }}px). Landscape oriented images are not allowed.","La imagen está orientada horizontalmente ({{ width }}x{{ height }}px). Las imágenes orientadas horizontalmente no están permitidas.","validators","es"),e.add("The image is portrait oriented ({{ width }}x{{ height }}px). Portrait oriented images are not allowed.","La imagen está orientada verticalmente ({{ width }}x{{ height }}px). Las imágenes orientadas verticalmente no están permitidas.","validators","es"),e.add("An empty file is not allowed.","No está permitido un archivo vacío.","validators","es"),e.add("This value does not match the expected {{ charset }} charset.","La codificación de caracteres para este valor debería ser {{ charset }}.","validators","es"),e.add("This form should not contain extra fields.","Este formulario no debería contener campos adicionales.","validators","es"),e.add("The uploaded file was too large. Please try to upload a smaller file.","El archivo subido es demasiado grande. Por favor, suba un archivo más pequeño.","validators","es"),e.add("The CSRF token is invalid. Please try to resubmit the form.","El token CSRF no es válido. Por favor, pruebe a enviar nuevamente el formulario.","validators","es"),e.add("fos_user.username.already_used","El nombre de usuario ya está en uso","validators","es"),e.add("fos_user.username.blank","Por favor, ingrese un nombre de usuario","validators","es"),e.add("fos_user.username.short","[-Inf,Inf]El nombre de usuario es demasiado corto","validators","es"),e.add("fos_user.username.long","[-Inf,Inf]El nombre de usuario es demasiado largo","validators","es"),e.add("fos_user.email.already_used","La dirección de correo ya está en uso","validators","es"),e.add("fos_user.email.blank","Por favor, ingrese una dirección de correo","validators","es"),e.add("fos_user.email.short","[-Inf,Inf]La dirección de correo es demasiado corta","validators","es"),e.add("fos_user.email.long","[-Inf,Inf]La dirección de correo es demasiado larga","validators","es"),e.add("fos_user.email.invalid","La dirección de correo no es válida","validators","es"),e.add("fos_user.password.blank","Por favor, ingrese una contraseña","validators","es"),e.add("fos_user.password.short","[-Inf,Inf]La contraseña es demasiado corta","validators","es"),e.add("fos_user.password.mismatch","Las dos contraseñas no coinciden","validators","es"),e.add("fos_user.new_password.blank","Por favor, ingrese una nueva contraseña","validators","es"),e.add("fos_user.new_password.short","[-Inf,Inf]La nueva contraseña es demasiado corta","validators","es"),e.add("fos_user.current_password.invalid","La contraseña ingresada no es válida","validators","es"),e.add("fos_user.group.blank","Por favor, ingrese un nombre","validators","es"),e.add("fos_user.group.short","[-Inf,Inf]El nombre es demasiado corto","validators","es"),e.add("fos_user.group.long","[-Inf,Inf]El nombre es demasiado largo","validators","es")}(Translator)},function(e,t,n){/*!
	 * William DURAND <william.durand1@gmail.com>
	 * MIT Licensed
	 */
"use strict";var r=function(e,t){function n(e,t){var n,i=r.placeHolderPrefix,a=r.placeHolderSuffix;for(n in t){var o=new RegExp(i+n+a,"g");o.test(e)&&(e=e.replace(o,t[n]))}return e}function i(e,n,r,i,o){var s=r||i||o,l=n;if(t==d[s]){if(t==d[o])return e;s=o}if(t===l||null===l)for(var u=0;u<f.length;u++)if(a(s,f[u],e)||a(o,f[u],e)){l=f[u];break}if(a(s,l,e))return d[s][l][e];for(var c,p,h,g;s.length>2&&(c=s.length,p=s.split(/[\s_]+/),h=p[p.length-1],g=h.length,1!==p.length);)if(s=s.substring(0,c-(g+1)),a(s,l,e))return d[s][l][e];return a(o,l,e)?d[o][l][e]:e}function a(e,n,r){return t==d[e]?!1:t==d[e][n]?!1:t==d[e][n][r]?!1:!0}function o(e,n,i){var a,o,u=[],c=[],d=e.split(r.pluralSeparator),f=[];for(a=0;a<d.length;a++){var m=d[a];h.test(m)?(f=m.match(h),u[f[0]]=f[f.length-1]):p.test(m)?(f=m.match(p),c.push(f[1])):c.push(m)}for(o in u)if(g.test(o))if(f=o.match(g),f[1]){var v,y=f[2].split(",");for(v in y)if(n==y[v])return u[o]}else{var b=s(f[4]),w=s(f[5]);if(("["===f[3]?n>=b:n>b)&&("]"===f[6]?w>=n:w>n))return u[o]}return c[l(n,i)]||c[0]||t}function s(e){return"-Inf"===e?Number.NEGATIVE_INFINITY:"+Inf"===e||"Inf"===e?Number.POSITIVE_INFINITY:parseInt(e,10)}function l(e,t){var n=t;switch("pt_BR"===n&&(n="xbr"),n.length>3&&(n=n.split("_")[0]),n){case"bo":case"dz":case"id":case"ja":case"jv":case"ka":case"km":case"kn":case"ko":case"ms":case"th":case"tr":case"vi":case"zh":return 0;case"af":case"az":case"bn":case"bg":case"ca":case"da":case"de":case"el":case"en":case"eo":case"es":case"et":case"eu":case"fa":case"fi":case"fo":case"fur":case"fy":case"gl":case"gu":case"ha":case"he":case"hu":case"is":case"it":case"ku":case"lb":case"ml":case"mn":case"mr":case"nah":case"nb":case"ne":case"nl":case"nn":case"no":case"om":case"or":case"pa":case"pap":case"ps":case"pt":case"so":case"sq":case"sv":case"sw":case"ta":case"te":case"tk":case"ur":case"zu":return 1==e?0:1;case"am":case"bh":case"fil":case"fr":case"gun":case"hi":case"ln":case"mg":case"nso":case"xbr":case"ti":case"wa":return 0===e||1==e?0:1;case"be":case"bs":case"hr":case"ru":case"sr":case"uk":return e%10==1&&e%100!=11?0:e%10>=2&&4>=e%10&&(10>e%100||e%100>=20)?1:2;case"cs":case"sk":return 1==e?0:e>=2&&4>=e?1:2;case"ga":return 1==e?0:2==e?1:2;case"lt":return e%10==1&&e%100!=11?0:e%10>=2&&(10>e%100||e%100>=20)?1:2;case"sl":return e%100==1?0:e%100==2?1:e%100==3||e%100==4?2:3;case"mk":return e%10==1?0:1;case"mt":return 1==e?0:0===e||e%100>1&&11>e%100?1:e%100>10&&20>e%100?2:3;case"lv":return 0===e?0:e%10==1&&e%100!=11?1:2;case"pl":return 1==e?0:e%10>=2&&4>=e%10&&(12>e%100||e%100>14)?1:2;case"cy":return 1==e?0:2==e?1:8==e||11==e?2:3;case"ro":return 1==e?0:0===e||e%100>0&&20>e%100?1:2;case"ar":return 0===e?0:1==e?1:2==e?2:e>=3&&10>=e?3:e>=11&&99>=e?4:5;default:return 0}}function u(e,t){for(var n=0;n<e.length;n++)if(t===e[n])return!0;return!1}function c(){return e.documentElement.lang.replace("-","_")}var d={},f=[],p=new RegExp(/^\w+\: +(.+)$/),h=new RegExp(/^\s*((\{\s*(\-?\d+[\s*,\s*\-?\d+]*)\s*\})|([\[\]])\s*(-Inf|\-?\d+)\s*,\s*(\+?Inf|\-?\d+)\s*([\[\]]))\s?(.+?)$/),g=new RegExp(/^\s*(\{\s*(\-?\d+[\s*,\s*\-?\d+]*)\s*\})|([\[\]])\s*(-Inf|\-?\d+)\s*,\s*(\+?Inf|\-?\d+)\s*([\[\]])/);return{locale:c(),fallback:"en",placeHolderPrefix:"%",placeHolderSuffix:"%",defaultDomain:"messages",pluralSeparator:"|",add:function(e,t,n,r){var i=r||this.locale||this.fallback,a=n||this.defaultDomain;return d[i]||(d[i]={}),d[i][a]||(d[i][a]={}),d[i][a][e]=t,!1===u(f,a)&&f.push(a),this},trans:function(e,t,r,a){var o=i(e,r,a,this.locale,this.fallback);return n(o,t||{})},transChoice:function(e,r,a,s,l){var u=i(e,s,l,this.locale,this.fallback),c=parseInt(r,10);return t==u||isNaN(c)||(u=o(u,c,l||this.locale||this.fallback)),n(u,a||{})},fromJSON:function(e){if("string"==typeof e&&(e=JSON.parse(e)),e.locale&&(this.locale=e.locale),e.fallback&&(this.fallback=e.fallback),e.defaultDomain&&(this.defaultDomain=e.defaultDomain),e.translations)for(var t in e.translations)for(var n in e.translations[t])for(var r in e.translations[t][n])this.add(r,e.translations[t][n][r],n,t);return this},reset:function(){d={},f=[],this.locale=c()}}}(document,void 0);"function"==typeof window.define&&window.define.amd&&window.define("Translator",[],function(){return r}),window.Translator=r},function(e,t,n){"use strict";var r=angular.module("crudMod",["ng-admin"]);r.config(n(34)),e.exports=r},function(e,t,n){var r;r=function(){"use strict";function e(e,n){e.decorator("listActionsDirective",["$delegate",function(e){return e[0].template=t,e}])}var t=n(172);return e.$inject=["$provide","NgAdminConfigurationProvider"],e}.call(t,n,t,e),!(void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var r=angular.module("mainMod",["ng-admin"]);r.controller("AppCtrl",n(36)),r.controller("ModalLoginCtrl",n(38)),r.controller("ModalLogoutCtrl",n(39)),r.controller("ModalAccessDeniedDeCtrl",n(37)),r.controller("SessionDropdownCtrl",n(40)),r.factory("AuthenticationService",n(41)),r.config(n(42)),r.config(n(43)),r.config(n(44)),r.config(n(47)),r.config(n(46)),r.provider("UserService",n(45)),r.run(n(48))},function(e,t,n){var r;r=function(){"use strict";var e=function(e,t,r,i){this.$scope=e,this.$scope=t;var a=!1,o=n(176),s=n(177);e.$on("event:auth-loginRequired",function(e){a||(t.open({template:o,controller:"ModalLoginCtrl",backdrop:"static",size:"sm",keyboard:!1,resolve:{items:function(){return[]}}}),a=!0)}),e.loginCheck=function(){var e=r.get("token")||null;if(!e)return!1;var t=i.isTokenExpired(e);return t===!0?!1:!0},e.logoutConfirm=function(){t.open({template:s,controller:"ModalLogoutCtrl",backdrop:"static",keyboard:!1}),a=!1},e.$on("$destroy",this.destroy.bind(this))};return e.prototype.destroy=function(){this.$scope=void 0},e.$inject=["$scope","$modal","store","jwtHelper"],e}.call(t,n,t,e),!(void 0!==r&&(e.exports=r))},function(e,t,n){var r;r=function(){"use strict";var e=function(e,t,n,r){e.cancel=function(){r.done(),t.close()},console.log(e.$id)};return e.$inject=["$scope","$modalInstance","AuthenticationService","progression"],e}.call(t,n,t,e),!(void 0!==r&&(e.exports=r))},function(e,t,n){var r;r=function(){"use strict";var e=function(e,t,n,r){t.credentials={username:"admin",password:"123456"},t.$on("event:auth-login-failed",function(e,n){t.errorMessage=n.message?"status."+n.code:"Bad credentials"}),t.$on("event:auth-login-complete",function(){n.close()}),t.submit=function(e){r.login(e)},t.cancel=function(){r.cancel()}};return e.$inject=["$rootScope","$scope","$modalInstance","AuthenticationService"],e}.call(t,n,t,e),!(void 0!==r&&(e.exports=r))},function(e,t,n){var r;r=function(){"use strict";var e=function(e,t,n){e.ok=function(){t.close(),n.logout({})},e.cancel=function(){t.close()},console.log(e.$id)};return e.$inject=["$scope","$modalInstance","AuthenticationService"],e}.call(t,n,t,e),!(void 0!==r&&(e.exports=r))},function(e,t,n){var r;r=function(){"use strict";function e(e,t){e.username="Efrain",e.items=[{text:"Perfil "+e.username,icon_fa:"fa fa-user fa-fw"}],e.status={isopen:!1},e.toggled=function(e){t.log("Dropdown is now: ",e)},e.toggleDropdown=function(t){t.preventDefault(),t.stopPropagation(),e.status.isopen=!e.status.isopen}}return e.$inject=["$scope","$log"],e}.call(t,n,t,e),!(void 0!==r&&(e.exports=r))},function(e,t,n){var r;r=function(){"use strict";function e(e,t,n,r,i){return{login:function(r){t.post("/api/login_check",r,{ignoreAuthModule:!0}).success(function(r,a,o,s){i.set("token",r.token),i.set("authorization","Bearer "+r.token),t.defaults.headers.common.Authorization=i.get("authorization"),n.loginConfirmed(r,function(t){return t.headers.Authorization=i.get("authorization"),e.$broadcast("event:auth-login-complete"),t})}).error(function(t,n,r,i){e.$broadcast("event:auth-login-failed",t,n)})},logout:function(n){delete t.defaults.headers.common.Authorization,i.remove("token"),i.remove("authorization"),e.$broadcast("event:auth-logout-complete")},cancel:function(){n.loginCancelled()}}}return e.$inject=["$rootScope","$http","authService","$httpBackend","store"],e}.call(t,n,t,e),!(void 0!==r&&(e.exports=r))},function(e,t,n){var r;r=function(){"use strict";function e(e,n,r){e.factory("CasoAdmin",function(){var e=n,i=e.entity("casos").identifier(e.field("case_id"));return r.addElementTransformer("casos",function(e){return e.case_clin&&(e.case_clin=e.case_clin.clin_id),e}),i.dashboardView().title("Casos recientes").fields([e.field("case_title").label("Caso")]),i.listView().title("Lista de casos").infinitePagination(!1).perPage(10).fields([e.field("case_id").label("ID"),e.field("case_title").label("Casos")]).listActions(["edit","delete","show"]),i.creationView().title("Crear nuevo caso").description("Casos de salud").fields([e.field("case_title").label("Titulo de caso"),e.field("case_content","wysiwyg").label("Descripción"),e.field("case_status","choice").label("Estatus").choices([{value:"publish",label:"Publicado"},{value:"draft",label:"Borrador"}]),e.field("comment_status","choice").label("Estatus de comentario").choices([{value:"open",label:"Abierto"},{value:"close",label:"Cerrado"}]),e.field("access_control","choice").label("Control de acceso").choices([{value:"all",label:"Todo"}]),e.field("case_clin","reference").label("Clinica").targetEntity(e.entity("clinicas").baseApiUrl(t).identifier(e.field("clin_id"))).targetField(e.field("clin_name"))]),i.editionView().fields([i.creationView().fields()]),i.showView().fields([i.creationView().fields()]),i})}var t=location.protocol+"//"+location.hostname+(location.port?":"+location.port:"")+"/api/";return e.$inject=["$provide","NgAdminConfigurationProvider","RestangularProvider"],e}.call(t,n,t,e),!(void 0!==r&&(e.exports=r))},function(e,t,n){var r;r=function(){"use strict";function e(e,t,n){e.factory("ClinicaAdmin",function(){var e=t,r=e.entity("clinicas").identifier(e.field("clin_id"));return n.addElementTransformer("clinicas",function(e){return e.clin_lat&&e.clin_lng&&(e.clin_lat=parseInt(e.clin_lat),e.clin_lng=parseInt(e.clin_lng)),e}),r.dashboardView().title("Clinicas").fields([e.field("clin_name").label("Nombre")]),r.listView().infinitePagination(!0).fields([e.field("clin_id").label("ID"),e.field("clin_name").label("Nombre")]).listActions(["edit","delete","show"]),r.creationView().fields([e.field("clin_name").label("Nombre"),e.field("clin_addr").label("Dirección"),e.field("clin_lat","number").label("Coordenada Latitud"),e.field("clin_lng","number").label("Coordenada Longitud")]),r.editionView().fields([r.creationView().fields()]),r.showView().fields([e.field("clin_id").label("ID"),r.editionView().fields()]),r})}return e.$inject=["$provide","NgAdminConfigurationProvider","RestangularProvider"],e}.call(t,n,t,e),!(void 0!==r&&(e.exports=r))},function(e,t,n){var r;r=function(){"use strict";function e(e,t){e.factory("UserAdmin",function(){var e=t,n=e.entity("users").label("Usuarios");return n.dashboardView().title("Usuarios").fields([e.field("username")]),n.listView().title("Lista de usuarios").infinitePagination(!1).fields([e.field("id"),e.field("username").label("Nombre de usuario"),e.field("email").label("Correo electronico"),e.field("enabled","boolean")]).listActions(["edit","delete","show"]),n.creationView().title("Crear nuevo usuario").fields([e.field("username").attributes({placeholder:"Usuario"}),e.field("email","email").attributes({placeholder:" Correo de electronico"}),e.field("password","password").attributes({placeholder:" Contraseña"})]),n.editionView().title("{{ 'profile.edit.submit' | trans }} # {{ entry.values.id }}").fields([e.field("username").label("Nombre de usuario"),e.field("email","email").label("Dirección de correo electrónico"),e.field("enabled","boolean").label("Estado")]),n.showView().fields([e.field("id"),e.field("username"),e.field("email"),e.field("created_at","datetime"),e.field("update_at","datetime"),e.field("enabled"),e.field("locked"),e.field("last_login","datetime")]),n})}return e.$inject=["$provide","NgAdminConfigurationProvider"],e}.call(t,n,t,e),!(void 0!==r&&(e.exports=r))},function(e,t,n){var r;r=function(){"use strict";function e(){this.user=null,this.getUser=function(){return this.user},this.setUser=function(e){this.user=e},this.clear=function(){this.user=null}}return e.prototype.$get=function(){return this.user},e.$inject=[],e}.call(t,n,t,e),!(void 0!==r&&(e.exports=r))},function(e,t,n){var r;r=function(){"use strict";function e(e,n,u,c){var d=e.application("Dr App").baseApiUrl(t);d.addEntity(n.$get()).addEntity(u.$get()).addEntity(c.$get());var f={DeleteView:i,EditView:a,ListView:o,ShowView:s,CreateView:l};d.customTemplate(function(e){return f[e]?f[e]:void 0}),d.header(r),e.configure(d)}var t=location.protocol+"//"+location.hostname+(location.port?":"+location.port:"")+"/api/",r=n(178),i=n(169),a=n(171),o=n(173),s=n(174),l=n(170);return e.$inject=["NgAdminConfigurationProvider","CasoAdminProvider","ClinicaAdminProvider","UserAdminProvider"],e}.call(t,n,t,e),!(void 0!==r&&(e.exports=r))},function(e,t,n){var r;r=function(){"use strict";function e(e){e.addFullRequestInterceptor(function(e,t,n,r,i,a){if(console.log("RequestInterceptor: ",e,t,n,r,i),"getList"==t&&(a._page&&(a._start=(a._page-1)*a._perPage,a._end=a._page*a._perPage,a.offset=a._start,a.limit=a._end,delete a._start,delete a._end),delete a._page,delete a._perPage,a._sortField&&(delete a._sortDir,delete a._sortField),a._filters)){for(var o in a._filters)a[o]=a._filters[o];delete a._filters}return console.log("request params",a),{params:a}}),e.addResponseInterceptor(function(e,t,n,r,i,a){return"getList"===t&&"casos"===n?(console.log(e,t,n,i),e._embedded.items):e})}return e.$inject=["RestangularProvider"],e}.call(t,n,t,e),!(void 0!==r&&(e.exports=r))},function(e,t,n){var r;r=function(){"use strict";var e=function(e,t,r,i,a,o,s,l){var u=t.get("token")||null;if(u){var c=r.isTokenExpired(u);c===!1?(console.log(r.decodeToken(u)),a.defaults.headers.common.Authorization=t.get("authorization")):(t.remove("authorization"),t.remove("token"),delete a.defaults.headers.common.Authorization,alert("token expired"))}var d=n(175);e.$on("$stateChangeStart",function(e,t,n,r,i){var a=t.name;if(void 0!=a){var o={create:!0,edit:!0,list:!0,show:!0,"delete":!0};if(a in o){var s={create:!0,edit:!0,list:!0,show:!0};if(!(a in s&&s[a]))return e.preventDefault(),void l.open({template:d,controller:"ModalAccessDeniedDeCtrl",backdrop:"static",keyboard:!1});console.log("acceso concedido")}}})};return e.$inject=["$rootScope","store","jwtHelper","$location","$http","$urlRouter","progression","$modal"],e}.call(t,n,t,e),!(void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";n(32),n(26);for(var r=n(19),i=r.keys(),a=0;a<i.length;a++)n(r.resolve(i[a]));n(35),n(33),angular.module("myApp",["mainMod","crudMod","ng-admin","http-auth-interceptor","boxuk.translation","angular-jwt","angular-storage"])},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(12),s=r(o),l=n(14),u=r(l),c=function(){function e(){var t=void 0===arguments[0]?"ng-admin":arguments[0],n=void 0===arguments[1]?!0:arguments[1];i(this,e),this._baseApiUrl="",this._customTemplate=function(e){},this._title=t,this._menu=null,this._layout=!1,this._header=!1,this._entities=[],this._errorMessage=this.defaultErrorMessage,this._debug=n}return a(e,[{key:"defaultErrorMessage",value:function(e){var t=e.data;return"object"==typeof t&&(t=JSON.stringify(t)),"Oops, an error occured : (code: "+e.status+") "+t}},{key:"entities",get:function(){return this._entities}},{key:"getViewsOfType",value:function(e){return u["default"].order(this.entities.map(function(t){return t.views[e]}).filter(function(e){return e.enabled}))}},{key:"getRouteFor",value:function(e,t,n,r,i){var a=e.baseApiUrl()||this.baseApiUrl(),o=t||e.getUrl(n,r,i);return o?/^(?:[a-z]+:)?\/\//.test(o)||(o=a+o):(o=a+e.name(),r&&(o+="/"+r)),o}},{key:"debug",value:function(e){return arguments.length?(this._debug=e,this):this._debug}},{key:"layout",value:function(e){return arguments.length?(this._layout=e,this):this._layout}},{key:"header",value:function(e){return arguments.length?(this._header=e,this):this._header}},{key:"title",value:function(e){return arguments.length?(this._title=e,this):this._title}},{key:"menu",value:function(e){return arguments.length?(this._menu=e,this):(this._menu||(this._menu=this.buildMenuFromEntities()),this._menu)}},{key:"buildMenuFromEntities",value:function(){return(new s["default"]).children(this.entities.filter(function(e){return e.menuView().enabled}).sort(function(e,t){return e.menuView().order()-t.menuView().order()}).map(function(e){return(new s["default"]).populateFromEntity(e)}))}},{key:"customTemplate",value:function(e){return arguments.length?(this._customTemplate=e,this):this._customTemplate}},{key:"baseApiUrl",value:function(e){return arguments.length?(this._baseApiUrl=e,this):this._baseApiUrl}},{key:"addEntity",value:function(e){if(!e)throw new Error("No entity given");return this._entities.push(e),this}},{key:"getEntity",value:function(e){var t=this._entities.filter(function(t){return t.name()===e})[0];if(!t)throw new Error('Unable to find entity "'+e+'"');return t}},{key:"hasEntity",value:function(e){return!!this._entities.filter(function(t){return t.name()===e}).length}},{key:"getViewByEntityAndType",value:function(e,t){return this._entities.filter(function(t){return t.name()===e})[0].views[t]}},{key:"getErrorMessage",value:function(e){return"function"==typeof this._errorMessage?this._errorMessage(e):this._errorMessage}},{key:"errorMessage",value:function(e){return arguments.length?(this._errorMessage=e,this):this._errorMessage}},{key:"getErrorMessageFor",value:function(e,t){return e.getErrorMessage(t)||e.getEntity().getErrorMessage(t)||this.getErrorMessage(t)}},{key:"getEntityNames",value:function(){return this.entities.map(function(e){return e.name()})}}]),e}();t["default"]=c,e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(8),s=r(o),l=function(){function e(){i(this,e),this._entries={}}return a(e,[{key:"setEntries",value:function(e,t){return this._entries[e]=t,this}},{key:"addEntry",value:function(e,t){e in this._entries||(this._entries[e]=[]),this._entries[e].push(t)}},{key:"getEntries",value:function(e){return this._entries[e]||[]}},{key:"getFirstEntry",value:function(e){var t=this.getEntries(e);return t.length?t[0]:null}},{key:"getChoices",value:function(e){var t=e.targetEntity().identifier().name(),n=e.targetField().name();return this.getEntries(e.targetEntity().uniqueId+"_choices").map(function(e){return{value:e.values[t],label:e.values[n]}})}},{key:"createEntry",value:function(e,t,n){var r=new s["default"].mapFromRest(e,t,n,{});return n.forEach(function(e){r.values[e.name()]=e.defaultValue()}),r}},{key:"mapEntry",value:function(e,t,n,r){var i=new s["default"].mapFromRest(e,t,n,r);return i}},{key:"mapEntries",value:function(e,t,n,r){var i=this;return r.map(function(r){return i.mapEntry(e,t,n,r)})}},{key:"fillReferencesValuesFromCollection",value:function(e,t,n){n="undefined"==typeof n?!1:n;for(var r=0,i=e.length;i>r;r++)e[r]=this.fillReferencesValuesFromEntry(e[r],t,n);return e}},{key:"fillReferencesValuesFromEntry",value:function(e,t,n){for(var r in t){var i=t[r],a=this.getReferenceChoicesById(i),o=[],s=i.getMappedValue(e.values[r],e.values);if("reference_many"===i.type()){for(var l in s){var u=s[l];o.push(a[u])}e.listValues[r]=o}else n&&s&&s in a&&(e.listValues[r]=i.getMappedValue(a[s],e.values))}return e}},{key:"getReferenceChoicesById",value:function(e){for(var t={},n=e.targetField().name(),r=e.targetEntity().identifier().name(),i=this.getEntries(e.targetEntity().uniqueId+"_values"),a=0,o=i.length;o>a;a++){var s=i[a];t[s.values[r]]=s.values[n]}return t}}]),e}();t["default"]=l,e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(50),s=r(o),l=n(7),u=r(l),c=n(51),d=r(c),f=n(68),p=r(f),h=n(66),g=r(h),m=n(67),v=r(m),y=n(1),b=r(y),w=n(53),$=r(w),x=n(9),C=r(x),E=n(54),_=r(E),S=n(10),k=r(S),T=n(55),O=r(T),A=n(56),R=r(A),M=n(58),N=r(M),D=n(57),L=r(D),P=n(59),I=r(P),F=n(11),j=r(F),H=n(60),B=r(H),V=n(5),U=r(V),z=n(62),q=r(z),W=n(61),G=r(W),K=n(63),Y=r(K),X=n(64),Q=r(X),J=n(65),Z=r(J),ee=n(12),te=r(ee),ne=function(){function e(){i(this,e),this._fieldTypes=[],this._init()}return a(e,[{key:"application",value:function(e,t){return new s["default"](e,t)}},{key:"entity",value:function(e){return new u["default"](e)}},{key:"field",value:function(e,t){if(t=t||"string",!(t in this._fieldTypes))throw new Error('Unknown field type "'+t+'".');return new this._fieldTypes[t](e)}},{key:"registerFieldType",value:function(e,t){this._fieldTypes[e]=t}},{key:"getFieldConstructor",value:function(e){return this._fieldTypes[e]}},{key:"menu",value:function t(e){var t=new te["default"];return e&&t.populateFromEntity(e),t}},{key:"getDataStore",value:function(){return new d["default"]}},{key:"getReadQueries",value:function(e,t,n){return new g["default"](e,t,n)}},{key:"getWriteQueries",value:function(e,t,n){return new v["default"](e,t,n)}},{key:"getPromisesResolver",value:function(){return p["default"]}},{key:"_init",value:function(){this.registerFieldType("boolean",$["default"]),this.registerFieldType("choice",C["default"]),this.registerFieldType("choices",_["default"]),this.registerFieldType("date",k["default"]),this.registerFieldType("datetime",O["default"]),this.registerFieldType("email",R["default"]),this.registerFieldType("float",N["default"]),this.registerFieldType("string",b["default"]),this.registerFieldType("file",L["default"]),this.registerFieldType("json",I["default"]),this.registerFieldType("number",j["default"]),this.registerFieldType("password",B["default"]),this.registerFieldType("reference",U["default"]),this.registerFieldType("reference_many",G["default"]),this.registerFieldType("referenced_list",q["default"]),this.registerFieldType("template",Y["default"]),this.registerFieldType("text",Q["default"]),this.registerFieldType("wysiwyg",Z["default"])}}]),e}();t["default"]=ne,e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var o=function(e,t,n){for(var r=!0;r;){var i=e,a=t,o=n;s=u=l=void 0,r=!1;var s=Object.getOwnPropertyDescriptor(i,a);if(void 0!==s){if("value"in s)return s.value;var l=s.get;return void 0===l?void 0:l.call(o)}var u=Object.getPrototypeOf(i);if(null===u)return void 0;e=u,t=a,n=o,r=!0}},s=n(1),l=r(s),u=function(e){function t(e){i(this,t),o(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e),this._type="boolean"}return a(t,e),t}(l["default"]);t["default"]=u,e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var o=function(e,t,n){for(var r=!0;r;){var i=e,a=t,o=n;s=u=l=void 0,r=!1;var s=Object.getOwnPropertyDescriptor(i,a);if(void 0!==s){if("value"in s)return s.value;var l=s.get;return void 0===l?void 0:l.call(o)}var u=Object.getPrototypeOf(i);if(null===u)return void 0;e=u,t=a,n=o,r=!0}},s=n(9),l=r(s),u=function(e){function t(e){i(this,t),o(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e),this._type="choices"}return a(t,e),t}(l["default"]);t["default"]=u,e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var o=function(e,t,n){for(var r=!0;r;){var i=e,a=t,o=n;s=u=l=void 0,r=!1;var s=Object.getOwnPropertyDescriptor(i,a);if(void 0!==s){if("value"in s)return s.value;var l=s.get;return void 0===l?void 0:l.call(o)}var u=Object.getPrototypeOf(i);if(null===u)return void 0;e=u,t=a,n=o,r=!0}},s=n(10),l=r(s),u=function(e){function t(e){i(this,t),o(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e),this._format="yyyy-MM-dd HH:mm:ss",this._parse=function(e){return e},this._type="datetime"}return a(t,e),t}(l["default"]);t["default"]=u,e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var o=function(e,t,n){for(var r=!0;r;){var i=e,a=t,o=n;s=u=l=void 0,r=!1;var s=Object.getOwnPropertyDescriptor(i,a);if(void 0!==s){if("value"in s)return s.value;var l=s.get;return void 0===l?void 0:l.call(o)}var u=Object.getPrototypeOf(i);if(null===u)return void 0;e=u,t=a,n=o,r=!0}},s=n(1),l=r(s),u=function(e){function t(e){i(this,t),o(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e),this._type="email"}return a(t,e),t}(l["default"]);t["default"]=u,e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=function(e,t,n){for(var r=!0;r;){var i=e,a=t,o=n;s=u=l=void 0,r=!1;var s=Object.getOwnPropertyDescriptor(i,a);if(void 0!==s){if("value"in s)return s.value;var l=s.get;return void 0===l?void 0:l.call(o)}var u=Object.getPrototypeOf(i);if(null===u)return void 0;e=u,t=a,n=o,r=!0}},l=n(1),u=r(l),c=function(e){function t(e){i(this,t),s(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e),this._type="file",this._uploadInformation={url:"/upload",accept:"*"}}return a(t,e),o(t,[{key:"uploadInformation",value:function(e){return arguments.length?(this._uploadInformation=e,this):this._uploadInformation}}]),t}(u["default"]);t["default"]=c,e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var o=function(e,t,n){for(var r=!0;r;){var i=e,a=t,o=n;s=u=l=void 0,r=!1;var s=Object.getOwnPropertyDescriptor(i,a);if(void 0!==s){if("value"in s)return s.value;var l=s.get;return void 0===l?void 0:l.call(o)}var u=Object.getPrototypeOf(i);if(null===u)return void 0;e=u,t=a,n=o,r=!0}},s=n(11),l=r(s),u=function(e){function t(e){i(this,t),o(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e),this._type="float",this._format="0.000"}return a(t,e),t}(l["default"]);t["default"]=u,e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var o=function(e,t,n){for(var r=!0;r;){var i=e,a=t,o=n;s=u=l=void 0,r=!1;var s=Object.getOwnPropertyDescriptor(i,a);if(void 0!==s){if("value"in s)return s.value;var l=s.get;return void 0===l?void 0:l.call(o)}var u=Object.getPrototypeOf(i);if(null===u)return void 0;e=u,t=a,n=o,r=!0}},s=n(1),l=r(s),u=function(e){function t(e){i(this,t),o(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e),this._type="json"}return a(t,e),t}(l["default"]);t["default"]=u,e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var o=function(e,t,n){for(var r=!0;r;){var i=e,a=t,o=n;s=u=l=void 0,r=!1;var s=Object.getOwnPropertyDescriptor(i,a);if(void 0!==s){if("value"in s)return s.value;var l=s.get;return void 0===l?void 0:l.call(o)}var u=Object.getPrototypeOf(i);if(null===u)return void 0;e=u,t=a,n=o,r=!0}},s=n(1),l=r(s),u=function(e){function t(e){i(this,t),o(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e),this._type="password"}return a(t,e),t}(l["default"]);t["default"]=u,e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(e.__proto__=t);
}Object.defineProperty(t,"__esModule",{value:!0});var o=function(e,t,n){for(var r=!0;r;){var i=e,a=t,o=n;s=u=l=void 0,r=!1;var s=Object.getOwnPropertyDescriptor(i,a);if(void 0!==s){if("value"in s)return s.value;var l=s.get;return void 0===l?void 0:l.call(o)}var u=Object.getPrototypeOf(i);if(null===u)return void 0;e=u,t=a,n=o,r=!0}},s=n(5),l=r(s),u=function(e){function t(e){i(this,t),o(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e),this._type="reference_many"}return a(t,e),t}(l["default"]);t["default"]=u,e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=function(e,t,n){for(var r=!0;r;){var i=e,a=t,o=n;s=u=l=void 0,r=!1;var s=Object.getOwnPropertyDescriptor(i,a);if(void 0!==s){if("value"in s)return s.value;var l=s.get;return void 0===l?void 0:l.call(o)}var u=Object.getPrototypeOf(i);if(null===u)return void 0;e=u,t=a,n=o,r=!0}},l=n(5),u=r(l),c=function(e){function t(e){i(this,t),s(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e),this._type="referenced_list",this._targetReferenceField=null,this._targetFields=[],this._detailLink=!1}return a(t,e),o(t,[{key:"targetReferenceField",value:function(e){return arguments.length?(this._targetReferenceField=e,this):this._targetReferenceField}},{key:"targetFields",value:function(e){return arguments.length?(this._targetFields=e,this):this._targetFields}},{key:"getGridColumns",value:function(){for(var e=[],t=0,n=this._targetFields.length;n>t;t++){var r=this._targetFields[t];e.push({field:r,label:r.label()})}return e}},{key:"getSortFieldName",value:function(){return this.sortField()?this._targetEntity.name()+"_ListView."+this.sortField():null}}]),t}(u["default"]);t["default"]=c,e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=function(e,t,n){for(var r=!0;r;){var i=e,a=t,o=n;s=u=l=void 0,r=!1;var s=Object.getOwnPropertyDescriptor(i,a);if(void 0!==s){if("value"in s)return s.value;var l=s.get;return void 0===l?void 0:l.call(o)}var u=Object.getPrototypeOf(i);if(null===u)return void 0;e=u,t=a,n=o,r=!0}},l=n(1),u=r(l),c=function(e){function t(e){i(this,t),s(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e),this._template=function(){return""},this._type="template"}return a(t,e),o(t,[{key:"getTemplateValue",value:function(e){return"function"==typeof this._template?this._template(e):this._template}},{key:"template",value:function(e){return arguments.length?(this._template=e,this):this._template}}]),t}(u["default"]);t["default"]=c,e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var o=function(e,t,n){for(var r=!0;r;){var i=e,a=t,o=n;s=u=l=void 0,r=!1;var s=Object.getOwnPropertyDescriptor(i,a);if(void 0!==s){if("value"in s)return s.value;var l=s.get;return void 0===l?void 0:l.call(o)}var u=Object.getPrototypeOf(i);if(null===u)return void 0;e=u,t=a,n=o,r=!0}},s=n(1),l=r(s),u=function(e){function t(e){i(this,t),o(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e),this._type="text"}return a(t,e),t}(l["default"]);t["default"]=u,e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=function(e,t,n){for(var r=!0;r;){var i=e,a=t,o=n;s=u=l=void 0,r=!1;var s=Object.getOwnPropertyDescriptor(i,a);if(void 0!==s){if("value"in s)return s.value;var l=s.get;return void 0===l?void 0:l.call(o)}var u=Object.getPrototypeOf(i);if(null===u)return void 0;e=u,t=a,n=o,r=!0}},l=n(1),u=r(l),c=function(e){function t(e){i(this,t),s(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e),this._type="wysiwyg",this._stripTags=!1,this._sanitize=!0}return a(t,e),o(t,[{key:"stripTags",value:function(e){return arguments.length?(this._stripTags=e,this):this._stripTags}},{key:"sanitize",value:function(e){return arguments.length?(this._sanitize=e,this):this._sanitize}}]),t}(u["default"]);t["default"]=c,e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(13),l=r(s),u=function(e){function t(){i(this,t),null!=e&&e.apply(this,arguments)}return a(t,e),o(t,[{key:"getOne",value:function(e,t,n,r,i){return this._restWrapper.getOne(e.name(),this._application.getRouteFor(e,i,t,n,r))}},{key:"getAll",value:function(e,t,n,r,i){t=t||1;var a=e.getUrl();return r&&r.split(".")[0]===e.name()?(r=r,i=i):(r=e.getSortFieldName(),i=e.sortDir()),this.getRawValues(e.entity,e.name(),e.type,t,e.perPage(),n,e.filters(),r,i,a).then(function(e){return{data:e.data,totalItems:e.totalCount||e.headers("X-Total-Count")||e.data.length}})}},{key:"getRawValues",value:function(e,t,n,r,i,a,o,s,l,u){var c={};if(-1!==r&&(c._page="undefined"==typeof r?1:parseInt(r,10),c._perPage=i),s&&s.split(".")[0]===t&&(c._sortField=s.split(".")[1],c._sortDir=l),a&&0!==Object.keys(a).length){c._filters={};var d=void 0;for(d in a)o.hasOwnProperty(d)&&o[d].hasMaps()?Object.assign(c._filters,o[d].getMappedValue(a[d])):c._filters[d]=a[d]}return this._restWrapper.getList(c,e.name(),this._application.getRouteFor(e,u,n))}},{key:"getFilteredReferenceData",value:function(e,t){if(!e||!Object.keys(e).length)return this._promisesResolver.empty({});var n=this.getOne.bind(this),r=[];for(var i in e){var a=e[i],o=a.targetEntity(),s=a.getIdentifierValues(t);for(var l in s)r.push(n(o,"listView",s[l],a.name()))}return this.fillFilteredReferencedData(r,e,t)}},{key:"getOptimizedReferencedData",value:function(e,t){if(!e||!Object.keys(e).length)return this._promisesResolver.empty({});var n=this.getRawValues.bind(this),r=[];for(var i in e){var a=e[i],o=a.targetEntity(),s=a.getIdentifierValues(t),l=a.getSingleApiCall(s);r.push(n(o,o.name()+"_ListView","listView",1,a.perPage(),l,{},a.sortField(),a.sortDir()))}return this.fillOptimizedReferencedData(r,e)}},{key:"getAllReferencedData",value:function(e){if(!e||!Object.keys(e).length)return this._promisesResolver.empty({});var t=[],n=this.getRawValues.bind(this);for(var r in e){var i=e[r],a=i.targetEntity();t.push(n(a,a.name()+"_ListView","listView",1,i.perPage(),i.filters(),{},i.sortField(),i.sortDir()))}return this.fillOptimizedReferencedData(t,e)}},{key:"fillOptimizedReferencedData",value:function(e,t){return this._promisesResolver.allEvenFailed(e).then(function(e){if(0===e.length)return{};var n={},r=0;for(var i in t){var a=t[i],o=e[r++];"error"!=o.status&&(n[a.name()]=o.result.data)}return n})}},{key:"fillFilteredReferencedData",value:function(e,t,n){return this._promisesResolver.allEvenFailed(e).then(function(e){if(0===e.length)return{};var r={},i=void 0,a=0;for(var o in t){var s=[],l=t[o],u=l.getIdentifierValues(n);for(var c in u)i=e[a++],"error"!=i.status&&s.push(i.result);s.length&&(r[l.name()]=s)}return r})}},{key:"getReferencedListData",value:function(e,t,n,r){var i=this.getRawValues.bind(this),a=[];for(var o in e){var s=e[o],l=s.targetEntity(),u=s.datagridName(),c=s.getSortFieldName(),d=s.sortDir(),f={};t&&t.split(".")[0]===u&&(c=t,d=n||"ASC"),f[s.targetReferenceField()]=r,a.push(i(l,u,"listView",1,s.perPage(),f,{},c,d))}return this._promisesResolver.allEvenFailed(a).then(function(t){var n=0,r={};for(var i in e){var a=t[n++];"error"!=a.status&&(r[i]=a.result.data)}return r})}}]),t}(l["default"]);t["default"]=u,e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(13),l=r(s),u=function(e){function t(){i(this,t),null!=e&&e.apply(this,arguments)}return a(t,e),o(t,[{key:"createOne",value:function(e,t){return this._restWrapper.createOne(t,e.entity.name(),this._application.getRouteFor(e.entity,e.getUrl(),e.type),e.entity.createMethod())}},{key:"updateOne",value:function(e,t,n){var r=n||t[e.entity.identifier().name()];return this._restWrapper.updateOne(t,e.entity.name(),this._application.getRouteFor(e.entity,e.getUrl(r),e.type,r,e.identifier()),e.entity.updateMethod())}},{key:"deleteOne",value:function(e,t){return this._restWrapper.deleteOne(e.entity.name(),this._application.getRouteFor(e.entity,e.getUrl(t),e.type,t,e.identifier()))}},{key:"batchDelete",value:function(e,t){var n=this.deleteOne.bind(this),r=t.map(function(t){return n(e,t)});return this._promisesResolver.allEvenFailed(r)}}]),t}(l["default"]);t["default"]=u,e.exports=t["default"]},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function(){function e(){r(this,e)}return i(e,null,[{key:"empty",value:function(e){return new Promise(function(t){t(e)})}},{key:"allEvenFailed",value:function(e){if(!Array.isArray(e))throw Error("allEvenFailed can only handle an array of promises");return new Promise(function(t,n){if(0===e.length)return t([]);var r=[],i=[];e.forEach(function(e,t){r[t]=!1}),e.forEach(function(e,n){function a(e){r[n]=!0,i[n]=e;for(var a in r)if(!r[a])return;t(i)}function o(e){return a({status:"success",result:e})}function s(e){return a({status:"error",error:e})}e.then(o,s)})})}}]),e}();t["default"]=a,e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var o=function(e,t,n){for(var r=!0;r;){var i=e,a=t,o=n;s=u=l=void 0,r=!1;var s=Object.getOwnPropertyDescriptor(i,a);if(void 0!==s){if("value"in s)return s.value;var l=s.get;return void 0===l?void 0:l.call(o)}var u=Object.getPrototypeOf(i);if(null===u)return void 0;e=u,t=a,n=o,r=!0}},s=n(2),l=r(s),u=function(e){function t(e){i(this,t),o(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e),this._type="BatchDeleteView",this._enabled=!0}return a(t,e),t}(l["default"]);t["default"]=u,e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var o=function(e,t,n){for(var r=!0;r;){var i=e,a=t,o=n;s=u=l=void 0,r=!1;var s=Object.getOwnPropertyDescriptor(i,a);if(void 0!==s){if("value"in s)return s.value;var l=s.get;return void 0===l?void 0:l.call(o)}var u=Object.getPrototypeOf(i);if(null===u)return void 0;e=u,t=a,n=o,r=!0}},s=n(2),l=r(s),u=function(e){function t(e){i(this,t),o(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e),this._type="CreateView"}return a(t,e),t}(l["default"]);t["default"]=u,e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var o=function(e,t,n){for(var r=!0;r;){var i=e,a=t,o=n;s=u=l=void 0,r=!1;var s=Object.getOwnPropertyDescriptor(i,a);if(void 0!==s){if("value"in s)return s.value;var l=s.get;return void 0===l?void 0:l.call(o)}var u=Object.getPrototypeOf(i);if(null===u)return void 0;e=u,t=a,n=o,r=!0}},s=n(6),l=r(s),u=function(e){function t(e){i(this,t),o(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e),this._type="DashboardView"}return a(t,e),t}(l["default"]);t["default"]=u,e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var o=function(e,t,n){for(var r=!0;r;){var i=e,a=t,o=n;s=u=l=void 0,r=!1;var s=Object.getOwnPropertyDescriptor(i,a);if(void 0!==s){if("value"in s)return s.value;var l=s.get;return void 0===l?void 0:l.call(o)}var u=Object.getPrototypeOf(i);if(null===u)return void 0;e=u,t=a,n=o,r=!0}},s=n(2),l=r(s),u=function(e){function t(e){i(this,t),o(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e),this._type="DeleteView",this._enabled=!0}return a(t,e),t}(l["default"]);t["default"]=u,e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var o=function(e,t,n){for(var r=!0;r;){var i=e,a=t,o=n;s=u=l=void 0,r=!1;var s=Object.getOwnPropertyDescriptor(i,a);if(void 0!==s){if("value"in s)return s.value;var l=s.get;return void 0===l?void 0:l.call(o)}var u=Object.getPrototypeOf(i);if(null===u)return void 0;e=u,t=a,n=o,r=!0}},s=n(2),l=r(s),u=function(e){function t(e){i(this,t),o(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e),this._type="EditView"}return a(t,e),t}(l["default"]);t["default"]=u,e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var o=function(e,t,n){for(var r=!0;r;){var i=e,a=t,o=n;s=u=l=void 0,r=!1;var s=Object.getOwnPropertyDescriptor(i,a);if(void 0!==s){if("value"in s)return s.value;var l=s.get;return void 0===l?void 0:l.call(o)}var u=Object.getPrototypeOf(i);if(null===u)return void 0;e=u,t=a,n=o,r=!0}},s=n(6),l=r(s),u=function(e){function t(e){i(this,t),o(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e),this._fields=[],this._type="ExportView"}return a(t,e),t}(l["default"]);t["default"]=u,e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=function(e,t,n){for(var r=!0;r;){var i=e,a=t,o=n;s=u=l=void 0,r=!1;var s=Object.getOwnPropertyDescriptor(i,a);if(void 0!==s){if("value"in s)return s.value;var l=s.get;return void 0===l?void 0:l.call(o)}var u=Object.getPrototypeOf(i);if(null===u)return void 0;e=u,t=a,n=o,r=!0}},l=n(2),u=r(l),c=function(e){function t(e){i(this,t),s(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e),this._type="MenuView",this._icon=null}return a(t,e),o(t,[{key:"enabled",get:function(){return this._enabled||this.entity.views.ListView.enabled}},{key:"icon",value:function(){return arguments.length?(console.warn("entity.menuView() is deprecated. Please use the Menu class instead"),this._icon=arguments[0],this):null===this._icon?'<span class="glyphicon glyphicon-list"></span>':this._icon}}]),t}(u["default"]);t["default"]=c,e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var o=function(e,t,n){for(var r=!0;r;){var i=e,a=t,o=n;s=u=l=void 0,r=!1;var s=Object.getOwnPropertyDescriptor(i,a);if(void 0!==s){if("value"in s)return s.value;var l=s.get;return void 0===l?void 0:l.call(o)}var u=Object.getPrototypeOf(i);if(null===u)return void 0;e=u,t=a,n=o,r=!0}},s=n(2),l=r(s),u=function(e){function t(e){i(this,t),o(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e),this._type="ShowView"}return a(t,e),t}(l["default"]);t["default"]=u,e.exports=t["default"]},function(e,t,n){"use strict";n(155),n(78);var r=n(52),i=angular.module("AdminDescriptionModule",[]);i.constant("AdminDescription",new r);var a=angular.module("ng-admin",["ui.select","main","crud","AdminDescriptionModule"]);a.config(["NgAdminConfigurationProvider","AdminDescription",function(e,t){e.setAdminDescription(t)}]),a.config(["uiSelectConfig",function(e){e.theme="bootstrap"}])},function(e,t,n){"use strict";var r=n(4),i=r.module("crud",["ui.router","ui.bootstrap","ngSanitize","textAngular","ngInflection","ui.codemirror","ngFileUpload","ngNumeraljs"]);i.controller("ListController",n(137)),i.controller("ShowController",n(153)),i.controller("FormController",n(134)),i.controller("DeleteController",n(101)),i.controller("BatchDeleteController",n(100)),i.service("EntryFormatter",n(145)),i.service("PromisesResolver",n(146)),i.service("ReadQueries",n(150)),i.service("WriteQueries",n(151)),i.service("RestWrapper",n(147)),i.directive("maJsonValidator",n(154)),i.directive("maField",n(107)),i.directive("maButtonField",n(102)),i.directive("maChoiceField",n(104)),i.directive("maChoicesField",n(105)),i.directive("maDateField",n(106)),i.directive("maInputField",n(109)),i.directive("maJsonField",n(110)),i.directive("maFileField",n(108)),i.directive("maCheckboxField",n(103)),i.directive("maTextField",n(112)),i.directive("maWysiwygField",n(113)),i.directive("maTemplateField",n(111)),i.directive("uiSelectRequired",n(114)),i.provider("FieldViewConfiguration",n(119)),i.directive("listActions",n(136)),i.directive("maDatagrid",n(138)),i.directive("maDatagridPagination",n(142)),i.directive("maDatagridInfinitePagination",n(139)),i.directive("maDatagridItemSelector",n(140)),i.directive("maDatagridMultiSelector",n(141)),i.directive("maFilter",n(132)),i.directive("maColumn",n(90)),i.directive("maBooleanColumn",n(88)),i.directive("maChoicesColumn",n(89)),i.directive("maDateColumn",n(91)),i.directive("maJsonColumn",n(92)),i.directive("maNumberColumn",n(93)),i.directive("maReferenceManyColumn",n(94)),i.directive("maReferenceManyLinkColumn",n(95)),i.directive("maStringColumn",n(96)),i.directive("maTemplateColumn",n(97)),i.directive("maWysiwygColumn",n(98)),i.directive("maBackButton",n(79)),i.directive("maCreateButton",n(81)),i.directive("maEditButton",n(83)),i.directive("maFilteredListButton",n(85)),i.directive("maShowButton",n(87)),i.directive("maListButton",n(86)),i.directive("maDeleteButton",n(82)),i.directive("maBatchDeleteButton",n(80)),i.directive("maExportToCsvButton",n(84)),i.directive("maViewActions",n(148)),i.directive("maViewBatchActions",n(149)),i.directive("compile",n(144)),i.config(n(152)),i.config(n(99)),i.factory("Papa",function(){return n(206)}),i.factory("notification",function(){var e=n(202);return e.timeout=5e3,e.clickToClose=!0,e}),i.factory("progression",function(){return n(205)}),e.exports=i},function(e,t,n){var r;r=function(){"use strict";function e(e){return{restrict:"E",scope:{size:"@",label:"@"},link:function(t){t.label=t.label||"Back",t.back=function(){e.history.back()}},template:'<a class="btn btn-default" ng-class="size ? \'btn-\' + size : \'\'" ng-click="back()"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>&nbsp;{{ ::label }}</a>'}}return e.$inject=["$window"],e}.call(t,n,t,e),!(void 0!==r&&(e.exports=r))},function(e,t,n){var r;r=function(){"use strict";function e(e){return{restrict:"E",scope:{entity:"&",selection:"&",label:"@"},link:function(t){t.label=t.label||"Delete",t.gotoBatchDelete=function(){var n=(t.entity(),t.selection().map(function(e){return e.identifierValue}));e.go("batchDelete",angular.extend({ids:n,entity:t.entity().name()},e.params))}},template:'<span ng-click="gotoBatchDelete()"><span class="glyphicon glyphicon-trash" aria-hidden="true"></span>&nbsp;{{ ::label }}</span>'}}return e.$inject=["$state"],e}.call(t,n,t,e),!(void 0!==r&&(e.exports=r))},function(e,t,n){var r;r=function(){"use strict";function e(e){return{restrict:"E",scope:{entity:"&",size:"@",label:"@"},link:function(t){t.label=t.label||"Create",t.gotoCreate=function(){e.go(e.get("create"),angular.extend({entity:t.entity().name()},e.params))}},template:'<a class="btn btn-default" ng-class="size ? \'btn-\' + size : \'\'" ng-click="gotoCreate()"><span class="glyphicon glyphicon-plus" aria-hidden="true"></span>&nbsp;{{ ::label }}</a>'}}return e.$inject=["$state"],e}.call(t,n,t,e),!(void 0!==r&&(e.exports=r))},function(e,t,n){var r;r=function(){"use strict";function e(e){return{restrict:"E",scope:{entity:"&",entry:"&",size:"@",label:"@"},link:function(t){t.label=t.label||"Delete",t.gotoDelete=function(){e.go(e.get("delete"),angular.extend({entity:t.entity().name(),id:t.entry().identifierValue},e.params))}},template:'<a class="btn btn-default" ng-class="size ? \'btn-\' + size : \'\'" ng-click="gotoDelete()"><span class="glyphicon glyphicon-trash" aria-hidden="true"></span>&nbsp;{{ ::label }}</a>'}}return e.$inject=["$state"],e}.call(t,n,t,e),!(void 0!==r&&(e.exports=r))},function(e,t,n){var r;r=function(){"use strict";function e(e){return{restrict:"E",scope:{entity:"&",entry:"&",size:"@",label:"@"},link:function(t){t.label=t.label||"Edit",t.gotoEdit=function(){e.go(e.get("edit"),angular.extend({entity:t.entity().name(),id:t.entry().identifierValue},e.params))}},template:'<a class="btn btn-default" ng-class="size ? \'btn-\' + size : \'\'" ng-click="gotoEdit()"><span class="glyphicon glyphicon-pencil" aria-hidden="true"></span>&nbsp;{{ ::label }}</a>'}}return e.$inject=["$state"],e}.call(t,n,t,e),!(void 0!==r&&(e.exports=r))},function(e,t,n){var r;r=function(){"use strict";function e(e,t,n,r,i){return{restrict:"E",scope:{entity:"&",label:"@",datastore:"&",search:"&"},template:'<button ng-if="has_export" class="btn btn-default" ng-click="exportToCsv()"><span class="glyphicon glyphicon-download" aria-hidden="true"></span>&nbsp;{{ ::label }}</button>',link:function(a){a.label=a.label||"Export",a.datastore=a.datastore(),a.entity=a.entity();var o=a.entity.exportView(),s=a.entity.listView();if(0===o.fields().length){var l=s.exportFields();null===l&&(l=s.fields()),o.fields(l),o.filters(s.filters())}a.has_export=o.fields().length>0;var u=r.getFormatter(o.fields());a.exportToCsv=function(){var r,s,l;i.getAll(o,-1,a.search(),e.sortField,e.sortDir).then(function(e){return r=e.data},function(e){n.log(e.message,{addnCls:"humane-flatty-error"})}).then(function(e){return i.getFilteredReferenceData(o.getNonOptimizedReferences(),e)}).then(function(e){return s=e,i.getOptimizedReferencedData(o.getOptimizedReferences(),r)}).then(function(e){l=e;var t,n=o.getReferences(),r=angular.extend(s,l);for(var i in r)t=a.datastore.mapEntries(n[i].targetEntity().name(),n[i].targetEntity().identifier(),[n[i].targetField()],r[i]),a.datastore.setEntries(n[i].targetEntity().uniqueId+"_values",t)}).then(function(){var e=a.datastore.mapEntries(o.entity.name(),o.identifier(),o.getFields(),r);a.datastore.fillReferencesValuesFromCollection(e,o.getReferences(),!0);for(var n=[],i=e.length-1;i>=0;i--)n[i]=u(e[i]);var s=t.unparse(n),l=document.createElement("a");document.body.appendChild(l),l.setAttribute("href","data:application/octet-stream;charset=utf-8,"+encodeURIComponent(s)),l.setAttribute("download",a.entity.name()+".csv"),l.click()})}}}}return e.$inject=["$stateParams","Papa","notification","EntryFormatter","ReadQueries"],e}.call(t,n,t,e),!(void 0!==r&&(e.exports=r))},function(e,t,n){var r;r=function(){"use strict";function e(e){return{restrict:"E",scope:{entityName:"@",filter:"&",label:"@",size:"@"},link:function(t){t.label=t.label||"See all related "+t.entityName,t.gotoList=function(){e.go(e.get("list"),{entity:t.entityName,search:t.filter()})}},template:'<a class="btn btn-default" ng-class="size ? \'btn-\' + size : \'\'" ng-click="gotoList()"><span class="glyphicon glyphicon-list" aria-hidden="true"></span>&nbsp;{{ ::label }}</a>'}}return e.$inject=["$state"],e}.call(t,n,t,e),!(void 0!==r&&(e.exports=r))},function(e,t,n){var r;r=function(){"use strict";function e(e){return{restrict:"E",scope:{entity:"&",size:"@",label:"@"},link:function(t){t.label=t.label||"List";var n=t.$parent.entity?t.$parent.entity.name():null,r=t.entity().name(),i={entity:r};r===n&&angular.extend(i,e.params),t.gotoList=function(){e.go(e.get("list"),i)}},template:'<a class="btn btn-default" ng-class="size ? \'btn-\' + size : \'\'" ng-click="gotoList()"><span class="glyphicon glyphicon-list" aria-hidden="true"></span>&nbsp;{{ ::label }}</a>'}}return e.$inject=["$state"],e}.call(t,n,t,e),!(void 0!==r&&(e.exports=r))},function(e,t,n){var r;r=function(){"use strict";function e(e){return{restrict:"E",scope:{entity:"&",entry:"&",size:"@",label:"@"},link:function(t){t.label=t.label||"Show",t.gotoShow=function(){e.go(e.get("show"),angular.extend({entity:t.entity().name(),id:t.entry().identifierValue},e.params))}},template:'<a class="btn btn-default" ng-class="size ? \'btn-\' + size : \'\'" ng-click="gotoShow()"><span class="glyphicon glyphicon-eye-open" aria-hidden="true"></span>&nbsp;{{ ::label }}</a>'}}return e.$inject=["$state"],e}.call(t,n,t,e),!(void 0!==r&&(e.exports=r))},function(e,t,n){var r;r=function(e){"use strict";function t(){return{restrict:"E",scope:{value:"&"},link:function(e){e.isOk=!!e.value()},template:"<span class=\"glyphicon\" ng-class=\"{'glyphicon-ok': isOk, 'glyphicon-remove': !isOk}\"></span>"}}return t.$inject=[],t}.call(t,n,t,e),!(void 0!==r&&(e.exports=r))},function(e,t,n){var r;r=function(e){"use strict";function t(){return{restrict:"E",scope:{values:"&"},template:'<span ng-repeat="ref in values() track by $index" class="label label-default">{{ ref }}</span>'}}return t.$inject=[],t}.call(t,n,t,e),!(void 0!==r&&(e.exports=r))},function(e,t,n){var r;r=function(e){"use strict";function t(e,t,n,r,i){function a(e){if(e.isDetailLink()===!1)return!1;if("reference"!=e.type()&&"reference_many"!=e.type())return!0;var t=e.targetEntity().name(),n=r().getEntity(t);return n?n.isReadOnly?n.showView().enabled:n.editionView().enabled:!1}return{restrict:"E",scope:{field:"&",entry:"&",entity:"&",datastore:"&"},link:function(t,o){t.datastore=t.datastore(),t.field=t.field(),t.entry=t.entry();var s=t.field.type();a(t.field)?o.append(i[s].getLinkWidget()):o.append(i[s].getReadWidget()),n(o.contents())(t),t.gotoDetail=function(){var n=t.field.detailLinkRoute();"edit"!=n||t.entity().editionView().enabled||(n="show"),e.go(e.get(n),angular.extend({entity:t.entry.entityName,id:t.entry.identifierValue
},e.params))},t.gotoReference=function(){var n=t.field.targetEntity().name(),i=r().getEntity(n),a=t.entry.values[t.field.name()],o=i.isReadOnly?"show":t.field.detailLinkRoute();e.go(e.get(o),{entity:n,id:a})}}}}return t.$inject=["$state","$anchorScroll","$compile","NgAdminConfiguration","FieldViewConfiguration"],t}.call(t,n,t,e),!(void 0!==r&&(e.exports=r))},function(e,t,n){var r;r=function(){"use strict";function e(){return{restrict:"E",scope:{value:"&",field:"&"},link:function(e){var t=e.field();e.format=t.format(),e.format||(e.format="date"===t.type()?"yyyy-MM-dd":"yyyy-MM-dd HH:mm:ss")},template:"<span>{{ value() | date:format }}</span>"}}return e.$inject=[],e}.call(t,n,t,e),!(void 0!==r&&(e.exports=r))},function(e,t,n){var r;r=function(e){"use strict";function t(e){return{restrict:"E",scope:{value:"&"},link:function(t,n){t.guessType=function(e){var t=Object.prototype.toString.call(e);return"[object Object]"===t?"Object":"[object Array]"===t?"Array":"Literal"};var r='<span ng-switch="guessType(value())"><table class="table table-condensed" ng-switch-when="Array"><tbody><tr ng-repeat="val in value() track by $index"><td ng-switch="guessType(val)"><ma-json-column ng-switch-when="Object" value="::val"></ma-json-column><ma-json-column ng-switch-when="Array" value="::val"></ma-json-column><span ng-switch-when="Literal">{{ val }}</span></td></tr></tbody></table><table class="table table-condensed table-bordered" ng-switch-when="Object"><tbody><tr ng-repeat="(key, val) in value() track by key"><th class="active">{{ key }}</th><td ng-switch="guessType(val)"><ma-json-column ng-switch-when="Object" value="::val"></ma-json-column><ma-json-column ng-switch-when="Array" value="::val"></ma-json-column><span ng-switch-when="Literal">{{ val }}</span></td></tr></tbody></table></span>',i=angular.element(r);e(i)(t),n.replaceWith(i)}}}return t.$inject=["$compile"],t}.call(t,n,t,e),!(void 0!==r&&(e.exports=r))},function(e,t,n){var r;r=function(e){"use strict";function t(){return{restrict:"E",scope:{value:"&",field:"&"},template:"<span>{{ value() | numeraljs:field().format() }}</span>"}}return t.$inject=[],t}.call(t,n,t,e),!(void 0!==r&&(e.exports=r))},function(e,t,n){var r;r=function(e){"use strict";function t(){return{restrict:"E",scope:{values:"&"},template:'<span ng-repeat="ref in values() track by $index"><span class="label label-default">{{ ref }}</span></span>'}}return t.$inject=[],t}.call(t,n,t,e),!(void 0!==r&&(e.exports=r))},function(e,t,n){var r;r=function(e){"use strict";function t(e,t){return{restrict:"E",scope:{field:"&",values:"&",ids:"&"},link:function(n){n.field=n.field(),n.values=n.values(),n.ids=n.ids();var r=n.field.targetEntity().name(),i=t().getEntity(r);n.gotoReference=function(t){var n=i.isReadOnly?"show":"edit";e.go(e.get(n),{entity:r,id:t})}},template:'<a ng-repeat="ref in values track by $index" ng-click="gotoReference(ids[$index])" class="multiple"><span class="label label-default">{{ ref }}</span></a>'}}return t.$inject=["$state","NgAdminConfiguration"],t}.call(t,n,t,e),!(void 0!==r&&(e.exports=r))},function(e,t,n){var r;r=function(e){"use strict";function t(){return{restrict:"E",scope:{value:"&"},template:"<span>{{ value() }}</span>"}}return t.$inject=[],t}.call(t,n,t,e),!(void 0!==r&&(e.exports=r))},function(e,t,n){var r;r=function(e){"use strict";function t(){return{restrict:"E",scope:{field:"&",entry:"&",entity:"&"},link:function(e){e.field=e.field(),e.entry=e.entry(),e.entity=e.entity()},template:'<span compile="field.getTemplateValue(entry)"></span>'}}return t.$inject=[],t}.call(t,n,t,e),!(void 0!==r&&(e.exports=r))},function(e,t,n){var r;r=function(e){"use strict";function t(e){return{restrict:"E",scope:{value:"&",field:"&"},link:function(t){var n=t.value();t.field().stripTags()&&(n=e("stripTags")(n)),t.htmlValue=n},template:'<span ng-bind-html="htmlValue"></span>'}}return t.$inject=["$filter"],t}.call(t,n,t,e),!(void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";function r(e){e.registerFieldView("boolean",n(115)),e.registerFieldView("choice",n(116)),e.registerFieldView("choices",n(117)),e.registerFieldView("date",n(16)),e.registerFieldView("datetime",n(16)),e.registerFieldView("email",n(118)),e.registerFieldView("file",n(120)),e.registerFieldView("float",n(121)),e.registerFieldView("json",n(122)),e.registerFieldView("number",n(123)),e.registerFieldView("password",n(124)),e.registerFieldView("referenced_list",n(127)),e.registerFieldView("reference",n(125)),e.registerFieldView("reference_many",n(126)),e.registerFieldView("string",n(128)),e.registerFieldView("template",n(129)),e.registerFieldView("text",n(130)),e.registerFieldView("wysiwyg",n(131))}r.$inject=["FieldViewConfigurationProvider"],e.exports=r},function(e,t,n){var r;r=function(){"use strict";var e=function(e,t,n,r,i){this.$scope=e,this.$state=t,this.WriteQueries=n,this.notification=r,this.view=i,this.entity=i.getEntity(),this.entityIds=t.params.ids,this.selection=[],this.title=i.title(),this.description=i.description(),this.actions=i.actions(),this.loadingPage=!1,this.fields=i.fields(),e.$on("$destroy",this.destroy.bind(this))};return e.prototype.batchDelete=function(){var e=this.notification,t=this.$state,n=this.entity.name();this.WriteQueries.batchDelete(this.view,this.entityIds).then(function(){t.go(t.get("list"),angular.extend({entity:n},t.params)),e.log("Elements successfully deleted.",{addnCls:"humane-flatty-success"})},function(t){var n=t.data;"object"==typeof n&&(n=JSON.stringify(n)),e.log("Oops, an error occured : (code: "+t.status+") "+n,{addnCls:"humane-flatty-error"})})},e.prototype.back=function(){this.$state.go(this.$state.get("list"),angular.extend({entity:this.entity.name()},this.$state.params))},e.prototype.destroy=function(){this.$scope=void 0,this.$state=void 0,this.WriteQueries=void 0},e.$inject=["$scope","$state","WriteQueries","notification","view"],e}.call(t,n,t,e),!(void 0!==r&&(e.exports=r))},function(e,t,n){var r;r=function(){"use strict";var e=function(e,t,n,r,i,a,o){this.$scope=e,this.$state=t,this.WriteQueries=n,this.entityLabel=i.entity,this.entityId=i.id,this.view=a,this.title=a.title(),this.description=a.description(),this.actions=a.actions(),this.entity=a.getEntity(),this.notification=r,this.$scope.entry=o,this.$scope.view=a,e.$on("$destroy",this.destroy.bind(this))};return e.prototype.deleteOne=function(){var e=this.notification,t=this.$state,n=this.entity.name();this.WriteQueries.deleteOne(this.view,this.entityId).then(function(){t.go(t.get("list"),angular.extend({entity:n,id:this.entityId},t.params)),e.log("Element successfully deleted.",{addnCls:"humane-flatty-success"})}.bind(this),function(t){var n=t.data;"object"==typeof n&&(n=JSON.stringify(n)),e.log("Oops, an error occured : (code: "+t.status+") "+n,{addnCls:"humane-flatty-error"})})},e.prototype.back=function(){var e=this.$state;e.go(e.get("edit"),angular.extend({entity:this.entity.name(),id:this.entityId},e.params))},e.prototype.destroy=function(){this.$scope=void 0,this.WriteQueries=void 0,this.$state=void 0,this.view=void 0,this.entity=void 0},e.$inject=["$scope","$state","WriteQueries","notification","params","view","entry"],e}.call(t,n,t,e),!(void 0!==r&&(e.exports=r))},function(e,t,n){var r;r=function(){"use strict";function e(){return{scope:{field:"&",value:"="},restrict:"E",link:function(e,t){var n=e.field();e.name=n.name(),e.label=n.label(),e.value=!!e.value;var r=t.children()[0],i=n.attributes();for(var a in i)r[a]=i[a];e.toggle=function(){this.value=!this.value},e.isActive=function(){return!!this.value}},template:'<a class="btn btn-default" ng-click="toggle()" id="{{ name }}" ng-class="{active: isActive()}" >{{ label }}</a>'}}return e.$inject=[],e}.call(t,n,t,e),!(void 0!==r&&(e.exports=r))},function(e,t,n){var r;r=function(e){"use strict";function t(){return{scope:{field:"&",value:"="},restrict:"E",link:function(e,t){var n=e.field();e.name=n.name(),e.v=n.validation(),e.value=!!e.value;var r=t.children()[0],i=n.attributes();for(var a in i)r[a]=i[a]},template:'<input type="checkbox" ng-model="value" id="{{ name }}" name="{{ name }}" class="form-control" />'}}return t.$inject=[],t}.call(t,n,t,e),!(void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";function r(e){return{scope:{field:"&",value:"=",entry:"=?",datastore:"&?"},restrict:"E",compile:function(){return{pre:function(t,n){var r=t.field();t.name=r.name(),t.v=r.validation();var i,a='\n                        <ui-select ng-model="$parent.value" ng-required="v.required" id="{{ name }}" name="{{ name }}">\n                            <ui-select-match allow-clear="{{ !v.required }}" placeholder="Filter values">{{ $select.selected.label }}</ui-select-match>\n                            <ui-select-choices repeat="item.value as item in getChoices(entry) | filter: {label: $select.search}">\n                                {{ item.label }}\n                            </ui-select-choices>\n                        </ui-select>';i="reference"===r.type()||"reference_many"===r.type()?t.datastore().getChoices(r):r.choices(),t.getChoices="function"==typeof i?i:function(){return i},n.html(a);var o=n.children()[0],s=r.attributes();for(var l in s)o.setAttribute(l,s[l]);e(n.contents())(t)}}}}}r.$inject=["$compile"],e.exports=r},function(e,t,n){"use strict";function r(e){return{scope:{field:"&",value:"=",entry:"=?",datastore:"&?"},restrict:"E",compile:function(){return{pre:function(t,n){var r=t.field();t.name=r.name(),t.v=r.validation();var i,a="\n                        <ui-select "+(t.v.required?"ui-select-required":"")+' multiple ng-model="$parent.value" ng-required="v.required" id="{{ name }}" name="{{ name }}">\n                            <ui-select-match placeholder="Filter values">{{ $item.label }}</ui-select-match>\n                            <ui-select-choices repeat="item.value as item in getChoices(entry) | filter: {label: $select.search}">\n                                    {{ item.label }}\n                            </ui-select-choices>\n                        </ui-select>';i="reference"===r.type()||"reference_many"===r.type()?t.datastore().getChoices(r):r.choices(),t.getChoices="function"==typeof i?i:function(){return i},n.html(a);var o=n.children()[0],s=r.attributes();for(var l in s)o.setAttribute(l,s[l]);e(n.contents())(t)}}}}}r.$inject=["$compile"],e.exports=r},function(e,t,n){var r;r=function(e){"use strict";function t(){return{scope:{field:"&",value:"="},restrict:"E",link:function(e,t){var n=e.field();e.name=n.name(),e.rawValue=e.value,e.$watch("rawValue",function(t){e.value=n.parse()(t)}),e.format=n.format(),e.format||(e.format="date"===n.type()?"yyyy-MM-dd":"yyyy-MM-dd HH:mm:ss"),e.v=n.validation(),e.isOpen=!1;var r=t.find("input").eq(0),i=n.attributes();for(var a in i)r.attr(a,i[a]);e.toggleDatePicker=function(t){t.preventDefault(),t.stopPropagation(),e.isOpen=!e.isOpen}},template:'<div class="input-group datepicker"><input type="text" ng-model="rawValue" id="{{ name }}" name="{{ name }}" class="form-control" datepicker-popup="{{ format }}" is-open="isOpen" close-text="Close" ng-required="v.required" /><span class="input-group-btn"><button type="button" class="btn btn-default" ng-click="toggleDatePicker($event)"><i class="glyphicon glyphicon-calendar"></i></button></span></div>'}}return t.$inject=[],t}.call(t,n,t,e),!(void 0!==r&&(e.exports=r))},function(e,t,n){var r;r=function(e){"use strict";function t(e){var t=r(e).map(function(e,t){return'<span ng-switch-when="'+t+'">'+e.getWriteWidget()+"</span>"}).join(""),n='<div id="row-{{ field.name() }}" class="has-feedback" ng-class="getFieldValidationClass(field)"><label for="{{ field.name() }}" class="col-sm-2 control-label">{{ field.label() }}<span ng-if="field.validation().required">&nbsp;*</span>&nbsp;</label><div ng-if="field.editable()" ng-class="getClassesForField(field, entry)" ng-switch="field.type()">'+t+'<span ng-show="fieldHasValidation(field)" class="glyphicon form-control-feedback" ng-class="fieldIsValid(field) ? \'glyphicon-ok\' : \'glyphicon-remove\'"></span></div><div ng-if="!field.editable()" ng-class="field.getCssClasses(entry)||\'col-sm-10\'"><p class="form-control-static"><ma-column field="::field" entry="::entry" entity="::entity" datastore="::datastore"></ma-column></p></div></div>';return{restrict:"E",scope:{field:"&",entry:"=",entity:"&",form:"&",datastore:"&"},link:function(e){e.field=e.field(),e.type=e.field.type(),e.entity=e.entity(),e.form=e.form(),e.datastore=e.datastore(),e.getClassesForField=function(e,t){return"ng-admin-field-"+e.name()+" "+(e.getCssClasses(t)||"col-sm-10 col-md-8 col-lg-7")},e.getInputForField=function(t){return e.form[t.name()]},e.fieldHasValidation=function(e){var t=this.getInputForField(e);return t&&t.$dirty},e.fieldIsValid=function(e){var t=this.getInputForField(e);return t&&t.$valid},e.getFieldValidationClass=function(e){return this.fieldHasValidation(e)?this.fieldIsValid(e)?"has-success":"has-error":void 0}},template:n}}var r=n(17);return t.$inject=["FieldViewConfiguration"],t}.call(t,n,t,e),!(void 0!==r&&(e.exports=r))},function(e,t,n){var r;r=function(e){"use strict";function t(e,t){return{scope:{field:"&",value:"="},restrict:"E",link:{pre:function(e){var t=e.field().uploadInformation();if(!t.hasOwnProperty("url"))throw new Error("You must provide a URL property to allow the upload of files.");e.multiple=t.hasOwnProperty("multiple")?t.multiple:!1,e.accept="'*'",t.hasOwnProperty("accept")&&(e.accept="function"==typeof t.accept?t.accept:"'"+t.accept+"'"),e.apifilename=t.hasOwnProperty("apifilename")?t.apifilename:!1;var n=e.value?e.value.split(","):[];e.files={};for(var r in n)e.files[n[r]]={name:n[r],progress:0}},post:function(n,r){var i=n.field();n.name=i.name(),n.v=i.validation(),n.value&&(n.v.required=!1);var a=r.find("input")[0],o=i.attributes();for(var s in o)a[s]=o[s];n.fileSelected=function(t){if(t&&t.length){var r;n.files={};for(var i in t)r=angular.copy(n.field().uploadInformation()),r.file=t[i],e.upload(r).progress(function(e){n.files[e.config.file.name]={name:e.config.file.name,progress:Math.min(100,parseInt(100*e.loaded/e.total))}}).success(function(e,t,r,i){if(n.files[i.file.name]={name:n.apifilename?e[n.apifilename]:i.file.name,progress:0},n.apifilename){var a=Object.keys(n.files).map(function(e){return n.files[e].name});n.value=a.join(",")}else n.value=Object.keys(n.files).join(",")}).error(function(e,t,r,i){delete n.files[i.file.name],n.value=Object.keys(n.files).join(",")})}},n.selectFile=function(){t(function(){a.click()},0)}}},template:'<div class="row"><div class="col-md-2"><a class="btn btn-default" ng-click="selectFile()"><span>Browse</span></a></div><div class="col-md-10"><div class="row" ng-repeat="file in files track by $index"><div class="col-md-3" style="padding-top: 6px;"><div class="progress" style="margin-bottom: 0;" ng-if="file.progress"><div class="progress-bar" role="progressbar" aria-valuenow="{{ file.progress }}" aria-valuemin="0" aria-valuemax="100" style="width: {{ file.progress }}%;"><span class="sr-only">{{ file.progress }}% Complete</span></div></div></div><div class="col-md-9" style="padding-top: 6px;"><small><em>{{ file.name }}<em><small></div></div></div></div><input type="file" ngf-multiple="multiple" ngf-accept="{{ accept }}" ngf-select ngf-change="fileSelected($files)"id="{{ name }}" name="{{ name }}" ng-required="v.required" style="display:none" />'}}return t.$inject=["Upload","$timeout"],t}.call(t,n,t,e),!(void 0!==r&&(e.exports=r))},function(e,t,n){var r;r=function(e){"use strict";function t(){return{scope:{type:"@",step:"@?",field:"&",value:"="},restrict:"E",link:function(e,t){var n=e.field();e.name=n.name(),e.v=n.validation();var r=t.children()[0],i=n.attributes();for(var a in i)"step"!==a?r[a]=i[a]:e.step=i[a]},template:'<input type="{{ type || text }}" ng-attr-step="{{ step }}" ng-model="value" id="{{ name }}" name="{{ name }}" class="form-control"ng-required="v.required" ng-minlength="v.minlength" ng-maxlength="v.maxlength" />'}}return t.$inject=[],t}.call(t,n,t,e),!(void 0!==r&&(e.exports=r))},function(e,t,n){(function(t){"use strict";function r(){return{scope:{field:"&",value:"="},restrict:"E",link:function(e,t){var n=e.field();e.name=n.name(),e.v=n.validation(),e.jsonValue=null===e.value?"":angular.toJson(e.value,!0);var r=t.children()[0],i=n.attributes();for(var a in i)r[a]=i[a];e.$watch("jsonValue",function(t){if(""==t||"undefined"==typeof t)return void(e.value=null);try{var n=angular.fromJson(t);e.value=n}catch(r){}})},template:'<textarea ui-codemirror ng-model="jsonValue" id="{{ name }}" name="{{ name }}" ng-required="v.required" ma-json-validator></textarea>'}}var i=n(3);t.jsonlint=n(203),n(196),n(197),n(199),n(198),n(200),n(201),i.defineOption("matchBrackets",!0),i.defineOption("autoCloseBrackets",!0),i.defineOption("lineWrapping",!0),i.defineOption("tabSize",2),i.defineOption("mode","application/json"),i.defineOption("gutters",["CodeMirror-lint-markers"]),i.defineOption("lint",!0),i.defineOption("styleActiveLine",!0),t.CodeMirror=i,r.$inject=[],e.exports=r}).call(t,function(){return this}())},function(e,t,n){var r;r=function(e){"use strict";function t(){return{restrict:"E",scope:{field:"&",entry:"&",entity:"&"},link:function(e){e.field=e.field(),e.entry=e.entry(),e.entity=e.entity()},template:'<span compile="field.getTemplateValue(entry)"></span>'}}return t.$inject=[],t}.call(t,n,t,e),!(void 0!==r&&(e.exports=r))},function(e,t,n){var r;r=function(e){"use strict";function t(){return{scope:{field:"&",value:"="},restrict:"E",link:function(e,t){var n=e.field();e.name=n.name(),e.v=n.validation();var r=t.children()[0],i=n.attributes();for(var a in i)r[a]=i[a]},template:'<textarea ng-model="value" id="{{ name }}" name="{{ name }}" class="form-control"ng-required="v.required" ng-minlength="v.minlength" ng-maxlength="v.maxlength"></textarea>'}}return t.$inject=[],t}.call(t,n,t,e),!(void 0!==r&&(e.exports=r))},function(e,t,n){var r;r=function(e){"use strict";function t(){return{scope:{field:"&",value:"="},restrict:"E",link:function(e,t){var n=e.field();e.name=n.name()},template:'<div text-angular ta-unsafe-sanitizer="{{ !field.sanitize() }}" ng-model="value" id="{{ name }}" name="{{ name }}" ta-text-editor-class="border-around" ta-html-editor-class="border-around"></div>'}}return t.$inject=[],t}.call(t,n,t,e),!(void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";function r(){return{restrict:"A",require:"ngModel",link:function(e,t,n,r){r.$validators.uiSelectRequired=function(e,t){var n;if(angular.isArray(e))n=e;else{if(!angular.isArray(t))return!1;n=t}return n.length>0}}}}r.$inject=[],e.exports=r},function(e,t,n){var r;r=function(e){"use strict";function t(){return'<ma-boolean-column value="::entry.values[field.name()]"></ma-boolean-column>'}function n(){return'<a ng-click="gotoDetail()">'+t()+"</a>"}function r(){return'<ma-button-field field="::field" value="values[field.name()]"></ma-button-field>'}function i(){return'<ma-checkbox-field field="::field" value="entry.values[field.name()]"></ma-checkbox-field>'}return{getReadWidget:t,getLinkWidget:n,getFilterWidget:r,getWriteWidget:i}}.call(t,n,t,e),!(void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";e.exports={getReadWidget:function(){return'<ma-string-column value="::field.getLabelForChoice(entry.values[field.name()], entry)"></ma-string-column>'},getLinkWidget:function(){'<a ng-click="gotoDetail()">'+getReadWidget()+"</a>"},getFilterWidget:function(){return'<ma-choice-field field="::field" value="values[field.name()]"></ma-choice-field>'},getWriteWidget:function(){return'<ma-choice-field field="::field" entry="entry" value="entry.values[field.name()]"></ma-choice-field>'}}},function(e,t,n){var r;r=function(e){"use strict";function t(){return'<ma-choices-column values="::entry.values[field.name()]"></ma-choices-column>'}function n(){return'<a ng-click="gotoDetail()">'+t()+"</a>"}function r(){return'<ma-choices-field field="::field" value="values[field.name()]"></ma-choices-field>'}function i(){return'<ma-choices-field field="::field" entry="::entry" value="entry.values[field.name()]"></ma-choices-field>'}return{getReadWidget:t,getLinkWidget:n,getFilterWidget:r,getWriteWidget:i}}.call(t,n,t,e),!(void 0!==r&&(e.exports=r))},function(e,t,n){var r;r=function(e){"use strict";function t(){return'<ma-string-column value="::entry.values[field.name()]"></ma-string-column>'}function n(){return'<a ng-click="gotoDetail()">'+t()+"</a>"}function r(){return'<ma-input-field field="::field" value="values[field.name()]"></ma-input-field>'}function i(){return'<ma-input-field type="email" field="::field" value="entry.values[field.name()]"></ma-input-field>'}return{getReadWidget:t,getLinkWidget:n,getFilterWidget:r,getWriteWidget:i}}.call(t,n,t,e),!(void 0!==r&&(e.exports=r))},function(e,t,n){var r;r=function(){"use strict";function e(){this.fieldViews={}}return e.prototype.registerFieldView=function(e,t){this.fieldViews[e]=t},e.prototype.$get=function(){return this.fieldViews},e.$inject=[],e}.call(t,n,t,e),!(void 0!==r&&(e.exports=r))},function(e,t,n){var r;r=function(e){"use strict";function t(){return"error: cannot display file field as readable"}function n(){return"error: cannot display file field as linkable"}function r(){return"error: cannot display file field as filter"}function i(){return'<ma-file-field field="::field" value="entry.values[field.name()]"></ma-file-field>'}return{getReadWidget:t,getLinkWidget:n,getFilterWidget:r,getWriteWidget:i}}.call(t,n,t,e),!(void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";e.exports={getReadWidget:function(){return'<ma-number-column field="::field" value="::entry.values[field.name()]"></ma-number-column>'},getLinkWidget:function(){return'<a ng-click="gotoDetail()">'+this.getReadWidget()+"</a>"},getFilterWidget:function(){return'<ma-input-field type="number" step="any" field="::field" value="values[field.name()]"></ma-input-field>'},getWriteWidget:function(){return'<ma-input-field type="number" step="any" field="::field" value="entry.values[field.name()]"></ma-input-field>'}}},function(e,t,n){var r;r=function(e){"use strict";function t(){return'<ma-json-column value="::entry.values[field.name()]"></ma-json-column>'}function n(){return"error: cannot display a json field as linkable"}function r(){return'<ma-input-field field="::field" value="values[field.name()]"></ma-input-field>'}function i(){return'<ma-json-field field="::field" value="entry.values[field.name()]"></ma-json-field>'}return{getReadWidget:t,getLinkWidget:n,getFilterWidget:r,getWriteWidget:i}}.call(t,n,t,e),!(void 0!==r&&(e.exports=r))},function(e,t,n){var r;r=function(e){"use strict";function t(){return'<ma-number-column field="::field" value="::entry.values[field.name()]"></ma-number-column>'}function n(){return'<a ng-click="gotoDetail()">'+t()+"</a>"}function r(){return'<ma-input-field type="number" field="::field" value="values[field.name()]"></ma-input-field>'}function i(){return'<ma-input-field type="number" field="::field" value="entry.values[field.name()]"></ma-input-field>'}return{getReadWidget:t,getLinkWidget:n,getFilterWidget:r,getWriteWidget:i}}.call(t,n,t,e),!(void 0!==r&&(e.exports=r))},function(e,t,n){var r;r=function(e){"use strict";function t(){return"error: cannot display password field as readable"}function n(){return"error: cannot display password field as linkable"}function r(){return"error: cannot display password field as filter"}function i(){return'<ma-input-field type="password" field="::field" value="entry.values[field.name()]"></ma-input-field>'}return{getReadWidget:t,getLinkWidget:n,getFilterWidget:r,getWriteWidget:i}}.call(t,n,t,e),!(void 0!==r&&(e.exports=r))},function(e,t,n){var r;r=function(e){"use strict";function t(){return'<ma-string-column value="::entry.listValues[field.name()]"></ma-string-column>'}function n(){return'<a ng-click="gotoReference()">'+t()+"</a>"}function r(){return'<ma-choice-field field="::field" value="values[field.name()]" datastore="::datastore"></ma-choice-field>'}function i(){return'<ma-choice-field field="::field" value="entry.values[field.name()]" datastore="::datastore"></ma-choice-field>'}return{getReadWidget:t,getLinkWidget:n,getFilterWidget:r,getWriteWidget:i}}.call(t,n,t,e),!(void 0!==r&&(e.exports=r))},function(e,t,n){var r;r=function(e){"use strict";function t(){return'<ma-choices-column values="::entry.listValues[field.name()]"></ma-choices-column>'}function n(){return'<ma-reference-many-link-column ids="::entry.values[field.name()]" values="::entry.listValues[field.name()]" field="::field"></ma-reference-many-link-column>'}function r(){return'<ma-choices-field field="::field" value="values[field.name()]" datastore="::datastore"></ma-choices-field>'}function i(){return'<ma-choices-field field="::field" value="entry.values[field.name()]" datastore="::datastore"></ma-choices-field>'}return{getReadWidget:t,getLinkWidget:n,getFilterWidget:r,getWriteWidget:i}}.call(t,n,t,e),!(void 0!==r&&(e.exports=r))},function(e,t,n){var r;r=function(e){"use strict";function t(){return'<ma-datagrid name="{{ field.datagridName() }}" entries="::datastore.getEntries(field.targetEntity().uniqueId + \'_list\')" fields="::field.targetFields()" list-actions="::field.listActions()" entity="::field.targetEntity()"></ma-datagrid>'}function n(){return"error: cannot display referenced_list field as linkable"}function r(){return"error: cannot display referenced_list field as filter"}function i(){return'<ma-datagrid name="{{ field.datagridName() }}"entries="::datastore.getEntries(field.targetEntity().uniqueId + \'_list\')" fields="::field.targetFields()" list-actions="::field.listActions()" entity="::field.targetEntity()"></ma-datagrid>'}return{getReadWidget:t,getLinkWidget:n,getFilterWidget:r,getWriteWidget:i}}.call(t,n,t,e),!(void 0!==r&&(e.exports=r))},function(e,t,n){var r;r=function(e){"use strict";function t(){return'<ma-string-column value="::entry.values[field.name()]"></ma-string-column>'}function n(){return'<a ng-click="gotoDetail()">'+t()+"</a>"}function r(){return'<ma-input-field field="::field" value="values[field.name()]"></ma-input-field>'}function i(){return'<ma-input-field field="::field" value="entry.values[field.name()]"></ma-input-field>'}return{getReadWidget:t,getLinkWidget:n,getFilterWidget:r,getWriteWidget:i}}.call(t,n,t,e),!(void 0!==r&&(e.exports=r))},function(e,t,n){var r;r=function(e){"use strict";function t(){return'<ma-template-column entry="::entry" field="::field" entity="::entity"></ma-template-column>'}function n(){return'<a ng-click="gotoDetail()">'+t()+"</a>"}function r(){return'<ma-template-field field="::field" value="values[field.name()]" values="values" filters="filters"></ma-template-field>'}function i(){return'<ma-template-field entry="entry" field="::field" entity="::entity"></ma-template-field>'}return{getReadWidget:t,getLinkWidget:n,getFilterWidget:r,getWriteWidget:i}}.call(t,n,t,e),!(void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";function r(){return'<ma-string-column value="::entry.values[field.name()]"></ma-string-column>'}function i(){return'<a ng-click="gotoDetail()">'+r()+"</a>"}function a(){return'<ma-input-field field="::field" value="values[field.name()]"></ma-input-field>'}function o(){return'<ma-text-field field="::field" value="entry.values[field.name()]"></ma-text-field>'}e.exports={getReadWidget:r,getLinkWidget:i,getFilterWidget:a,getWriteWidget:o}},function(e,t,n){"use strict";function r(){return'<ma-wysiwyg-column field="::field" value="::entry.values[field.name()]"></ma-wysiwyg-column>'}function i(){return"error: cannot display wysiwyg field as linkable"}function a(){return'<ma-input-field field="::field" value="values[field.name()]"></ma-input-field>'}function o(){return'<ma-wysiwyg-field field="::field" value="entry.values[field.name()]"></ma-wysiwyg-field>'}e.exports={getReadWidget:r,getLinkWidget:i,getFilterWidget:a,getWriteWidget:o}},function(e,t,n){"use strict";function r(e){var t=a(e).map(function(e,t){return'<span ng-switch-when="'+t+'">'+e.getFilterWidget()+"</span>"}).join(""),n='\n        <form class="filters navbar-form well well-sm" ng-if="filterCtrl.shouldFilter()" ng-submit="filterCtrl.filter()">\n            <div class="filter form-group input-{{ field.type() }}" ng-repeat="field in filters track by $index" ng-class="{\'input-group\':field.label()}">\n                <label for="{{ field.name() }}" ng-if="field.label() && field.type() != \'boolean\'" class="input-group-addon">\n                    {{ field.label() }}<span ng-if="field.validation().required">&nbsp;*</span>&nbsp;\n                </label>\n                <div ng-switch="field.type()" ng-class="field.getCssClasses(entry)">\n                    '+t+'\n                </div>\n            </div>\n            <button class="btn btn-default" type="submit">\n                <span class="glyphicon glyphicon-search"></span> Filter\n            </button>\n            <button ng-if="!filterCtrl.isFilterEmpty" class="btn btn-default" type="button" ng-click="filterCtrl.clearFilters()">\n                <span class="glyphicon glyphicon-remove"></span> Clear\n            </button>\n        </form>\n    ';return{restrict:"E",template:n,scope:{filters:"&",datastore:"&"},controllerAs:"filterCtrl",controller:i}}var i=n(133),a=n(17);r.$inject=["FieldViewConfiguration"],e.exports=r},function(e,t,n){"use strict";function r(e,t,n){this.$scope=e,this.$state=t,this.$stateParams=n,this.$scope.values=this.$stateParams.search||{},this.$scope.filters=this.$scope.filters(),this.$scope.datastore=this.$scope.datastore(),this.isFilterEmpty=i(this.$scope.values)}function i(e){for(var t in e)if(""!=e[t])return!1;return!0}r.prototype.filter=function(){var e,t,n,r={},i=this.$scope.filters;for(n in i)t=i[n],e=t.name(),("boolean"===t.type()&&this.$scope.values[e]||"boolean"!==t.type()&&null!==this.$scope.values[e])&&(r[e]=this.$scope.values[e]);this.$stateParams.search=r,this.$stateParams.page=1,this.$state.go(this.$state.current,this.$stateParams,{reload:!0,inherit:!1,notify:!0})},r.prototype.shouldFilter=function(){return Object.keys(this.$scope.filters).length},r.prototype.clearFilters=function(){var e;for(e in this.$scope.values)this.$scope.values[e]=null;this.filter()},r.prototype.destroy=function(){this.$scope=void 0},r.$inject=["$scope","$state","$stateParams"],e.exports=r},function(e,t,n){"use strict";var r=function(e,t,n,r,i,a,o,s){this.$scope=e,this.$state=t,this.WriteQueries=n,this.dataStore=s,this.progression=i,this.notification=a,this.title=o.title(),this.description=o.description(),this.actions=o.actions(),this.fields=o.fields(),this.config=r(),this.view=o,this.entity=this.view.getEntity(),this.$scope.entry=s.getFirstEntry(this.entity.uniqueId),this.$scope.view=o,this.$scope.entity=this.entity,this.originEntityId=this.$scope.entry.values[this.entity.identifier().name()],e.$on("$destroy",this.destroy.bind(this))};r.prototype.validateEntry=function(){var e,t,n,r,i=this.form,a=this.$scope.entry,o=this.view.getFields(),s=this.entity.identifier(),l={};if(!i.$valid)return this.notification.log("invalid form",{addnCls:"humane-flatty-error"}),!1;l[s.name()]=a.identifierValue;for(r in o)n=o[r],e=a.values[n.name()],l[n.name()]=e;t=this.dataStore.mapEntry(this.view.entity.name(),this.view.identifier(),this.view.getFields(),l);try{this.view.validate(t)}catch(u){return this.notification.log(u,{addnCls:"humane-flatty-error"}),!1}return l},r.prototype.submitCreation=function(e){e.preventDefault();var t=this.validateEntry(),n=this.entity,r=n.editionView().enabled?"edit":"show";if(t){var i=this.progression,a=this.notification,o=this.$state;i.start(),this.WriteQueries.createOne(this.view,t).then(function(e){var t=this.dataStore.mapEntry(n.name(),this.view.identifier(),this.view.getFields(),e);i.done(),a.log("Element successfully created.",{addnCls:"humane-flatty-success"}),o.go(o.get(r),{entity:n.name(),id:t.identifierValue})}.bind(this),this.handleError.bind(this))}},r.prototype.submitEdition=function(e){e.preventDefault();var t=this.validateEntry();if(t){var n=this.progression,r=this.notification;
n.start(),this.WriteQueries.updateOne(this.view,t,this.originEntityId).then(function(){n.done(),r.log("Changes successfully saved.",{addnCls:"humane-flatty-success"})},this.handleError.bind(this))}},r.prototype.handleError=function(e){var t=this.config.getErrorMessageFor(this.view,e);this.progression.done(),this.notification.log(t,{addnCls:"humane-flatty-error"})},r.prototype.destroy=function(){this.$scope=void 0,this.$state=void 0,this.WriteQueries=void 0,this.dataStore=void 0,this.view=void 0,this.entity=void 0},r.$inject=["$scope","$state","WriteQueries","NgAdminConfiguration","progression","notification","view","dataStore"],e.exports=r},function(e,t,n){var r;r=function(){"use strict";function e(e,t,n,r){e.entity=e.entity(),this.$scope=e,this.$location=t,this.$anchorScroll=r,this.filters={},this.shouldDisplayActions=this.$scope.listActions()&&this.$scope.listActions().length>0,e.toggleSelect=this.toggleSelect.bind(this),e.toggleSelectAll=this.toggleSelectAll.bind(this),this.sortField="sortField"in n?n.sortField:null,this.sortDir="sortDir"in n?n.sortDir:null}return e.prototype.isSorting=function(e){return this.sortField===this.getSortName(e)},e.prototype.itemClass=function(e){return e%2===0?"even":"odd"},e.prototype.sort=function(e){var t="ASC",n=this.getSortName(e);this.sortField===n&&(t="ASC"===this.sortDir?"DESC":"ASC"),this.$location.search("sortField",n),this.$location.search("sortDir",t)},e.prototype.getSortName=function(e){return this.$scope.name+"."+e.name()},e.prototype.toggleSelect=function(e){var t=this.$scope.selection.slice(),n=t.indexOf(e);return-1===n?void(this.$scope.selection=t.concat(e)):(t.splice(n,1),void(this.$scope.selection=t))},e.prototype.toggleSelectAll=function(){return this.$scope.selection.length<this.$scope.entries.length?void(this.$scope.selection=this.$scope.entries):void(this.$scope.selection=[])},e.$inject=["$scope","$location","$stateParams","$anchorScroll"],e}.call(t,n,t,e),!(void 0!==r&&(e.exports=r))},function(e,t,n){var r;r=function(e){"use strict";function t(){return{restrict:"E",transclude:!0,scope:{buttons:"&",entry:"&",entity:"&"},template:r,link:function(e){e.buttons=e.buttons(),e.entry=e.entry(),e.entity=e.entity(),e.customTemplate=!1,"string"==typeof e.buttons&&(e.customTemplate=e.buttons,e.buttons=null)}}}var r=n(184);return t}.call(t,n,t,e),!(void 0!==r&&(e.exports=r))},function(e,t,n){var r;r=function(){"use strict";var e=function(e,t,n,r,i,a,o,s,l){this.$scope=e,this.$stateParams=t,this.$location=n,this.$anchorScroll=r,this.ReadQueries=i,this.progression=a,this.view=o,this.entity=o.getEntity(),this.title=o.title(),this.description=o.description(),this.actions=o.actions(),this.batchActions=o.batchActions(),this.loadingPage=!1,this.search=t.search,this.filters=o.filters(),this.hasFilters=Object.keys(this.filters).length>0,this.dataStore=s,this.fields=o.fields(),this.listActions=o.listActions(),this.totalItems=l,this.page=t.page||1,this.infinitePagination=this.view.infinitePagination(),this.nextPageCallback=this.nextPage.bind(this),this.setPageCallback=this.setPage.bind(this),this.selection=this.batchActions.length?[]:null,this.sortField=this.$stateParams.sortField||this.view.getSortFieldName(),this.sortDir=this.$stateParams.sortDir||this.view.sortDir(),e.$on("$destroy",this.destroy.bind(this))};return e.prototype.nextPage=function(e){if(!this.loadingPage){var t=this.progression,n=this;t.start(),this.ReadQueries.getAll(this.view,e,this.search,this.sortField,this.sortDir).then(function(e){t.done();var r=n.view.getReferences();n.dataStore.mapEntries(n.entity.name(),n.view.identifier(),n.fields,e.data).map(function(e){n.dataStore.fillReferencesValuesFromEntry(e,r,!0),n.dataStore.addEntry(n.entity.uniqueId,e)}),n.loadingPage=!1})}},e.prototype.setPage=function(e){this.$location.search("page",e),this.$anchorScroll(0)},e.prototype.destroy=function(){this.$scope=void 0,this.$stateParams=void 0,this.$location=void 0,this.$anchorScroll=void 0,this.dataStore=void 0},e.$inject=["$scope","$stateParams","$location","$anchorScroll","ReadQueries","progression","view","dataStore","totalItems"],e}.call(t,n,t,e),!(void 0!==r&&(e.exports=r))},function(e,t,n){var r;r=function(e){"use strict";function t(){return{restrict:"E",template:r,scope:{name:"@",entries:"=",selection:"=",fields:"&",listActions:"&",entity:"&"},controllerAs:"datagrid",controller:i}}var r=n(183),i=n(135);return t.$inject=[],t}.call(t,n,t,e),!(void 0!==r&&(e.exports=r))},function(e,t,n){var r;r=function(e){"use strict";function t(e,t){var n=r.element(e),i=100,a=t[0].body;return{restrict:"E",scope:{perPage:"@",totalItems:"@",nextPage:"&"},link:function(t){function r(){if(a.offsetHeight-e.innerHeight-e.scrollY<i){if(u>=l)return;u++,t.nextPage()(u)}}var o=parseInt(t.perPage,10)||1,s=parseInt(t.totalItems,10),l=Math.ceil(s/o)||1,u=1;n.bind("scroll",r),t.$on("$destroy",function(){n.unbind("scroll",r)})}}}var r=n(4);return t.$inject=["$window","$document"],t}.call(t,n,t,e),!(void 0!==r&&(e.exports=r))},function(e,t,n){var r;r=function(){"use strict";function e(){return{restrict:"E",scope:{entry:"=",selection:"=",toggleSelect:"&"},template:'<input type="checkbox" ng-click="toggle(entry)" ng-checked="selection.indexOf(entry) !== -1"/>',link:function(e){e.toggle=function(t){e.toggleSelect({entry:t})}}}}return e.$inject=[],e}.call(t,n,t,e),!(void 0!==r&&(e.exports=r))},function(e,t,n){var r;r=function(){"use strict";function e(){return{restrict:"E",scope:{entries:"=",selection:"=",toggleSelectAll:"&"},template:'<input type="checkbox" ng-click="toggleSelectAll()" ng-checked="selection.length == entries.length" />',link:function(e,t){e.$watch("selection",function(n){t.children()[0].indeterminate=n.length>0&&n.length!=e.entries.length}),e.$watch("entries",function(n){t.children()[0].indeterminate=e.selection.length>0&&e.selection.length!=n.length})}}}return e.$inject=[],e}.call(t,n,t,e),!(void 0!==r&&(e.exports=r))},function(e,t,n){var r;r=function(e){"use strict";function t(){return{restrict:"E",scope:{page:"@",perPage:"@",totalItems:"@",setPage:"&"},template:r,controllerAs:"paginationCtrl",controller:i}}var r=n(186),i=n(143);return t.$inject=[],t}.call(t,n,t,e),!(void 0!==r&&(e.exports=r))},function(e,t,n){var r;r=function(e){"use strict";function t(e){this.$scope=e;var t=parseInt(this.$scope.perPage,10)||1,n=parseInt(this.$scope.totalItems,10),r=Math.max(parseInt(this.$scope.page,10),1);this.nbPages=Math.ceil(n/t)||1,this.page=Math.min(this.nbPages,r),this.offsetEnd=Math.min(this.page*t,n),this.offsetBegin=Math.min((this.page-1)*t+1,this.offsetEnd),this.totalItems=n,this.displayPagination=n>t,e.$on("$destroy",this.destroy.bind(this))}n(4);return t.prototype.range=function(e){var t=[],n=this.nbPages;return e>2&&t.push("1"),4==e&&t.push("2"),e>4&&t.push("."),e>1&&t.push(e-1),t.push(e),n>e&&t.push(e+1),e==n-3&&t.push(n-1),n-3>e&&t.push("."),n-1>e&&t.push(n),t},t.prototype.setPage=function(e){0>=e||e>this.nbPages||this.$scope.setPage()(e)},t.prototype.destroy=function(){this.$scope=void 0},t.$inject=["$scope"],t}.call(t,n,t,e),!(void 0!==r&&(e.exports=r))},function(e,t,n){var r;r=function(){"use strict";function e(e){var t=e.get("$compile");return{transclude:!0,link:function(e,n,r,i,a){var o=e.$watch(function(e){return e.$eval(r.compile)},function(i){return!1===i?void a(e,function(e){n.append(e)}):(n.html(i),t(n.contents())(e),void("true"==r.compileOnce&&o()))})}}}return e.$inject=["$injector"],e}.call(t,n,t,e),!(void 0!==r&&(e.exports=r))},function(e,t,n){var r;r=function(){"use strict";function e(e){this.formatDate=function(t){return function(n){return e("date")(n,t)}}}return e.prototype.formatField=function(e){var t=e.label()||e.name(),n=e.type();switch(n){case"boolean":case"choice":case"choices":case"number":case"float":case"string":case"text":case"wysiwyg":case"email":case"json":case"file":case"template":return function(n){return{name:t,value:n.values[e.name()]}};case"date":case"datetime":var r=e.format();r||(r="date"===n?"yyyy-MM-dd":"yyyy-MM-dd HH:mm:ss");var i=this.formatDate(r);return function(n){return{name:t,value:i(n.values[e.name()])}};case"reference":return function(n){return{name:t,value:n.listValues[e.name()]}};case"referenced_many":case"referenced_list":return}},e.prototype.getFormatter=function(e){var t=e.map(this.formatField.bind(this));return function(e){var n={};return t.map(function(t){return t?t(e):void 0}).forEach(function(e){e&&(n[e.name]=e.value)}),n}},e.$inject=["$filter"],e}.call(t,n,t,e),!(void 0!==r&&(e.exports=r))},function(e,t,n){var r;r=function(){"use strict";function e(e){return e.getPromisesResolver()}return e.$inject=["AdminDescription"],e}.call(t,n,t,e),!(void 0!==r&&(e.exports=r))},function(e,t,n){var r;r=function(){"use strict";function e(e){this.Restangular=e,e.setFullResponse(!0)}return e.prototype.getOne=function(e,t){return this.Restangular.oneUrl(e,t).get().then(function(e){return e.data})},e.prototype.getList=function(e,t,n){return this.Restangular.allUrl(t,n).getList(e)},e.prototype.createOne=function(e,t,n,r){var i=this.Restangular.oneUrl(t,n),a=r?i.customOperation(r,null,{},{},e):i.customPOST(e);return a.then(function(e){return e.data})},e.prototype.updateOne=function(e,t,n,r){var i=this.Restangular.oneUrl(t,n),a=r?i.customOperation(r,null,{},{},e):i.customPUT(e);return a.then(function(e){return e.data})},e.prototype.deleteOne=function(e,t){return this.Restangular.oneUrl(e,t).customDELETE()},e.$inject=["Restangular"],e}.call(t,n,t,e),!(void 0!==r&&(e.exports=r))},function(e,t,n){var r;r=function(e){"use strict";function t(e){var t=e.get("$compile");return{restrict:"E",transclude:!0,scope:{override:"&",entry:"=",entity:"=",selection:"=",batchButtons:"&",datastore:"=",search:"="},template:r,link:function(e,n,r,i,a){var o=e.override();return o?"string"==typeof o?(n.html(o),void t(n.contents())(e)):void(e.buttons=o):void a(e,function(e){n.append(e)})}}}var r=n(187);return t.$inject=["$injector"],t}.call(t,n,t,e),!(void 0!==r&&(e.exports=r))},function(e,t,n){var r;r=function(e){"use strict";function t(e){e.get("$compile");return{restrict:"E",scope:{entity:"=",selection:"=",buttons:"&"},template:r,link:function(e){e.isopen=!1,e.toggleDropdown=function(t){t.preventDefault(),t.stopPropagation(),e.isopen=!e.isopen},e.buttons=e.buttons(),"string"==typeof e.buttons&&(e.customTemplate=e.buttons,e.buttons=null)}}}var r=n(188);return t.$inject=["$injector"],t}.call(t,n,t,e),!(void 0!==r&&(e.exports=r))},function(e,t,n){var r;r=function(){"use strict";function e(e,t,n,r){return n.getReadQueries(e,r,t())}return e.$inject=["RestWrapper","NgAdminConfiguration","AdminDescription","PromisesResolver"],e}.call(t,n,t,e),!(void 0!==r&&(e.exports=r))},function(e,t,n){var r;r=function(){"use strict";function e(e,t,n,r){return n.getWriteQueries(e,r,t())}return e.$inject=["RestWrapper","NgAdminConfiguration","AdminDescription","PromisesResolver"],e}.call(t,n,t,e),!(void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";function r(e,t){return["$stateParams","NgAdminConfiguration",function(n,r){var i,a=r().getViewByEntityAndType(n.entity,e);return(i=a.template())?i:(i=r().customTemplate()(e),i?i:t)}]}function i(e){return["$stateParams","NgAdminConfiguration",function(t,n){var r;try{r=n().getViewByEntityAndType(t.entity,e)}catch(i){var a=new Error("Unknown view or entity name");throw a.status=404,a}if(!r.enabled)throw new Error("The "+e+" is disabled for this entity");return r}]}function a(){return["AdminDescription",function(e){return e.getDataStore()}]}function o(e){e.state("list",{parent:"main",url:"/:entity/list?{search:json}&page&sortField&sortDir",params:{entity:null,page:null,search:null,sortField:null,sortDir:null},controller:"ListController",controllerAs:"listController",templateProvider:r("ListView",s),resolve:{dataStore:a(),view:i("ListView"),response:["$stateParams","ReadQueries","view",function(e,t,n){var r=e.page,i=e.search,a=e.sortField,o=e.sortDir;return t.getAll(n,r,i,a,o)}],totalItems:["response",function(e){return e.totalItems}],nonOptimizedReferencedData:["ReadQueries","view","response",function(e,t,n){return e.getFilteredReferenceData(t.getNonOptimizedReferences(),n.data)}],optimizedReferencedData:["ReadQueries","view","response",function(e,t,n){return e.getOptimizedReferencedData(t.getOptimizedReferences(),n.data)}],referencedEntries:["dataStore","view","nonOptimizedReferencedData","optimizedReferencedData",function(e,t,n,r){var i,a=t.getReferences(),o=angular.extend(n,r);for(var s in o)i=e.mapEntries(a[s].targetEntity().name(),a[s].targetEntity().identifier(),[a[s].targetField()],o[s]),e.setEntries(a[s].targetEntity().uniqueId+"_values",i);return!0}],entries:["dataStore","view","response","referencedEntries",function(e,t,n,r){var i=e.mapEntries(t.entity.name(),t.identifier(),t.getFields(),n.data);return e.fillReferencesValuesFromCollection(i,t.getReferences(),!0),e.setEntries(t.getEntity().uniqueId,i),!0}],filterData:["ReadQueries","view",function(e,t){return e.getAllReferencedData(t.getFilterReferences())}],filterEntries:["dataStore","view","filterData",function(e,t,n){var r,i=t.getFilterReferences();for(var a in n)r=e.mapEntries(i[a].targetEntity().name(),i[a].targetEntity().identifier(),[i[a].targetField()],n[a]),e.setEntries(i[a].targetEntity().uniqueId+"_choices",r);return!0}]}}),e.state("show",{parent:"main",url:"/:entity/show/:id?sortField&sortDir",controller:"ShowController",controllerAs:"showController",templateProvider:r("ShowView",l),params:{entity:null,id:null,page:null,search:null,sortField:null,sortDir:null},resolve:{dataStore:a(),view:i("ShowView"),rawEntry:["$stateParams","ReadQueries","view",function(e,t,n){return t.getOne(n.getEntity(),n.type,e.id,n.identifier(),n.getUrl())}],entry:["dataStore","view","rawEntry",function(e,t,n){return e.mapEntry(t.entity.name(),t.identifier(),t.getFields(),n)}],nonOptimizedReferencedData:["ReadQueries","view","entry",function(e,t,n){return e.getFilteredReferenceData(t.getNonOptimizedReferences(),[n.values])}],optimizedReferencedData:["ReadQueries","view","entry",function(e,t,n){return e.getOptimizedReferencedData(t.getOptimizedReferences(),[n.values])}],referencedEntries:["dataStore","view","nonOptimizedReferencedData","optimizedReferencedData",function(e,t,n,r){var i,a=t.getReferences(),o=angular.extend(n,r);for(var s in o)i=e.mapEntries(a[s].targetEntity().name(),a[s].targetEntity().identifier(),[a[s].targetField()],o[s]),e.setEntries(a[s].targetEntity().uniqueId+"_values",i);return!0}],referencedListData:["$stateParams","ReadQueries","view","entry",function(e,t,n,r){var i=n.getReferencedLists(),a=e.sortField,o=e.sortDir;return t.getReferencedListData(i,a,o,r.identifierValue)}],referencedListEntries:["dataStore","view","referencedListData",function(e,t,n){var r,i,a=t.getReferencedLists();for(var o in a)r=a[o],i=n[o],i=e.mapEntries(r.targetEntity().name(),r.targetEntity().identifier(),r.targetFields(),i),e.setEntries(r.targetEntity().uniqueId+"_list",i)}],entryWithReferences:["dataStore","view","entry","referencedEntries",function(e,t,n,r){return e.fillReferencesValuesFromEntry(n,t.getReferences(),!0),e.addEntry(t.getEntity().uniqueId,n),!0}]}}),e.state("create",{parent:"main",url:"/:entity/create",controller:"FormController",controllerAs:"formController",templateProvider:r("CreateView",u),params:{page:null,search:null,sortField:null,sortDir:null},resolve:{dataStore:a(),view:i("CreateView"),entry:["dataStore","view",function(e,t){var n=e.createEntry(t.entity.name(),t.identifier(),t.getFields());return e.addEntry(t.getEntity().uniqueId,n),n}],choiceData:["ReadQueries","view",function(e,t){return e.getAllReferencedData(t.getReferences())}],choiceEntries:["dataStore","view","choiceData",function(e,t,n){var r,i=t.getReferences();for(var a in n)r=e.mapEntries(i[a].targetEntity().name(),i[a].targetEntity().identifier(),[i[a].targetField()],n[a]),e.setEntries(i[a].targetEntity().uniqueId+"_choices",r);return!0}]}}),e.state("edit",{parent:"main",url:"/:entity/edit/:id?sortField&sortDir",controller:"FormController",controllerAs:"formController",templateProvider:r("EditView",c),params:{entity:null,id:null,page:null,search:null,sortField:null,sortDir:null},resolve:{dataStore:a(),view:i("EditView"),rawEntry:["$stateParams","ReadQueries","view",function(e,t,n){return t.getOne(n.getEntity(),n.type,e.id,n.identifier(),n.getUrl())}],entry:["dataStore","view","rawEntry",function(e,t,n){return e.mapEntry(t.entity.name(),t.identifier(),t.getFields(),n)}],nonOptimizedReferencedData:["ReadQueries","view","entry",function(e,t,n){return e.getFilteredReferenceData(t.getNonOptimizedReferences(),[n.values])}],optimizedReferencedData:["ReadQueries","view","entry",function(e,t,n){return e.getOptimizedReferencedData(t.getOptimizedReferences(),[n.values])}],referencedEntries:["dataStore","view","nonOptimizedReferencedData","optimizedReferencedData",function(e,t,n,r){var i,a=t.getReferences(),o=angular.extend(n,r);for(var s in o)i=e.mapEntries(a[s].targetEntity().name(),a[s].targetEntity().identifier(),[a[s].targetField()],o[s]),e.setEntries(a[s].targetEntity().uniqueId+"_values",i);return!0}],referencedListData:["$stateParams","ReadQueries","view","entry",function(e,t,n,r){var i=n.getReferencedLists(),a=e.sortField,o=e.sortDir;return t.getReferencedListData(i,a,o,r.identifierValue)}],referencedListEntries:["dataStore","view","referencedListData",function(e,t,n){var r,i,a=t.getReferencedLists();for(var o in a)r=a[o],i=n[o],i=e.mapEntries(r.targetEntity().name(),r.targetEntity().identifier(),r.targetFields(),i),e.setEntries(r.targetEntity().uniqueId+"_list",i)}],entryWithReferences:["dataStore","view","entry","referencedEntries",function(e,t,n,r){return e.fillReferencesValuesFromEntry(n,t.getReferences(),!0),e.addEntry(t.getEntity().uniqueId,n),!0}],choiceData:["ReadQueries","view",function(e,t){return e.getAllReferencedData(t.getReferences())}],choiceEntries:["dataStore","view","choiceData",function(e,t,n){var r,i=t.getReferences();for(var a in n)r=e.mapEntries(i[a].targetEntity().name(),i[a].targetEntity().identifier(),[i[a].targetField()],n[a]),e.setEntries(i[a].targetEntity().uniqueId+"_choices",r);return!0}]}}),e.state("delete",{parent:"main",url:"/:entity/delete/:id",controller:"DeleteController",controllerAs:"deleteController",templateProvider:r("DeleteView",d),params:{page:null,search:null,sortField:null,sortDir:null},resolve:{dataStore:a(),view:i("DeleteView"),params:["$stateParams",function(e){return e}],rawEntry:["$stateParams","ReadQueries","view",function(e,t,n){return t.getOne(n.getEntity(),n.type,e.id,n.identifier(),n.getUrl())}],entry:["dataStore","view","rawEntry",function(e,t,n){return e.mapEntry(t.entity.name(),t.identifier(),t.getFields(),n)}]}}),e.state("batchDelete",{parent:"main",url:"/:entity/batch-delete/{ids:json}",controller:"BatchDeleteController",controllerAs:"batchDeleteController",templateProvider:r("BatchDeleteView",f),params:{entity:null,ids:[],page:null,search:null,sortField:null,sortDir:null},resolve:{view:i("BatchDeleteView"),params:["$stateParams",function(e){return e}]}})}var s=n(185),l=n(189),u=n(181),c=n(182),d=n(180),f=n(179);o.$inject=["$stateProvider"],e.exports=o},function(e,t,n){var r;r=function(){"use strict";var e=function(e,t,n,r){this.$scope=e,this.$location=t,this.title=n.title(),this.description=n.description(),this.actions=n.actions(),this.fields=n.fields(),this.$scope.entry=r.getFirstEntry(n.getEntity().uniqueId),this.$scope.view=n,this.view=n,this.entity=this.view.getEntity(),this.dataStore=r,e.$on("$destroy",this.destroy.bind(this))};return e.prototype.destroy=function(){this.$scope=void 0,this.$location=void 0,this.view=void 0,this.entity=void 0,this.dataStore=void 0},e.$inject=["$scope","$location","view","dataStore"],e}.call(t,n,t,e),!(void 0!==r&&(e.exports=r))},function(e,t,n){var r;r=function(e){"use strict";function t(){return{require:"ngModel",link:function(e,t,n,r){r.$validators.json=function(e){if(r.$isEmpty(e))return!0;try{return angular.fromJson(e),!0}catch(t){return!1}}}}}return t.$inject=[],t}.call(t,n,t,e),!(void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var r=n(4);n(18),n(207);var i=r.module("main",["ui.router","restangular"]);i.controller("AppController",n(156)),i.controller("DashboardController",n(157)),i.service("PanelBuilder",n(163)),i.provider("NgAdminConfiguration",n(162)),i.filter("orderElement",n(160)),i.filter("stripTags",n(161)),i.directive("maDashboardPanel",n(158)),i.directive("maMenuBar",n(159)),i.config(n(164)),i.config(n(165)),i.run(n(166)),i.run(n(167))},function(e,t,n){var r;r=function(){"use strict";var e=function(e,t,n){var r=n();this.$scope=e,this.$state=t,this.menu=r.menu(),this.applicationName=r.title(),this.header=r.header(),e.$on("$destroy",this.destroy.bind(this))};return e.prototype.displayHome=function(){this.$state.go(this.$state.get("dashboard"))},e.prototype.destroy=function(){this.$scope=void 0,this.$state=void 0},e.$inject=["$scope","$state","NgAdminConfiguration"],e}.call(t,n,t,e),!(void 0!==r&&(e.exports=r))},function(e,t,n){var r;r=function(e){"use strict";function t(e,t,n){this.$scope=e,this.$state=t,this.PanelBuilder=n,this.$scope.edit=this.edit.bind(this),this.retrievePanels(),e.$on("$destroy",this.destroy.bind(this))}return t.prototype.retrievePanels=function(){var e=this;this.panels=[];var t=this.$state.params,n="sortField"in t?t.sortField:null,r="sortDir"in t?t.sortDir:null;this.PanelBuilder.getPanelsData(n,r).then(function(t){e.panels=t}),this.hasEntities=this.PanelBuilder.hasEntities()},t.prototype.edit=function(e){this.$state.go(this.$state.get("edit"),{entity:e.entityName,id:e.identifierValue})},t.prototype.destroy=function(){this.$scope=void 0,this.$state=void 0,this.PanelBuilder=void 0},t.$inject=["$scope","$state","PanelBuilder"],t}.call(t,n,t,e),!(void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";function r(e){return{restrict:"E",scope:{label:"@",viewName:"@",entries:"=",fields:"&",entity:"&",perPage:"="},link:function(t){t.gotoList=function(){e.go(e.get("list"),{entity:t.entity().name()})}},template:i}}var i=n(191);r.$inject=["$state"],e.exports=r},function(e,t,n){"use strict";function r(e,t,n,r){return{restrict:"E",scope:{menu:"&"},link:function(r,o){function s(){o.html(i),n(o.contents())(r)}r.menu=r.menu(),r.path=e.path();var l=[],u=t.$on("$locationChangeSuccess",function(){r.path=e.path(),s()});t.$on("$destroy",u),r.gotoLink=function(t){if(t.hasChild()){var n;a.forEach(o.find("li"),function(e){var r=a.element(e);r.attr("data-menu-id")==t.uuid&&(n=r)});var i=a.element(n.find("a")[0].getElementsByClassName("arrow")[0]),s=n.find("ul").eq(0);if(-1!==l.indexOf(t)){if(t.isChildActive(r.path))return;l.splice(l.indexOf(t),1),s.addClass("collapsed"),i.removeClass("glyphicon-menu-down"),i.addClass("glyphicon-menu-right")}else l.push(t),s.removeClass("collapsed"),i.removeClass("glyphicon-menu-right"),i.addClass("glyphicon-menu-down")}else t.link()&&(e.search({}),e.path(t.link()))},r.isOpen=function(e){return e.isChildActive(r.path)||-1!==l.indexOf(e)},s()}}}var i=n(194),a=n(4);r.$inject=["$location","$rootScope","$compile","$timeout"],e.exports=r},function(e,t,n){var r;r=function(){"use strict";function e(){return function(e){var t,n=[];for(t in e)n.push(e[t]);return n.sort(function(e,t){return e.order()-t.order()}),n}}return e.$inject=[],e}.call(t,n,t,e),!(void 0!==r&&(e.exports=r))},function(e,t,n){var r;r=function(){"use strict";function e(){return function(e){return e.replace(/(<([^>]+)>)/gi,"")}}return e.$inject=[],e}.call(t,n,t,e),!(void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";function r(e){this.config=null,this.adminDescription=null,this.$compileProvider=e}r.prototype.setAdminDescription=function(e){this.adminDescription=e},r.prototype.configure=function(e){this.config=e,this.$compileProvider.debugInfoEnabled(this.config.debug())},r.prototype.$get=function(){var e=this.config;return function(){return e}},r.prototype.application=function(e,t){return this.adminDescription.application(e,t)},r.prototype.entity=function(e){return this.adminDescription.entity(e)},r.prototype.field=function(e,t){return this.adminDescription.field(e,t)},r.prototype.registerFieldType=function(e,t){return this.adminDescription.registerFieldType(e,t)},r.prototype.menu=function(e){return this.adminDescription.menu(e)},r.$inject=["$compileProvider"],e.exports=r},function(e,t,n){"use strict";function r(e,t,n,r){this.$q=e,this.ReadQueries=t,this.dataStore=r.getDataStore(),this.Configuration=n()}r.prototype.hasEntities=function(){return this.Configuration.entities.length>0},r.prototype.getPanelsData=function(e,t){var n,r,i,a,o=this.Configuration.getViewsOfType("DashboardView"),s=this.dataStore,l=[],u=this;for(a in o)n=o[a],r=n.getSortFieldName(),i=n.sortDir(),e&&e.split(".")[0]===n.name()&&(r=e,i=t),l.push(function(e,t,n){var r,i,a;return u.ReadQueries.getAll(e,1,{},t,n).then(function(e){return r=e.data}).then(function(t){return u.ReadQueries.getFilteredReferenceData(e.getNonOptimizedReferences(),t)}).then(function(t){return i=t,u.ReadQueries.getOptimizedReferencedData(e.getOptimizedReferences(),r)}).then(function(t){a=t;var n,r=e.getReferences(),o=angular.extend(i,a);for(var l in o)n=s.mapEntries(r[l].targetEntity().name(),r[l].targetEntity().identifier(),[r[l].targetField()],o[l]),s.setEntries(r[l].targetEntity().uniqueId+"_values",n)}).then(function(){var t=s.mapEntries(e.entity.name(),e.identifier(),e.getFields(),r);return s.fillReferencesValuesFromCollection(t,e.getReferences(),!0),{entries:t}})}(n,r,i));return this.$q.all(l).then(function(e){var t,n,r,i,a,s=[];for(t in e)n=e[t],r=o[t],i=r.getEntity(),a=r.fields(),s.push({label:r.title()||r.getEntity().label(),viewName:r.name(),fields:a,entity:i,perPage:r.perPage(),entries:n.entries,sortField:r.getSortFieldName(),sortDir:r.sortDir()});return s})},r.$inject=["$q","ReadQueries","NgAdminConfiguration","AdminDescription"],e.exports=r},function(e,t,n){var r;r=function(){"use strict";function e(e){e.useApplyAsync(!0)}return e.$inject=["$httpProvider"],e}.call(t,n,t,e),!(void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";function r(e,t){e.state("main",{"abstract":!0,controller:"AppController",controllerAs:"appController",templateProvider:["NgAdminConfiguration",function(e){return e().layout()||i}]}),e.state("dashboard",{parent:"main",url:"/dashboard?sortField&sortDir",params:{sortField:null,sortDir:null},controller:"DashboardController",controllerAs:"dashboardController",template:a}),e.state("ma-404",{parent:"main",template:o}),t.when("","/dashboard"),t.otherwise(function(e,t){var n=e.get("$state");return n.go("ma-404"),t.path()})}var i=n(193),a=n(192),o=n(190);r.$inject=["$stateProvider","$urlRouterProvider"],e.exports=r},function(e,t,n){var r;r=function(){"use strict";function e(e,t,n){e.$on("$stateChangeError",function(e,r,i,a,o,s){if(404!=s.status)throw n.log("State change error: "+s.message,{addnCls:"humane-flatty-error"}),s;t.go("ma-404"),e.preventDefault()})}return e.$inject=["$rootScope","$state","notification"],e}.call(t,n,t,e),!(void 0!==r&&(e.exports=r))},function(e,t,n){var r;r=function(){"use strict";function e(e,t,n){e.$on("$stateChangeStart",function(){n.start()}),e.$on("$stateChangeSuccess",function(){n.done(),t.scrollTo(0,0)}),e.$on("$stateChangeError",function(){n.done()})}return e.$inject=["$rootScope","$window","progression"],e}.call(t,n,t,e),!(void 0!==r&&(e.exports=r))},function(e,t,n){},function(e,t,n){e.exports="<div class=row><div class=col-lg-12><ma-view-actions override=::deleteController.actions entry=::entry entity=::deleteController.entity><ma-list-button ng-if=::entity.listView().enabled label=\"{{ 'action.list' | trans }}\" entity=::entity></ma-list-button></ma-view-actions><div class=page-header><h1 compile=::deleteController.title>{{'action.delete' | trans }} {{ ::deleteController.view.entity.name() | humanize:true | singularize }} #{{ ::entry.identifierValue }} {{ ::deleteController.entityId }}</h1><p class=lead ng-if=::deleteController.description compile=::deleteController.description>{{ ::deleteController.description }}</p></div></div></div><div class=row id=delete-view><div class=col-lg-12><p>{{ 'delete_modal.title' | trans }}</p><button class=\"btn btn-danger\" ng-click=deleteController.deleteOne()>SI</button> <button class=\"btn btn-default\" ng-click=deleteController.back()>NO</button></div></div>"},function(e,t,n){e.exports='<div class=row><div class=col-lg-12><ma-view-actions override=::formController.actions entry=entry entity=::formController.entity><ma-list-button ng-if=::entity.listView().enabled label="{{ \'action.list\' | trans }}" entity=::entity></ma-list-button></ma-view-actions><div class=page-header><h1 compile=::formController.title>Create new {{ ::formController.view.entity.name() | humanize:true | singularize }}</h1><p class=lead ng-if=::formController.description compile=::formController.description>{{ ::formController.description }}</p></div></div></div><div class=row id=create-view ng-class="::\'ng-admin-entity-\' + formController.entity.name()"><form class="col-lg-12 form-horizontal" name=formController.form ng-submit=formController.submitCreation($event)><div class="form-field form-group" ng-repeat="field in ::formController.fields track by $index"><ma-field field=::field entry=entry entity=::entity form=formController.form datastore=::formController.dataStore></ma-field></div><div class=form-group><div class="col-sm-offset-2 col-sm-10"><button type=submit class="btn btn-primary"><span class="glyphicon glyphicon-ok"></span> {{ \'action.submit\' | trans }}</button></div></div></form></div>'},function(e,t,n){e.exports='<div class=row><div class=col-lg-12><ma-view-actions override=::formController.actions entry=entry entity=::formController.entity><ma-list-button ng-if=::entity.listView().enabled label="{{ \'action.list\' | trans }}" entity=::entity></ma-list-button><ma-delete-button ng-if=::entity.deletionView().enabled label="{{ \'action.delete\' | trans }}" entry=entry entity=::entity></ma-delete-button></ma-view-actions><div class=page-header><h1 compile=::formController.title>{{ \'action.edit\' | trans }} {{ ::formController.entity.name() | humanize:true | singularize }} #{{ ::entry.identifierValue }}</h1><p class=lead ng-if=::formController.description compile=::formController.description>{{ ::formController.description }}</p></div></div></div><div class=row id=edit-view ng-class="::\'ng-admin-entity-\' + formController.entity.name()"><form class="col-lg-12 form-horizontal" name=formController.form ng-submit=formController.submitEdition($event)><div class="form-field form-group" ng-repeat="field in ::formController.fields track by $index"><ma-field field=::field entry=entry entity=::entity form=formController.form datastore=::formController.dataStore></ma-field></div><div class=form-group><div class="col-sm-offset-2 col-sm-10"><button type=submit class="btn btn-primary"><span class="glyphicon glyphicon-ok"></span> {{ \'action.save\' | trans }}</button></div></div></form></div>'},function(e,t,n){e.exports='<span compile=customTemplate><span ng-repeat="button in ::buttons" ng-switch=button><ma-show-button ng-switch-when=show entry=::entry label="{{ \'action.empty\' | trans }}" entity=::entity size=xs></ma-show-button><ma-edit-button ng-switch-when=edit ng-if=::entity.editionView().enabled entry=::entry label="{{ \'action.empty\' | trans }}" entity=::entity size=xs></ma-edit-button><ma-delete-button ng-switch-when=delete ng-if=::entity.deletionView().enabled entry=::entry label="{{ \'action.empty\' | trans }}" entity=::entity size=xs></ma-delete-button><span ng-switch-default><span compile=button></span></span></span></span>'},function(e,t,n){e.exports='<div class="row list-header"><div class=col-lg-12><ma-view-actions override=::listController.actions selection=listController.selection batch-buttons=::listController.batchActions entity=::listController.entity datastore=::listController.dataStore><ma-view-batch-actions buttons=::batchButtons() label="{{ \'action.delete\' | trans }}" selection=selection entity=::entity></ma-view-batch-actions><ma-create-button ng-if=::entity.creationView().enabled label="{{ \'action.new\' | trans: {\'entity_name\': \' \'} }}" entity=::entity></ma-create-button><ma-export-to-csv-button label="{{ \'action.export\' | trans }}" entity=::entity datastore=::datastore></ma-export-to-csv-button></ma-view-actions><div class=page-header><h1 compile=::listController.title>{{ ::listController.view.entity.name() | humanize | pluralize }} list</h1><p class=lead ng-if=::listController.description compile=::listController.description>{{ ::listController.description }}</p></div><ma-filter ng-if=listController.hasFilters filters=::listController.filters datastore=::listController.dataStore></ma-filter></div></div><div class="row list-view" ng-class="::\'ng-admin-entity-\' + listController.entity.name()"><div class=col-lg-12><ma-datagrid name="{{ ::listController.view.name() }}" entries=listController.dataStore.getEntries(listController.entity.uniqueId) selection=listController.selection fields=::listController.fields list-actions=::listController.listActions entity=::listController.entity sort-field=::listController.sortField sort-dir=::listController.sortDir></ma-datagrid></div></div><div class=row ng-if=::!listController.infinitePagination><div class=col-lg-12><ma-datagrid-pagination page="{{ listController.page }}" per-page="{{ ::listController.view.perPage() }}" total-items="{{ listController.totalItems }}" set-page=::listController.setPageCallback></ma-datagrid-pagination></div></div><ma-datagrid-infinite-pagination ng-if=::listController.infinitePagination per-page="{{ ::listController.view.perPage() }}" total-items="{{ ::listController.totalItems }}" next-page=::listController.nextPageCallback></ma-datagrid-infinite-pagination>';
},function(e,t,n){e.exports='<div class=row><div class=col-lg-12><ma-view-actions override=::showController.actions entry=entry entity=::showController.entity><ma-list-button ng-if=::entity.listView().enabled label="{{ \'action.list\' | trans }}" entity=::entity></ma-list-button><ma-edit-button ng-if=::entity.editionView().enabled label="{{ \'action.edit\' | trans }}" entry=entry entity=::entity></ma-edit-button><ma-delete-button ng-if=::entity.deletionView().enabled label="{{ \'action.delete\' | trans }}" entry=entry entity=::entity></ma-delete-button></ma-view-actions><div class=page-header><h1 compile=::showController.title>{{ \'action.detail\' | trans }} {{ ::showController.view.entity.name() | humanize:true | singularize }} #{{ ::entry.identifierValue }}</h1><p class=lead ng-if=::showController.description compile=::showController.description>{{ ::showController.description }}</p></div></div></div><div class="row form-horizontal" id=show-view><div class="col-lg-12 form-group" ng-repeat="field in ::showController.fields track by $index"><label class="col-sm-2 control-label">{{ field.label() }}</label><div class=show-value ng-class="::\'ng-admin-field-\' + field.name() + \' + \' + (field.getCssClasses(entry) || \'col-sm-10 col-md-8 col-lg-7\')"><ma-column field=::field entry=::entry entity=::entity datastore=::showController.dataStore></ma-column></div></div></div>'},function(e,t,n){e.exports='<div class=modal-header><h3 class=modal-title>Acceso Denegado</h3></div><div class=modal-body><p>Lo siento el usuario no tiene privilegios para realizar esta acción.</p></div><div class=modal-footer><button class="btn btn-warning" ng-click=cancel()>Cerrar</button></div>'},function(e,t,n){e.exports='<div class=modal-header><h4 class=modal-title>Inicio de sesión</h4></div><div class=modal-body><form class=form-horizontal role=form ng-submit=submit(credentials)><div class="alert alert-danger" ng-if=errorMessage>{{ errorMessage }}</div><div style="display: inline-block"><div class="col-xs-12 col-sm-12 col-md-12 col-lg-12"><div class=form-group><div class=input-group><div class=input-group-addon><i class="fa fa-envelope"></i></div><input class=form-control ng-model=credentials.username placeholder="{{ \'security.login.username_email\' | trans }}" required></div></div><div class=form-group><div class=input-group><div class=input-group-addon><i class="fa fa-lock"></i></div><input type=password class=form-control ng-model=credentials.password placeholder="{{\'form.password\' | trans }}" required></div></div></div></div></form></div><div class=modal-footer><button class="btn btn-primary" ng-click=submit(credentials)>{{\'security.login.submit\' | trans}}</button></div>'},function(e,t,n){e.exports='<div class=modal-header><h3 class=modal-title>Cerrar sesión</h3></div><div class=modal-body><p>¿Está seguro de salir del Sistema DrApp ?</p><p>Clic en "Cancelar", si desea permanecer en el Sistema.</p><p>Clic en "Aceptar", para salir del Sistema.</p></div><div class=modal-footer><button class="btn btn-primary" ng-click=ok()>Aceptar</button> <button class="btn btn-warning" ng-click=cancel()>Cancelar</button></div>'},function(e,t,n){e.exports='<div class=navbar-header><a class=navbar-brand href=# ng-click=appController.displayHome()>{{ ::appController.applicationName }}</a></div><ul ng-controller=SessionDropdownCtrl class="nav navbar-top-links navbar-right"><li class=dropdown ng-if=loginCheck() dropdown on-toggle=toggled(open)><a href=# class=dropdown-toggle dropdown-toggle data-toggle=dropdown><i class="fa fa-user fa-fw"></i> <i class="fa fa-caret-down"></i></a><ul class="dropdown-menu dropdown-user"><li ng-repeat="choice in items"><a href=#><i class={{choice.icon_fa}}></i>{{choice.text}}</a></li><li class=divider></li><li><a href=#><i class="fa fa-gear fa-fw"></i>Configuración</a></li><li ng-click=logoutConfirm()><a href=#><i class="fa fa-sign-out fa-fw"></i>Salir</a></li></ul></li></ul>'},function(e,t,n){e.exports='<div class="row list-header"><div class=col-lg-12><ma-view-actions override=::batchDeleteController.actions selection=batchDeleteController.selection entity=::batchDeleteController.entity><ma-list-button ng-if=::entity.listView().enabled entity=::entity></ma-list-button></ma-view-actions><div class=page-header><h1 compile=::batchDeleteController.title>Delete {{ ::batchDeleteController.entityIds.length }} {{ ::batchDeleteController.view.entity.name() | humanize | pluralize }}</h1></div></div></div><div class=row><div class=col-lg-12><p>Are you sure ?</p><button class="btn btn-danger" ng-click=batchDeleteController.batchDelete()>Yes</button> <button class="btn btn-default" ng-click=batchDeleteController.back()>No</button></div></div><div ng-if=selection class="row list-view" ng-class="::\'ng-admin-entity-\' + batchDeleteController.entity.name()"><div class=col-lg-12><ma-datagrid name="{{ ::batchDeleteController.view.name() }}" entries=batchDeleteController.selection fields=::batchDeleteController.fields entity=::batchDeleteController.entity></ma-datagrid></div></div>'},function(e,t,n){e.exports='<div class=row><div class=col-lg-12><ma-view-actions override=::deleteController.actions entry=::entry entity=::deleteController.entity><ma-list-button ng-if=::entity.listView().enabled entity=::entity></ma-list-button></ma-view-actions><div class=page-header><h1 compile=::deleteController.title>Delete {{ ::deleteController.view.entity.name() | humanize:true | singularize }} #{{ ::entry.identifierValue }}</h1><p class=lead ng-if=::deleteController.description compile=::deleteController.description>{{ ::deleteController.description }}</p></div></div></div><div class=row id=delete-view><div class=col-lg-12><p>Are you sure ?</p><button class="btn btn-danger" ng-click=deleteController.deleteOne()>Yes</button> <button class="btn btn-default" ng-click=deleteController.back()>No</button></div></div>'},function(e,t,n){e.exports='<div class=row><div class=col-lg-12><ma-view-actions override=::formController.actions entry=entry entity=::formController.entity><ma-list-button ng-if=::entity.listView().enabled entity=::entity></ma-list-button></ma-view-actions><div class=page-header><h1 compile=::formController.title>Create new {{ ::formController.view.entity.name() | humanize:true | singularize }}</h1><p class=lead ng-if=::formController.description compile=::formController.description>{{ ::formController.description }}</p></div></div></div><div class=row id=create-view ng-class="::\'ng-admin-entity-\' + formController.entity.name()"><form class="col-lg-12 form-horizontal" name=formController.form ng-submit=formController.submitCreation($event)><div class="form-field form-group" ng-repeat="field in ::formController.fields track by $index"><ma-field field=::field entry=entry entity=::entity form=formController.form datastore=::formController.dataStore></ma-field></div><div class=form-group><div class="col-sm-offset-2 col-sm-10"><button type=submit class="btn btn-primary"><span class="glyphicon glyphicon-ok"></span> Submit</button></div></div></form></div>'},function(e,t,n){e.exports='<div class=row><div class=col-lg-12><ma-view-actions override=::formController.actions entry=entry entity=::formController.entity><ma-list-button ng-if=::entity.listView().enabled entity=::entity></ma-list-button><ma-delete-button ng-if=::entity.deletionView().enabled entry=entry entity=::entity></ma-delete-button></ma-view-actions><div class=page-header><h1 compile=::formController.title>Edit {{ ::formController.entity.name() | humanize:true | singularize }} #{{ ::entry.identifierValue }}</h1><p class=lead ng-if=::formController.description compile=::formController.description>{{ ::formController.description }}</p></div></div></div><div class=row id=edit-view ng-class="::\'ng-admin-entity-\' + formController.entity.name()"><form class="col-lg-12 form-horizontal" name=formController.form ng-submit=formController.submitEdition($event)><div class="form-field form-group" ng-repeat="field in ::formController.fields track by $index"><ma-field field=::field entry=entry entity=::entity form=formController.form datastore=::formController.dataStore></ma-field></div><div class=form-group><div class="col-sm-offset-2 col-sm-10"><button type=submit class="btn btn-primary"><span class="glyphicon glyphicon-ok"></span> Save Changes</button></div></div></form></div>'},function(e,t,n){e.exports='<table class="grid table table-condensed table-hover table-striped"><thead><tr><th ng-if=selection><ma-datagrid-multi-selector toggle-select-all=toggleSelectAll() selection=selection entries="entries"><th ng-repeat="field in fields() track by $index" ng-class="\'ng-admin-column-\' + field.name()"><a ng-click=datagrid.sort(field)><span class="glyphicon {{ datagrid.sortDir === \'DESC\' ? \'glyphicon-chevron-down\': \'glyphicon-chevron-up\' }}" ng-if=datagrid.isSorting(field)></span> {{ field.label() }}</a><th ng-if=datagrid.shouldDisplayActions class=ng-admin-column-actions>Actions<tbody><tr ng-repeat="entry in entries track by entry.identifierValue"><td ng-if=selection><ma-datagrid-item-selector toggle-select=toggleSelect(entry) selection=selection entry="entry"><td ng-repeat="field in fields() track by $index" ng-class=field.getCssClasses(entry)><ma-column field=::field entry=::entry entity=::entity></ma-column><td ng-if=datagrid.shouldDisplayActions class=ng-admin-column-actions><list-actions entry=::entry entity=::entity buttons=listActions()></list-actions></table>'},function(e,t,n){e.exports='<span compile=customTemplate><span ng-repeat="button in ::buttons" ng-switch=button><ma-show-button ng-switch-when=show entry=::entry entity=::entity size=xs></ma-show-button><ma-edit-button ng-switch-when=edit ng-if=::entity.editionView().enabled entry=::entry entity=::entity size=xs></ma-edit-button><ma-delete-button ng-switch-when=delete ng-if=::entity.deletionView().enabled entry=::entry entity=::entity size=xs></ma-delete-button><span ng-switch-default><span compile=button></span></span></span></span>'},function(e,t,n){e.exports='<div class="row list-header"><div class=col-lg-12><ma-view-actions override=::listController.actions selection=listController.selection batch-buttons=::listController.batchActions entity=::listController.entity datastore=::listController.dataStore search=::listController.search><ma-view-batch-actions buttons=::batchButtons() selection=selection entity=::entity></ma-view-batch-actions><ma-create-button ng-if=::entity.creationView().enabled entity=::entity></ma-create-button><ma-export-to-csv-button entity=::entity search=::search datastore=::datastore></ma-export-to-csv-button></ma-view-actions><div class=page-header><h1 compile=::listController.title>{{ ::listController.view.entity.name() | humanize | pluralize }} list</h1><p class=lead ng-if=::listController.description compile=::listController.description>{{ ::listController.description }}</p></div><ma-filter ng-if=listController.hasFilters filters=::listController.filters datastore=::listController.dataStore></ma-filter></div></div><div class="row list-view" ng-class="::\'ng-admin-entity-\' + listController.entity.name()"><div class=col-lg-12><ma-datagrid name="{{ ::listController.view.name() }}" entries=listController.dataStore.getEntries(listController.entity.uniqueId) selection=listController.selection fields=::listController.fields list-actions=::listController.listActions entity=::listController.entity></ma-datagrid></div></div><div class=row ng-if=::!listController.infinitePagination><div class=col-lg-12><ma-datagrid-pagination page="{{ listController.page }}" per-page="{{ ::listController.view.perPage() }}" total-items="{{ listController.totalItems }}" set-page=::listController.setPageCallback></ma-datagrid-pagination></div></div><ma-datagrid-infinite-pagination ng-if=::listController.infinitePagination per-page="{{ ::listController.view.perPage() }}" total-items="{{ ::listController.totalItems }}" next-page=::listController.nextPageCallback></ma-datagrid-infinite-pagination>'},function(e,t,n){e.exports='<nav class=pagination-bar><div class=total ng-if="paginationCtrl.totalItems > 0"><strong>{{ paginationCtrl.offsetBegin }}</strong> - <strong>{{ paginationCtrl.offsetEnd }}</strong> on <strong>{{ paginationCtrl.totalItems }}</strong></div><div class="total no-record" ng-if="paginationCtrl.totalItems == 0"><strong>No record found.</strong></div><ul class="pagination pagination-sm pull-right" role=group aria-label=pagination ng-if=paginationCtrl.displayPagination><li><a href ng-if="paginationCtrl.page != 1" ng-click="paginationCtrl.setPage(paginationCtrl.page - 1)">« Prev</a></li><li ng-repeat="n in paginationCtrl.range(paginationCtrl.page) track by $index" ng-class="{\'active\': n == paginationCtrl.page}"><a href ng-if="n != \'.\'" ng-click=paginationCtrl.setPage(n)>{{ n }}</a> <span ng-if="n == \'.\'">&hellip;</span></li><li><a href ng-if="paginationCtrl.page != paginationCtrl.nbPages" ng-click="paginationCtrl.setPage(paginationCtrl.page + 1)">Next »</a></li></ul></nav>'},function(e,t,n){e.exports='<span ng-repeat="button in buttons" ng-switch=button class=view_actions><ma-view-batch-actions ng-switch-when=batch buttons=batchButtons() selection=selection entity=entity></ma-view-batch-actions><ma-back-button ng-switch-when=back></ma-back-button><ma-list-button ng-switch-when=list entity=entity></ma-list-button><ma-create-button ng-switch-when=create entity=entity></ma-create-button><ma-show-button ng-switch-when=show entry=entry entity=entity></ma-show-button><ma-edit-button ng-switch-when=edit entry=entry entity=entity></ma-edit-button><ma-delete-button ng-switch-when=delete entry=entry entity=entity></ma-delete-button><ma-export-to-csv-button ng-switch-when=export datastore=datastore entity=entity search=search></ma-export-to-csv-button><span ng-switch-default><span compile=button></span></span></span>'},function(e,t,n){e.exports='<span ng-if=selection class=btn-group dropdown is-open=isopen><button type=button ng-if=selection.length class="btn btn-default dropdown-toggle" dropdown-toggle>{{ selection.length }} Selected <span class=caret></span></button><ul class=dropdown-menu role=menu><li ng-repeat="button in buttons" ng-switch=button><a ng-switch-when=delete><ma-batch-delete-button selection=selection entity="entity"></a> <a ng-switch-default><span compile=button></span></a></li></ul></span>'},function(e,t,n){e.exports='<div class=row><div class=col-lg-12><ma-view-actions override=::showController.actions entry=entry entity=::showController.entity><ma-list-button ng-if=::entity.listView().enabled entity=::entity></ma-list-button><ma-edit-button ng-if=::entity.editionView().enabled entry=entry entity=::entity></ma-edit-button><ma-delete-button ng-if=::entity.deletionView().enabled entry=entry entity=::entity></ma-delete-button></ma-view-actions><div class=page-header><h1 compile=::showController.title>{{ ::showController.view.entity.name() | humanize:true | singularize }} #{{ ::entry.identifierValue }} Detail</h1><p class=lead ng-if=::showController.description compile=::showController.description>{{ ::showController.description }}</p></div></div></div><div class="row form-horizontal" id=show-view><div class="col-lg-12 form-group" ng-repeat="field in ::showController.fields track by $index"><label class="col-sm-2 control-label">{{ field.label() }}</label><div class=show-value ng-class="::\'ng-admin-field-\' + field.name() + \' \' + (field.getCssClasses(entry) || \'col-sm-10 col-md-8 col-lg-7\')"><ma-column field=::field entry=::entry entity=::entity datastore=::showController.dataStore></ma-column></div></div></div>'},function(e,t,n){e.exports="<div class=row><div class=col-lg-12><div class=page-header><h1>Not Found</h1></div></div></div><div class=\"row dashboard-content\"><div class=col-lg-12>The page you are looking for cannot be found. Take a break before trying again.<br><br><br><br></div><pre class=\"ascii col-lg-offset-4 col-lg-4 col-md-offset-3 col-md-6 col-sm-offset-2 col-sm-8 col-cs-offset-1 col-xs-10\">\n\n       |\\      _,,,---,,_\n       /,`.-'`'    -.  ;-;;,_\n      |,4-  ) )-,_..;\\ (  `'-'\n     '---''(_/--'  `-'\\_)\n\n    </pre></div>"},function(e,t,n){e.exports='<div class=panel-heading><a ng-click=gotoList()>{{ label }}</a></div><ma-datagrid name="{{ viewName }}" entries=entries fields=fields() entity=entity() list-actions=false></ma-datagrid>'},function(e,t,n){e.exports='<div class=row ng-if=dashboardController.hasEntities><div class=col-lg-12><div class=page-header><h1>Dashboard</h1></div></div></div><div class="row dashboard-content"><div class=col-lg-6><div class="panel panel-default" ng-repeat="panel in dashboardController.panels" ng-if=$even><ma-dashboard-panel label="{{ panel.label }}" view-name="{{ panel.viewName }}" fields=panel.fields entries=panel.entries entity=panel.entity per-page=panel.perPage sort-field=panel.sortField sort-dir=panel.sortDir></ma-dashboard-panel></div></div><div class=col-lg-6><div class="panel panel-default" ng-repeat="panel in dashboardController.panels" ng-if=$odd><ma-dashboard-panel label="{{ panel.label }}" view-name="{{ panel.viewName }}" fields=panel.fields entries=panel.entries entity=panel.entity per-page=panel.perPage sort-field=panel.sortField sort-dir=panel.sortDir></ma-dashboard-panel></div></div></div><div class=row ng-if=!dashboardController.hasEntities><div class=col-lg-12><div class=dashboard-invite><p>All dependencies are set, ng-admin is ready to run!</p><p>Now you can <a href=https://github.com/marmelab/ng-admin/blob/master/README.md#configuring-ng-admin>update the configuration</a>: add entities to the admin, then refresh.</p></div></div></div>'},function(e,t,n){e.exports='<div id=wrapper><nav id=header-nav class="navbar navbar-default navbar-static-top" role=navigation><span compile=::appController.header><div class=navbar-header><a href=# ng-click=appController.displayHome() class=navbar-brand>{{ ::appController.applicationName }}</a></div></span><ma-menu-bar menu=::appController.menu></ma-menu-bar></nav><div id=page-wrapper><div ui-view></div></div><div id=loader></div></div>'},function(e,t,n){e.exports='<div class="navbar-default sidebar" role=navigation><div class="sidebar-nav navbar-collapse"><ul class=nav id=side-menu><li class=entities-repeat ng-repeat="(key, menu) in ::menu.children()" data-menu-id="{{ ::menu.uuid }}" compile=menu.template()><a ng-click=gotoLink(menu) ng-class="::{\'active\': menu.isActive(path)}"><span compile=::menu.icon()><span class="glyphicon glyphicon-list"></span></span> {{ menu.title() }} <span ng-if=::menu.hasChild() class="glyphicon arrow" ng-class="::{\'glyphicon-menu-down\': isOpen(menu), \'glyphicon-menu-right\': !isOpen(menu) }"></span></a><ul ng-if=::menu.hasChild() class="nav nav-second-level collapsible" ng-class="::{\'collapsed\': !isOpen(menu) }"><li ng-repeat="menu in ::menu.children()" data-menu-id="{{ ::menu.uuid }}" compile=menu.template()><a ng-click=gotoLink(menu) ng-class="::{\'active\': menu.isActive(path)}"><span compile=::menu.icon()><span class="glyphicon glyphicon-list"></span></span> {{ menu.title() }}</a></li></ul></li></ul></div></div>'},function(e,t,n){/**
	 * @license AngularJS v1.3.15
	 * (c) 2010-2014 Google, Inc. http://angularjs.org
	 * License: MIT
	 */
!function(e,t,n){"use strict";function r(e,t){return t=t||Error,function(){var n,r,i=arguments[0],a="["+(e?e+":":"")+i+"] ",o=arguments[1],s=arguments;for(n=a+o.replace(/\{\d+\}/g,function(e){var t=+e.slice(1,-1);return t+2<s.length?fe(s[t+2]):e}),n=n+"\nhttp://errors.angularjs.org/1.3.15/"+(e?e+"/":"")+i,r=2;r<arguments.length;r++)n=n+(2==r?"?":"&")+"p"+(r-2)+"="+encodeURIComponent(fe(arguments[r]));return new t(n)}}function i(e){if(null==e||_(e))return!1;var t=e.length;return e.nodeType===br&&t?!0:w(e)||fr(e)||0===t||"number"==typeof t&&t>0&&t-1 in e}function a(e,t,n){var r,o;if(e)if(C(e))for(r in e)"prototype"==r||"length"==r||"name"==r||e.hasOwnProperty&&!e.hasOwnProperty(r)||t.call(n,e[r],r,e);else if(fr(e)||i(e)){var s="object"!=typeof e;for(r=0,o=e.length;o>r;r++)(s||r in e)&&t.call(n,e[r],r,e)}else if(e.forEach&&e.forEach!==a)e.forEach(t,n,e);else for(r in e)e.hasOwnProperty(r)&&t.call(n,e[r],r,e);return e}function o(e){return Object.keys(e).sort()}function s(e,t,n){for(var r=o(e),i=0;i<r.length;i++)t.call(n,e[r[i]],r[i]);return r}function l(e){return function(t,n){e(n,t)}}function u(){return++cr}function c(e,t){t?e.$$hashKey=t:delete e.$$hashKey}function d(e){for(var t=e.$$hashKey,n=1,r=arguments.length;r>n;n++){var i=arguments[n];if(i)for(var a=Object.keys(i),o=0,s=a.length;s>o;o++){var l=a[o];e[l]=i[l]}}return c(e,t),e}function f(e){return parseInt(e,10)}function p(e,t){return d(Object.create(e),t)}function h(){}function g(e){return e}function m(e){return function(){return e}}function v(e){return"undefined"==typeof e}function y(e){return"undefined"!=typeof e}function b(e){return null!==e&&"object"==typeof e}function w(e){return"string"==typeof e}function $(e){return"number"==typeof e}function x(e){return"[object Date]"===sr.call(e)}function C(e){return"function"==typeof e}function E(e){return"[object RegExp]"===sr.call(e)}function _(e){return e&&e.window===e}function S(e){return e&&e.$evalAsync&&e.$watch}function k(e){return"[object File]"===sr.call(e)}function T(e){return"[object FormData]"===sr.call(e)}function O(e){return"[object Blob]"===sr.call(e)}function A(e){return"boolean"==typeof e}function R(e){return e&&C(e.then)}function M(e){return!(!e||!(e.nodeName||e.prop&&e.attr&&e.find))}function N(e){var t,n={},r=e.split(",");for(t=0;t<r.length;t++)n[r[t]]=!0;return n}function D(e){return Yn(e.nodeName||e[0]&&e[0].nodeName)}function L(e,t){var n=e.indexOf(t);return n>=0&&e.splice(n,1),t}function P(e,t,n,r){if(_(e)||S(e))throw lr("cpws","Can't copy! Making copies of Window or Scope instances is not supported.");if(t){if(e===t)throw lr("cpi","Can't copy! Source and destination are identical.");if(n=n||[],r=r||[],b(e)){var i=n.indexOf(e);if(-1!==i)return r[i];n.push(e),r.push(t)}var o;if(fr(e)){t.length=0;for(var s=0;s<e.length;s++)o=P(e[s],null,n,r),b(e[s])&&(n.push(e[s]),r.push(o)),t.push(o)}else{var l=t.$$hashKey;fr(t)?t.length=0:a(t,function(e,n){delete t[n]});for(var u in e)e.hasOwnProperty(u)&&(o=P(e[u],null,n,r),b(e[u])&&(n.push(e[u]),r.push(o)),t[u]=o);c(t,l)}}else if(t=e,e)if(fr(e))t=P(e,[],n,r);else if(x(e))t=new Date(e.getTime());else if(E(e))t=new RegExp(e.source,e.toString().match(/[^\/]*$/)[0]),t.lastIndex=e.lastIndex;else if(b(e)){var d=Object.create(Object.getPrototypeOf(e));t=P(e,d,n,r)}return t}function I(e,t){if(fr(e)){t=t||[];for(var n=0,r=e.length;r>n;n++)t[n]=e[n]}else if(b(e)){t=t||{};for(var i in e)("$"!==i.charAt(0)||"$"!==i.charAt(1))&&(t[i]=e[i])}return t||e}function F(e,t){if(e===t)return!0;if(null===e||null===t)return!1;if(e!==e&&t!==t)return!0;var r,i,a,o=typeof e,s=typeof t;if(o==s&&"object"==o){if(!fr(e)){if(x(e))return x(t)?F(e.getTime(),t.getTime()):!1;if(E(e))return E(t)?e.toString()==t.toString():!1;if(S(e)||S(t)||_(e)||_(t)||fr(t)||x(t)||E(t))return!1;a={};for(i in e)if("$"!==i.charAt(0)&&!C(e[i])){if(!F(e[i],t[i]))return!1;a[i]=!0}for(i in t)if(!a.hasOwnProperty(i)&&"$"!==i.charAt(0)&&t[i]!==n&&!C(t[i]))return!1;return!0}if(!fr(t))return!1;if((r=e.length)==t.length){for(i=0;r>i;i++)if(!F(e[i],t[i]))return!1;return!0}}return!1}function j(e,t,n){return e.concat(ir.call(t,n))}function H(e,t){return ir.call(e,t||0)}function B(e,t){var n=arguments.length>2?H(arguments,2):[];return!C(t)||t instanceof RegExp?t:n.length?function(){return arguments.length?t.apply(e,j(n,arguments,0)):t.apply(e,n)}:function(){return arguments.length?t.apply(e,arguments):t.call(e)}}function V(e,r){var i=r;return"string"==typeof e&&"$"===e.charAt(0)&&"$"===e.charAt(1)?i=n:_(r)?i="$WINDOW":r&&t===r?i="$DOCUMENT":S(r)&&(i="$SCOPE"),i}function U(e,t){return"undefined"==typeof e?n:($(t)||(t=t?2:null),JSON.stringify(e,V,t))}function z(e){return w(e)?JSON.parse(e):e}function q(e){e=tr(e).clone();try{e.empty()}catch(t){}var n=tr("<div>").append(e).html();try{return e[0].nodeType===wr?Yn(n):n.match(/^(<[^>]+>)/)[1].replace(/^<([\w\-]+)/,function(e,t){return"<"+Yn(t)})}catch(t){return Yn(n)}}function W(e){try{return decodeURIComponent(e)}catch(t){}}function G(e){var t,n,r={};return a((e||"").split("&"),function(e){if(e&&(t=e.replace(/\+/g,"%20").split("="),n=W(t[0]),y(n))){var i=y(t[1])?W(t[1]):!0;Xn.call(r,n)?fr(r[n])?r[n].push(i):r[n]=[r[n],i]:r[n]=i}}),r}function K(e){var t=[];return a(e,function(e,n){fr(e)?a(e,function(e){t.push(X(n,!0)+(e===!0?"":"="+X(e,!0)))}):t.push(X(n,!0)+(e===!0?"":"="+X(e,!0)))}),t.length?t.join("&"):""}function Y(e){return X(e,!0).replace(/%26/gi,"&").replace(/%3D/gi,"=").replace(/%2B/gi,"+")}function X(e,t){return encodeURIComponent(e).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%3B/gi,";").replace(/%20/g,t?"%20":"+")}function Q(e,t){var n,r,i=mr.length;for(e=tr(e),r=0;i>r;++r)if(n=mr[r]+t,w(n=e.attr(n)))return n;return null}function J(e,t){var n,r,i={};a(mr,function(t){var i=t+"app";!n&&e.hasAttribute&&e.hasAttribute(i)&&(n=e,r=e.getAttribute(i))}),a(mr,function(t){var i,a=t+"app";!n&&(i=e.querySelector("["+a.replace(":","\\:")+"]"))&&(n=i,r=i.getAttribute(a))}),n&&(i.strictDi=null!==Q(n,"strict-di"),t(n,r?[r]:[],i))}function Z(n,r,i){b(i)||(i={});var o={strictDi:!1};i=d(o,i);var s=function(){if(n=tr(n),n.injector()){var e=n[0]===t?"document":q(n);throw lr("btstrpd","App Already Bootstrapped with this Element '{0}'",e.replace(/</,"&lt;").replace(/>/,"&gt;"))}r=r||[],r.unshift(["$provide",function(e){e.value("$rootElement",n)}]),i.debugInfoEnabled&&r.push(["$compileProvider",function(e){e.debugInfoEnabled(!0)}]),r.unshift("ng");var a=ze(r,i.strictDi);return a.invoke(["$rootScope","$rootElement","$compile","$injector",function(e,t,n,r){e.$apply(function(){t.data("$injector",r),n(t)(e)})}]),a},l=/^NG_ENABLE_DEBUG_INFO!/,u=/^NG_DEFER_BOOTSTRAP!/;return e&&l.test(e.name)&&(i.debugInfoEnabled=!0,e.name=e.name.replace(l,"")),e&&!u.test(e.name)?s():(e.name=e.name.replace(u,""),ur.resumeBootstrap=function(e){return a(e,function(e){r.push(e)}),s()},void(C(ur.resumeDeferredBootstrap)&&ur.resumeDeferredBootstrap()))}function ee(){e.name="NG_ENABLE_DEBUG_INFO!"+e.name,e.location.reload()}function te(e){var t=ur.element(e).injector();if(!t)throw lr("test","no injector found for element argument to getTestability");return t.get("$$testability")}function ne(e,t){return t=t||"_",e.replace(vr,function(e,n){return(n?t:"")+e.toLowerCase()})}function re(){var t;yr||(nr=e.jQuery,nr&&nr.fn.on?(tr=nr,d(nr.fn,{scope:Fr.scope,isolateScope:Fr.isolateScope,controller:Fr.controller,injector:Fr.injector,inheritedData:Fr.inheritedData}),t=nr.cleanData,nr.cleanData=function(e){var n;if(dr)dr=!1;else for(var r,i=0;null!=(r=e[i]);i++)n=nr._data(r,"events"),n&&n.$destroy&&nr(r).triggerHandler("$destroy");t(e)}):tr=we,ur.element=tr,yr=!0)}function ie(e,t,n){if(!e)throw lr("areq","Argument '{0}' is {1}",t||"?",n||"required");return e}function ae(e,t,n){return n&&fr(e)&&(e=e[e.length-1]),ie(C(e),t,"not a function, got "+(e&&"object"==typeof e?e.constructor.name||"Object":typeof e)),e}function oe(e,t){if("hasOwnProperty"===e)throw lr("badname","hasOwnProperty is not a valid {0} name",t)}function se(e,t,n){if(!t)return e;for(var r,i=t.split("."),a=e,o=i.length,s=0;o>s;s++)r=i[s],e&&(e=(a=e)[r]);return!n&&C(e)?B(a,e):e}function le(e){var t=e[0],n=e[e.length-1],r=[t];do{if(t=t.nextSibling,!t)break;r.push(t)}while(t!==n);return tr(r)}function ue(){return Object.create(null)}function ce(e){function t(e,t,n){return e[t]||(e[t]=n())}var n=r("$injector"),i=r("ng"),a=t(e,"angular",Object);return a.$$minErr=a.$$minErr||r,t(a,"module",function(){var e={};return function(r,a,o){var s=function(e,t){if("hasOwnProperty"===e)throw i("badname","hasOwnProperty is not a valid {0} name",t)};return s(r,"module"),a&&e.hasOwnProperty(r)&&(e[r]=null),t(e,r,function(){function e(e,n,r,i){return i||(i=t),function(){return i[r||"push"]([e,n,arguments]),u}}if(!a)throw n("nomod","Module '{0}' is not available! You either misspelled the module name or forgot to load it. If registering a module ensure that you specify the dependencies as the second argument.",r);var t=[],i=[],s=[],l=e("$injector","invoke","push",i),u={_invokeQueue:t,_configBlocks:i,_runBlocks:s,requires:a,name:r,provider:e("$provide","provider"),factory:e("$provide","factory"),service:e("$provide","service"),value:e("$provide","value"),constant:e("$provide","constant","unshift"),animation:e("$animateProvider","register"),filter:e("$filterProvider","register"),controller:e("$controllerProvider","register"),directive:e("$compileProvider","directive"),config:l,run:function(e){return s.push(e),this}};return o&&l(o),u})}})}function de(e){var t=[];return JSON.stringify(e,function(e,n){if(n=V(e,n),b(n)){if(t.indexOf(n)>=0)return"<<already seen>>";t.push(n)}return n})}function fe(e){return"function"==typeof e?e.toString().replace(/ \{[\s\S]*$/,""):"undefined"==typeof e?"undefined":"string"!=typeof e?de(e):e}function pe(t){d(t,{bootstrap:Z,copy:P,extend:d,equals:F,element:tr,forEach:a,injector:ze,noop:h,bind:B,toJson:U,fromJson:z,identity:g,isUndefined:v,isDefined:y,isString:w,isFunction:C,isObject:b,isNumber:$,isElement:M,isArray:fr,version:Er,isDate:x,lowercase:Yn,uppercase:Qn,callbacks:{counter:0},getTestability:te,$$minErr:r,$$csp:gr,reloadWithDebugInfo:ee}),rr=ce(e);try{rr("ngLocale")}catch(n){rr("ngLocale",[]).provider("$locale",mt)}rr("ng",["ngLocale"],["$provide",function(e){e.provider({$$sanitizeUri:Kt}),e.provider("$compile",Qe).directive({a:Ai,input:Gi,textarea:Gi,form:Li,script:Pa,select:ja,style:Ba,option:Ha,ngBind:Xi,ngBindHtml:Ji,ngBindTemplate:Qi,ngClass:ea,ngClassEven:na,ngClassOdd:ta,ngCloak:ra,ngController:ia,ngForm:Pi,ngHide:Aa,ngIf:sa,ngInclude:la,ngInit:ca,ngNonBindable:Ea,ngPluralize:_a,ngRepeat:Sa,ngShow:Oa,ngStyle:Ra,ngSwitch:Ma,ngSwitchWhen:Na,ngSwitchDefault:Da,ngOptions:Fa,ngTransclude:La,ngModel:$a,ngList:da,ngChange:Zi,pattern:Ua,ngPattern:Ua,required:Va,ngRequired:Va,minlength:qa,ngMinlength:qa,maxlength:za,ngMaxlength:za,ngValue:Yi,ngModelOptions:Ca}).directive({ngInclude:ua}).directive(Ri).directive(aa),e.provider({$anchorScroll:qe,$animate:Kr,$browser:Ke,$cacheFactory:Ye,$controller:tt,$document:nt,$exceptionHandler:rt,$filter:sn,$interpolate:ht,$interval:gt,$http:ct,$httpBackend:ft,$location:At,$log:Rt,$parse:Vt,$rootScope:Gt,$q:Ut,$$q:zt,$sce:Jt,$sceDelegate:Qt,$sniffer:Zt,$templateCache:Xe,$templateRequest:en,$$testability:tn,$timeout:nn,$window:on,$$rAF:Wt,$$asyncCallback:We,$$jqLite:je})}])}function he(){return++Sr}function ge(e){return e.replace(Or,function(e,t,n,r){return r?n.toUpperCase():n}).replace(Ar,"Moz$1")}function me(e){return!Dr.test(e)}function ve(e){var t=e.nodeType;return t===br||!t||t===xr}function ye(e,t){var n,r,i,o,s=t.createDocumentFragment(),l=[];if(me(e))l.push(t.createTextNode(e));else{for(n=n||s.appendChild(t.createElement("div")),r=(Lr.exec(e)||["",""])[1].toLowerCase(),i=Ir[r]||Ir._default,n.innerHTML=i[1]+e.replace(Pr,"<$1></$2>")+i[2],o=i[0];o--;)n=n.lastChild;l=j(l,n.childNodes),n=s.firstChild,n.textContent=""}return s.textContent="",s.innerHTML="",a(l,function(e){s.appendChild(e)}),s}function be(e,n){n=n||t;var r;return(r=Nr.exec(e))?[n.createElement(r[1])]:(r=ye(e,n))?r.childNodes:[]}function we(e){if(e instanceof we)return e;var t;if(w(e)&&(e=pr(e),t=!0),!(this instanceof we)){if(t&&"<"!=e.charAt(0))throw Mr("nosel","Looking up elements via selectors is not supported by jqLite! See: http://docs.angularjs.org/api/angular.element");return new we(e)}t?Ae(this,be(e)):Ae(this,e)}function $e(e){return e.cloneNode(!0)}function xe(e,t){if(t||Ee(e),e.querySelectorAll)for(var n=e.querySelectorAll("*"),r=0,i=n.length;i>r;r++)Ee(n[r])}function Ce(e,t,n,r){if(y(r))throw Mr("offargs","jqLite#off() does not support the `selector` argument");var i=_e(e),o=i&&i.events,s=i&&i.handle;if(s)if(t)a(t.split(" "),function(t){if(y(n)){var r=o[t];if(L(r||[],n),r&&r.length>0)return}Tr(e,t,s),delete o[t]});else for(t in o)"$destroy"!==t&&Tr(e,t,s),delete o[t]}function Ee(e,t){var r=e.ng339,i=r&&_r[r];if(i){if(t)return void delete i.data[t];i.handle&&(i.events.$destroy&&i.handle({},"$destroy"),Ce(e)),delete _r[r],e.ng339=n}}function _e(e,t){var r=e.ng339,i=r&&_r[r];return t&&!i&&(e.ng339=r=he(),i=_r[r]={events:{},data:{},handle:n}),i}function Se(e,t,n){if(ve(e)){var r=y(n),i=!r&&t&&!b(t),a=!t,o=_e(e,!i),s=o&&o.data;if(r)s[t]=n;else{if(a)return s;if(i)return s&&s[t];d(s,t)}}}function ke(e,t){return e.getAttribute?(" "+(e.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ").indexOf(" "+t+" ")>-1:!1}function Te(e,t){t&&e.setAttribute&&a(t.split(" "),function(t){e.setAttribute("class",pr((" "+(e.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ").replace(" "+pr(t)+" "," ")))})}function Oe(e,t){if(t&&e.setAttribute){var n=(" "+(e.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ");a(t.split(" "),function(e){e=pr(e),-1===n.indexOf(" "+e+" ")&&(n+=e+" ")}),e.setAttribute("class",pr(n))}}function Ae(e,t){if(t)if(t.nodeType)e[e.length++]=t;else{var n=t.length;if("number"==typeof n&&t.window!==t){if(n)for(var r=0;n>r;r++)e[e.length++]=t[r]}else e[e.length++]=t}}function Re(e,t){return Me(e,"$"+(t||"ngController")+"Controller")}function Me(e,t,r){e.nodeType==xr&&(e=e.documentElement);for(var i=fr(t)?t:[t];e;){for(var a=0,o=i.length;o>a;a++)if((r=tr.data(e,i[a]))!==n)return r;e=e.parentNode||e.nodeType===Cr&&e.host}}function Ne(e){for(xe(e,!0);e.firstChild;)e.removeChild(e.firstChild)}function De(e,t){t||xe(e);var n=e.parentNode;n&&n.removeChild(e)}function Le(t,n){n=n||e,"complete"===n.document.readyState?n.setTimeout(t):tr(n).on("load",t)}function Pe(e,t){var n=jr[t.toLowerCase()];return n&&Hr[D(e)]&&n}function Ie(e,t){var n=e.nodeName;return("INPUT"===n||"TEXTAREA"===n)&&Br[t]}function Fe(e,t){var n=function(n,r){n.isDefaultPrevented=function(){return n.defaultPrevented};var i=t[r||n.type],a=i?i.length:0;if(a){if(v(n.immediatePropagationStopped)){var o=n.stopImmediatePropagation;n.stopImmediatePropagation=function(){n.immediatePropagationStopped=!0,n.stopPropagation&&n.stopPropagation(),o&&o.call(n)}}n.isImmediatePropagationStopped=function(){return n.immediatePropagationStopped===!0},a>1&&(i=I(i));for(var s=0;a>s;s++)n.isImmediatePropagationStopped()||i[s].call(e,n)}};return n.elem=e,n}function je(){this.$get=function(){return d(we,{hasClass:function(e,t){return e.attr&&(e=e[0]),ke(e,t)},addClass:function(e,t){return e.attr&&(e=e[0]),Oe(e,t)},removeClass:function(e,t){return e.attr&&(e=e[0]),Te(e,t)}})}}function He(e,t){var n=e&&e.$$hashKey;if(n)return"function"==typeof n&&(n=e.$$hashKey()),n;var r=typeof e;return n="function"==r||"object"==r&&null!==e?e.$$hashKey=r+":"+(t||u)():r+":"+e}function Be(e,t){if(t){var n=0;this.nextUid=function(){return++n}}a(e,this.put,this)}function Ve(e){var t=e.toString().replace(qr,""),n=t.match(Vr);return n?"function("+(n[1]||"").replace(/[\s\r\n]+/," ")+")":"fn"}function Ue(e,t,n){var r,i,o,s;if("function"==typeof e){if(!(r=e.$inject)){if(r=[],e.length){if(t)throw w(n)&&n||(n=e.name||Ve(e)),Wr("strictdi","{0} is not using explicit annotation and cannot be invoked in strict mode",n);i=e.toString().replace(qr,""),o=i.match(Vr),a(o[1].split(Ur),function(e){e.replace(zr,function(e,t,n){r.push(n)})})}e.$inject=r}}else fr(e)?(s=e.length-1,ae(e[s],"fn"),r=e.slice(0,s)):ae(e,"fn",!0);return r}function ze(e,t){function r(e){return function(t,n){return b(t)?void a(t,l(e)):e(t,n)}}function i(e,t){if(oe(e,"service"),(C(t)||fr(t))&&(t=S.instantiate(t)),!t.$get)throw Wr("pget","Provider '{0}' must define $get factory method.",e);return _[e+$]=t}function o(e,t){return function(){var n=T.invoke(t,this);if(v(n))throw Wr("undef","Provider '{0}' must return a value from $get factory method.",e);return n}}function s(e,t,n){return i(e,{$get:n!==!1?o(e,t):t})}function u(e,t){return s(e,["$injector",function(e){return e.instantiate(t)}])}function c(e,t){return s(e,m(t),!1)}function d(e,t){oe(e,"constant"),_[e]=t,k[e]=t}function f(e,t){var n=S.get(e+$),r=n.$get;n.$get=function(){var e=T.invoke(r,n);return T.invoke(t,null,{$delegate:e})}}function p(e){var t,n=[];return a(e,function(e){function r(e){var t,n;for(t=0,n=e.length;n>t;t++){var r=e[t],i=S.get(r[0]);i[r[1]].apply(i,r[2])}}if(!E.get(e)){E.put(e,!0);try{w(e)?(t=rr(e),n=n.concat(p(t.requires)).concat(t._runBlocks),r(t._invokeQueue),r(t._configBlocks)):C(e)?n.push(S.invoke(e)):fr(e)?n.push(S.invoke(e)):ae(e,"module")}catch(i){throw fr(e)&&(e=e[e.length-1]),i.message&&i.stack&&-1==i.stack.indexOf(i.message)&&(i=i.message+"\n"+i.stack),Wr("modulerr","Failed to instantiate module {0} due to:\n{1}",e,i.stack||i.message||i)}}}),n}function g(e,n){function r(t,r){if(e.hasOwnProperty(t)){if(e[t]===y)throw Wr("cdep","Circular dependency found: {0}",t+" <- "+x.join(" <- "));return e[t]}try{return x.unshift(t),e[t]=y,e[t]=n(t,r)}catch(i){throw e[t]===y&&delete e[t],i}finally{x.shift()}}function i(e,n,i,a){"string"==typeof i&&(a=i,i=null);var o,s,l,u=[],c=ze.$$annotate(e,t,a);for(s=0,o=c.length;o>s;s++){if(l=c[s],"string"!=typeof l)throw Wr("itkn","Incorrect injection token! Expected service name as string, got {0}",l);u.push(i&&i.hasOwnProperty(l)?i[l]:r(l,a))}return fr(e)&&(e=e[o]),e.apply(n,u)}function a(e,t,n){var r=Object.create((fr(e)?e[e.length-1]:e).prototype||null),a=i(e,r,t,n);return b(a)||C(a)?a:r}return{invoke:i,instantiate:a,get:r,annotate:ze.$$annotate,has:function(t){return _.hasOwnProperty(t+$)||e.hasOwnProperty(t)}}}t=t===!0;var y={},$="Provider",x=[],E=new Be([],!0),_={$provide:{provider:r(i),factory:r(s),service:r(u),value:r(c),constant:r(d),decorator:f}},S=_.$injector=g(_,function(e,t){throw ur.isString(t)&&x.push(t),Wr("unpr","Unknown provider: {0}",x.join(" <- "))}),k={},T=k.$injector=g(k,function(e,t){var r=S.get(e+$,t);return T.invoke(r.$get,r,n,e)});return a(p(e),function(e){T.invoke(e||h)}),T}function qe(){var e=!0;this.disableAutoScrolling=function(){e=!1},this.$get=["$window","$location","$rootScope",function(t,n,r){function i(e){var t=null;return Array.prototype.some.call(e,function(e){return"a"===D(e)?(t=e,!0):void 0}),t}function a(){var e=s.yOffset;if(C(e))e=e();else if(M(e)){var n=e[0],r=t.getComputedStyle(n);e="fixed"!==r.position?0:n.getBoundingClientRect().bottom}else $(e)||(e=0);return e}function o(e){if(e){e.scrollIntoView();var n=a();if(n){var r=e.getBoundingClientRect().top;t.scrollBy(0,r-n)}}else t.scrollTo(0,0)}function s(){var e,t=n.hash();t?(e=l.getElementById(t))?o(e):(e=i(l.getElementsByName(t)))?o(e):"top"===t&&o(null):o(null)}var l=t.document;return e&&r.$watch(function(){return n.hash()},function(e,t){(e!==t||""!==e)&&Le(function(){r.$evalAsync(s)})}),s}]}function We(){this.$get=["$$rAF","$timeout",function(e,t){return e.supported?function(t){return e(t)}:function(e){return t(e,0,!1)}}]}function Ge(e,t,r,i){function o(e){try{e.apply(null,H(arguments,1))}finally{if(E--,0===E)for(;_.length;)try{_.pop()()}catch(t){r.error(t)}}}function s(e){var t=e.indexOf("#");return-1===t?"":e.substr(t+1)}function l(e,t){!function n(){a(k,function(e){e()}),S=t(n,e)}()}function u(){d(),f()}function c(){try{return b.state}catch(e){}}function d(){T=c(),T=v(T)?null:T,F(T,L)&&(T=L),L=T}function f(){(A!==g.url()||O!==T)&&(A=g.url(),O=T,a(N,function(e){e(g.url(),T)}))}function p(e){try{return decodeURIComponent(e)}catch(t){return e}}var g=this,m=t[0],y=e.location,b=e.history,$=e.setTimeout,x=e.clearTimeout,C={};g.isMock=!1;var E=0,_=[];g.$$completeOutstandingRequest=o,g.$$incOutstandingRequestCount=function(){E++},g.notifyWhenNoOutstandingRequests=function(e){a(k,function(e){e()}),0===E?e():_.push(e)};var S,k=[];g.addPollFn=function(e){return v(S)&&l(100,$),k.push(e),e};var T,O,A=y.href,R=t.find("base"),M=null;d(),O=T,g.url=function(t,n,r){if(v(r)&&(r=null),y!==e.location&&(y=e.location),b!==e.history&&(b=e.history),t){var a=O===r;if(A===t&&(!i.history||a))return g;var o=A&&$t(A)===$t(t);return A=t,O=r,!i.history||o&&a?(o||(M=t),n?y.replace(t):o?y.hash=s(t):y.href=t):(b[n?"replaceState":"pushState"](r,"",t),d(),O=T),g}return M||y.href.replace(/%27/g,"'")},g.state=function(){return T};var N=[],D=!1,L=null;g.onUrlChange=function(t){return D||(i.history&&tr(e).on("popstate",u),tr(e).on("hashchange",u),D=!0),N.push(t),t},g.$$checkUrlChange=f,g.baseHref=function(){var e=R.attr("href");return e?e.replace(/^(https?\:)?\/\/[^\/]*/,""):""};var P={},I="",j=g.baseHref();g.cookies=function(e,t){var i,a,o,s,l;if(!e){if(m.cookie!==I)for(I=m.cookie,a=I.split("; "),P={},s=0;s<a.length;s++)o=a[s],l=o.indexOf("="),l>0&&(e=p(o.substring(0,l)),P[e]===n&&(P[e]=p(o.substring(l+1))));return P}t===n?m.cookie=encodeURIComponent(e)+"=;path="+j+";expires=Thu, 01 Jan 1970 00:00:00 GMT":w(t)&&(i=(m.cookie=encodeURIComponent(e)+"="+encodeURIComponent(t)+";path="+j).length+1,i>4096&&r.warn("Cookie '"+e+"' possibly not set or overflowed because it was too large ("+i+" > 4096 bytes)!"))},g.defer=function(e,t){var n;return E++,n=$(function(){delete C[n],o(e)},t||0),C[n]=!0,n},g.defer.cancel=function(e){return C[e]?(delete C[e],x(e),o(h),!0):!1}}function Ke(){this.$get=["$window","$log","$sniffer","$document",function(e,t,n,r){return new Ge(e,r,t,n)}]}function Ye(){this.$get=function(){function e(e,n){function i(e){e!=f&&(p?p==e&&(p=e.n):p=e,a(e.n,e.p),a(e,f),f=e,f.n=null)}function a(e,t){e!=t&&(e&&(e.p=t),t&&(t.n=e))}if(e in t)throw r("$cacheFactory")("iid","CacheId '{0}' is already taken!",e);var o=0,s=d({},n,{id:e}),l={},u=n&&n.capacity||Number.MAX_VALUE,c={},f=null,p=null;return t[e]={put:function(e,t){if(u<Number.MAX_VALUE){var n=c[e]||(c[e]={key:e});i(n)}if(!v(t))return e in l||o++,l[e]=t,o>u&&this.remove(p.key),t},get:function(e){if(u<Number.MAX_VALUE){var t=c[e];if(!t)return;i(t)}return l[e]},remove:function(e){if(u<Number.MAX_VALUE){var t=c[e];if(!t)return;t==f&&(f=t.p),t==p&&(p=t.n),a(t.n,t.p),delete c[e]}delete l[e],o--},removeAll:function(){l={},o=0,c={},f=p=null},destroy:function(){l=null,s=null,c=null,delete t[e]},info:function(){return d({},s,{size:o})}}}var t={};return e.info=function(){var e={};return a(t,function(t,n){e[n]=t.info()}),e},e.get=function(e){return t[e]},e}}function Xe(){this.$get=["$cacheFactory",function(e){return e("templates")}]}function Qe(e,r){function i(e,t){var n=/^\s*([@&]|=(\*?))(\??)\s*(\w*)\s*$/,r={};return a(e,function(e,i){var a=e.match(n);if(!a)throw Yr("iscp","Invalid isolate scope definition for directive '{0}'. Definition: {... {1}: '{2}' ...}",t,i,e);r[i]={mode:a[1][0],collection:"*"===a[2],optional:"?"===a[3],attrName:a[4]||i}}),r}var o={},s="Directive",u=/^\s*directive\:\s*([\w\-]+)\s+(.*)$/,c=/(([\w\-]+)(?:\:([^;]+))?;?)/,f=N("ngSrc,ngSrcset,src,srcset"),v=/^(?:(\^\^?)?(\?)?(\^\^?)?)?/,$=/^(on[a-z]+|formaction)$/;this.directive=function E(t,n){return oe(t,"directive"),w(t)?(ie(n,"directiveFactory"),o.hasOwnProperty(t)||(o[t]=[],e.factory(t+s,["$injector","$exceptionHandler",function(e,n){var r=[];return a(o[t],function(a,o){try{var s=e.invoke(a);C(s)?s={compile:m(s)}:!s.compile&&s.link&&(s.compile=m(s.link)),s.priority=s.priority||0,s.index=o,s.name=s.name||t,s.require=s.require||s.controller&&s.name,s.restrict=s.restrict||"EA",b(s.scope)&&(s.$$isolateBindings=i(s.scope,s.name)),r.push(s)}catch(l){n(l)}}),r}])),o[t].push(n)):a(t,l(E)),this},this.aHrefSanitizationWhitelist=function(e){return y(e)?(r.aHrefSanitizationWhitelist(e),this):r.aHrefSanitizationWhitelist()},this.imgSrcSanitizationWhitelist=function(e){return y(e)?(r.imgSrcSanitizationWhitelist(e),this):r.imgSrcSanitizationWhitelist()};var x=!0;this.debugInfoEnabled=function(e){return y(e)?(x=e,this):x},this.$get=["$injector","$interpolate","$exceptionHandler","$templateRequest","$parse","$controller","$rootScope","$document","$sce","$animate","$$sanitizeUri",function(e,r,i,l,m,y,E,_,k,T,O){function A(e,t){try{e.addClass(t)}catch(n){}}function R(e,t,n,r,i){e instanceof tr||(e=tr(e)),a(e,function(t,n){t.nodeType==wr&&t.nodeValue.match(/\S+/)&&(e[n]=tr(t).wrap("<span></span>").parent()[0])});var o=N(e,t,e,n,r,i);R.$$addScopeClass(e);var s=null;return function(t,n,r){ie(t,"scope"),r=r||{};var i=r.parentBoundTranscludeFn,a=r.transcludeControllers,l=r.futureParentElement;i&&i.$$boundTransclude&&(i=i.$$boundTransclude),s||(s=M(l));var u;if(u="html"!==s?tr(J(s,tr("<div>").append(e).html())):n?Fr.clone.call(e):e,a)for(var c in a)u.data("$"+c+"Controller",a[c].instance);return R.$$addScopeInfo(u,t),n&&n(u,t),o&&o(t,u,u,i),u}}function M(e){var t=e&&e[0];return t&&"foreignobject"!==D(t)&&t.toString().match(/SVG/)?"svg":"html"}function N(e,t,r,i,a,o){function s(e,r,i,a){var o,s,l,u,c,d,f,p,m;if(h){var v=r.length;for(m=new Array(v),c=0;c<g.length;c+=3)f=g[c],m[f]=r[f]}else m=r;for(c=0,d=g.length;d>c;)l=m[g[c++]],o=g[c++],s=g[c++],o?(o.scope?(u=e.$new(),R.$$addScopeInfo(tr(l),u)):u=e,p=o.transcludeOnThisElement?P(e,o.transclude,a,o.elementTranscludeOnThisElement):!o.templateOnThisElement&&a?a:!a&&t?P(e,t):null,o(s,u,l,i,p)):s&&s(e,l.childNodes,n,a)}for(var l,u,c,d,f,p,h,g=[],m=0;m<e.length;m++)l=new oe,u=I(e[m],[],l,0===m?i:n,a),c=u.length?V(u,e[m],l,t,r,null,[],[],o):null,c&&c.scope&&R.$$addScopeClass(l.$$element),f=c&&c.terminal||!(d=e[m].childNodes)||!d.length?null:N(d,c?(c.transcludeOnThisElement||!c.templateOnThisElement)&&c.transclude:t),(c||f)&&(g.push(m,c,f),p=!0,h=h||c),o=null;return p?s:null}function P(e,t,n,r){var i=function(r,i,a,o,s){return r||(r=e.$new(!1,s),r.$$transcluded=!0),t(r,i,{parentBoundTranscludeFn:n,transcludeControllers:a,futureParentElement:o})};return i}function I(e,t,n,r,i){var a,o,s=e.nodeType,l=n.$attr;switch(s){case br:z(t,Je(D(e)),"E",r,i);for(var d,f,p,h,g,m,v=e.attributes,y=0,$=v&&v.length;$>y;y++){var x=!1,C=!1;d=v[y],f=d.name,g=pr(d.value),h=Je(f),(m=de.test(h))&&(f=f.replace(Xr,"").substr(8).replace(/_(.)/g,function(e,t){return t.toUpperCase()}));var E=h.replace(/(Start|End)$/,"");W(E)&&h===E+"Start"&&(x=f,C=f.substr(0,f.length-5)+"end",f=f.substr(0,f.length-6)),p=Je(f.toLowerCase()),l[p]=f,(m||!n.hasOwnProperty(p))&&(n[p]=g,Pe(e,p)&&(n[p]=!0)),ee(e,t,g,p,m),z(t,p,"A",r,i,x,C)}if(o=e.className,b(o)&&(o=o.animVal),w(o)&&""!==o)for(;a=c.exec(o);)p=Je(a[2]),z(t,p,"C",r,i)&&(n[p]=pr(a[3])),o=o.substr(a.index+a[0].length);break;case wr:Q(t,e.nodeValue);break;case $r:try{a=u.exec(e.nodeValue),a&&(p=Je(a[1]),z(t,p,"M",r,i)&&(n[p]=pr(a[2])))}catch(_){}}return t.sort(Y),t}function j(e,t,n){var r=[],i=0;if(t&&e.hasAttribute&&e.hasAttribute(t)){do{if(!e)throw Yr("uterdir","Unterminated attribute, found '{0}' but no matching '{1}' found.",t,n);e.nodeType==br&&(e.hasAttribute(t)&&i++,e.hasAttribute(n)&&i--),r.push(e),e=e.nextSibling}while(i>0)}else r.push(e);return tr(r)}function B(e,t,n){return function(r,i,a,o,s){return i=j(i[0],t,n),e(r,i,a,o,s)}}function V(e,o,s,l,u,c,d,f,p){function h(e,t,n,r){e&&(n&&(e=B(e,n,r)),e.require=_.require,e.directiveName=k,(D===_||_.$$isolateScope)&&(e=re(e,{isolateScope:!0})),d.push(e)),t&&(n&&(t=B(t,n,r)),t.require=_.require,t.directiveName=k,(D===_||_.$$isolateScope)&&(t=re(t,{isolateScope:!0})),f.push(t))}function g(e,t,n,r){var i,o,s="data",l=!1,u=n;if(w(t)){if(o=t.match(v),t=t.substring(o[0].length),o[3]&&(o[1]?o[3]=null:o[1]=o[3]),"^"===o[1]?s="inheritedData":"^^"===o[1]&&(s="inheritedData",u=n.parent()),"?"===o[2]&&(l=!0),i=null,r&&"data"===s&&(i=r[t])&&(i=i.instance),i=i||u[s]("$"+t+"Controller"),!i&&!l)throw Yr("ctreq","Controller '{0}', required by directive '{1}', can't be found!",t,e);return i||null}return fr(t)&&(i=[],a(t,function(t){i.push(g(e,t,n,r))})),i}function $(e,t,i,l,u){function c(e,t,r){var i;return S(e)||(r=t,t=e,e=n),W&&(i=$),r||(r=W?C.parent():C),u(e,t,i,r,O)}var p,h,v,b,w,$,x,C,_;if(o===i?(_=s,C=s.$$element):(C=tr(i),_=new oe(C,s)),D&&(w=t.$new(!0)),u&&(x=c,x.$$boundTransclude=u),N&&(E={},$={},a(N,function(e){var n,r={$scope:e===D||e.$$isolateScope?w:t,$element:C,$attrs:_,$transclude:x};b=e.controller,"@"==b&&(b=_[e.name]),n=y(b,r,!0,e.controllerAs),$[e.name]=n,W||C.data("$"+e.name+"Controller",n.instance),E[e.name]=n})),D){R.$$addScopeInfo(C,w,!0,!(L&&(L===D||L===D.$$originalDirective))),R.$$addScopeClass(C,!0);var k=E&&E[D.name],T=w;k&&k.identifier&&D.bindToController===!0&&(T=k.instance),a(w.$$isolateBindings=D.$$isolateBindings,function(e,n){var i,a,o,s,l=e.attrName,u=e.optional,c=e.mode;switch(c){case"@":_.$observe(l,function(e){T[n]=e}),_.$$observers[l].$$scope=t,_[l]&&(T[n]=r(_[l])(t));break;case"=":if(u&&!_[l])return;a=m(_[l]),s=a.literal?F:function(e,t){return e===t||e!==e&&t!==t},o=a.assign||function(){throw i=T[n]=a(t),Yr("nonassign","Expression '{0}' used with directive '{1}' is non-assignable!",_[l],D.name)},i=T[n]=a(t);var d=function(e){return s(e,T[n])||(s(e,i)?o(t,e=T[n]):T[n]=e),i=e};d.$stateful=!0;var f;f=e.collection?t.$watchCollection(_[l],d):t.$watch(m(_[l],d),null,a.literal),w.$on("$destroy",f);break;case"&":a=m(_[l]),T[n]=function(e){return a(t,e)}}})}for(E&&(a(E,function(e){e()}),E=null),p=0,h=d.length;h>p;p++)v=d[p],ae(v,v.isolateScope?w:t,C,_,v.require&&g(v.directiveName,v.require,C,$),x);var O=t;for(D&&(D.template||null===D.templateUrl)&&(O=w),e&&e(O,i.childNodes,n,u),p=f.length-1;p>=0;p--)v=f[p],ae(v,v.isolateScope?w:t,C,_,v.require&&g(v.directiveName,v.require,C,$),x)}p=p||{};for(var x,E,_,k,T,O,A,M=-Number.MAX_VALUE,N=p.controllerDirectives,D=p.newIsolateScopeDirective,L=p.templateDirective,P=p.nonTlbTranscludeDirective,V=!1,z=!1,W=p.hasElementTranscludeDirective,Y=s.$$element=tr(o),Q=c,Z=l,ee=0,ne=e.length;ne>ee;ee++){_=e[ee];var ie=_.$$start,se=_.$$end;if(ie&&(Y=j(o,ie,se)),T=n,M>_.priority)break;if((A=_.scope)&&(_.templateUrl||(b(A)?(X("new/isolated scope",D||x,_,Y),D=_):X("new/isolated scope",D,_,Y)),x=x||_),k=_.name,!_.templateUrl&&_.controller&&(A=_.controller,N=N||{},X("'"+k+"' controller",N[k],_,Y),N[k]=_),(A=_.transclude)&&(V=!0,_.$$tlb||(X("transclusion",P,_,Y),P=_),"element"==A?(W=!0,M=_.priority,T=Y,Y=s.$$element=tr(t.createComment(" "+k+": "+s[k]+" ")),o=Y[0],te(u,H(T),o),Z=R(T,l,M,Q&&Q.name,{nonTlbTranscludeDirective:P})):(T=tr($e(o)).contents(),Y.empty(),Z=R(T,l))),_.template)if(z=!0,X("template",L,_,Y),L=_,A=C(_.template)?_.template(Y,s):_.template,A=ce(A),_.replace){if(Q=_,T=me(A)?[]:et(J(_.templateNamespace,pr(A))),o=T[0],1!=T.length||o.nodeType!==br)throw Yr("tplrt","Template for directive '{0}' must have exactly one root element. {1}",k,"");te(u,Y,o);var le={$attr:{}},ue=I(o,[],le),de=e.splice(ee+1,e.length-(ee+1));D&&U(ue),e=e.concat(ue).concat(de),G(s,le),ne=e.length}else Y.html(A);if(_.templateUrl)z=!0,X("template",L,_,Y),L=_,_.replace&&(Q=_),$=K(e.splice(ee,e.length-ee),Y,s,u,V&&Z,d,f,{controllerDirectives:N,newIsolateScopeDirective:D,templateDirective:L,nonTlbTranscludeDirective:P}),ne=e.length;else if(_.compile)try{O=_.compile(Y,s,Z),C(O)?h(null,O,ie,se):O&&h(O.pre,O.post,ie,se)}catch(fe){i(fe,q(Y))}_.terminal&&($.terminal=!0,M=Math.max(M,_.priority))}return $.scope=x&&x.scope===!0,$.transcludeOnThisElement=V,$.elementTranscludeOnThisElement=W,$.templateOnThisElement=z,$.transclude=Z,p.hasElementTranscludeDirective=W,$}function U(e){for(var t=0,n=e.length;n>t;t++)e[t]=p(e[t],{$$isolateScope:!0})}function z(t,r,a,l,u,c,d){if(r===u)return null;var f=null;if(o.hasOwnProperty(r))for(var h,g=e.get(r+s),m=0,v=g.length;v>m;m++)try{h=g[m],(l===n||l>h.priority)&&-1!=h.restrict.indexOf(a)&&(c&&(h=p(h,{
$$start:c,$$end:d})),t.push(h),f=h)}catch(y){i(y)}return f}function W(t){if(o.hasOwnProperty(t))for(var n,r=e.get(t+s),i=0,a=r.length;a>i;i++)if(n=r[i],n.multiElement)return!0;return!1}function G(e,t){var n=t.$attr,r=e.$attr,i=e.$$element;a(e,function(r,i){"$"!=i.charAt(0)&&(t[i]&&t[i]!==r&&(r+=("style"===i?";":" ")+t[i]),e.$set(i,r,!0,n[i]))}),a(t,function(t,a){"class"==a?(A(i,t),e["class"]=(e["class"]?e["class"]+" ":"")+t):"style"==a?(i.attr("style",i.attr("style")+";"+t),e.style=(e.style?e.style+";":"")+t):"$"==a.charAt(0)||e.hasOwnProperty(a)||(e[a]=t,r[a]=n[a])})}function K(e,t,n,r,i,o,s,u){var c,d,f=[],h=t[0],g=e.shift(),m=p(g,{templateUrl:null,transclude:null,replace:null,$$originalDirective:g}),v=C(g.templateUrl)?g.templateUrl(t,n):g.templateUrl,y=g.templateNamespace;return t.empty(),l(k.getTrustedResourceUrl(v)).then(function(l){var p,w,$,x;if(l=ce(l),g.replace){if($=me(l)?[]:et(J(y,pr(l))),p=$[0],1!=$.length||p.nodeType!==br)throw Yr("tplrt","Template for directive '{0}' must have exactly one root element. {1}",g.name,v);w={$attr:{}},te(r,t,p);var C=I(p,[],w);b(g.scope)&&U(C),e=C.concat(e),G(n,w)}else p=h,t.html(l);for(e.unshift(m),c=V(e,p,n,i,t,g,o,s,u),a(r,function(e,n){e==p&&(r[n]=t[0])}),d=N(t[0].childNodes,i);f.length;){var E=f.shift(),_=f.shift(),S=f.shift(),k=f.shift(),T=t[0];if(!E.$$destroyed){if(_!==h){var O=_.className;u.hasElementTranscludeDirective&&g.replace||(T=$e(p)),te(S,tr(_),T),A(tr(T),O)}x=c.transcludeOnThisElement?P(E,c.transclude,k):k,c(d,E,T,r,x)}}f=null}),function(e,t,n,r,i){var a=i;t.$$destroyed||(f?f.push(t,n,r,a):(c.transcludeOnThisElement&&(a=P(t,c.transclude,i)),c(d,t,n,r,a)))}}function Y(e,t){var n=t.priority-e.priority;return 0!==n?n:e.name!==t.name?e.name<t.name?-1:1:e.index-t.index}function X(e,t,n,r){if(t)throw Yr("multidir","Multiple directives [{0}, {1}] asking for {2} on: {3}",t.name,n.name,e,q(r))}function Q(e,t){var n=r(t,!0);n&&e.push({priority:0,compile:function(e){var t=e.parent(),r=!!t.length;return r&&R.$$addBindingClass(t),function(e,t){var i=t.parent();r||R.$$addBindingClass(i),R.$$addBindingInfo(i,n.expressions),e.$watch(n,function(e){t[0].nodeValue=e})}}})}function J(e,n){switch(e=Yn(e||"html")){case"svg":case"math":var r=t.createElement("div");return r.innerHTML="<"+e+">"+n+"</"+e+">",r.childNodes[0].childNodes;default:return n}}function Z(e,t){if("srcdoc"==t)return k.HTML;var n=D(e);return"xlinkHref"==t||"form"==n&&"action"==t||"img"!=n&&("src"==t||"ngSrc"==t)?k.RESOURCE_URL:void 0}function ee(e,t,n,i,a){var o=Z(e,i);a=f[i]||a;var s=r(n,!0,o,a);if(s){if("multiple"===i&&"select"===D(e))throw Yr("selmulti","Binding to the 'multiple' attribute is not supported. Element: {0}",q(e));t.push({priority:100,compile:function(){return{pre:function(e,t,l){var u=l.$$observers||(l.$$observers={});if($.test(i))throw Yr("nodomevents","Interpolations for HTML DOM event attributes are disallowed.  Please use the ng- versions (such as ng-click instead of onclick) instead.");var c=l[i];c!==n&&(s=c&&r(c,!0,o,a),n=c),s&&(l[i]=s(e),(u[i]||(u[i]=[])).$$inter=!0,(l.$$observers&&l.$$observers[i].$$scope||e).$watch(s,function(e,t){"class"===i&&e!=t?l.$updateClass(e,t):l.$set(i,e)}))}}}})}}function te(e,n,r){var i,a,o=n[0],s=n.length,l=o.parentNode;if(e)for(i=0,a=e.length;a>i;i++)if(e[i]==o){e[i++]=r;for(var u=i,c=u+s-1,d=e.length;d>u;u++,c++)d>c?e[u]=e[c]:delete e[u];e.length-=s-1,e.context===o&&(e.context=r);break}l&&l.replaceChild(r,o);var f=t.createDocumentFragment();f.appendChild(o),tr(r).data(tr(o).data()),nr?(dr=!0,nr.cleanData([o])):delete tr.cache[o[tr.expando]];for(var p=1,h=n.length;h>p;p++){var g=n[p];tr(g).remove(),f.appendChild(g),delete n[p]}n[0]=r,n.length=1}function re(e,t){return d(function(){return e.apply(null,arguments)},e,t)}function ae(e,t,n,r,a,o){try{e(t,n,r,a,o)}catch(s){i(s,q(n))}}var oe=function(e,t){if(t){var n,r,i,a=Object.keys(t);for(n=0,r=a.length;r>n;n++)i=a[n],this[i]=t[i]}else this.$attr={};this.$$element=e};oe.prototype={$normalize:Je,$addClass:function(e){e&&e.length>0&&T.addClass(this.$$element,e)},$removeClass:function(e){e&&e.length>0&&T.removeClass(this.$$element,e)},$updateClass:function(e,t){var n=Ze(e,t);n&&n.length&&T.addClass(this.$$element,n);var r=Ze(t,e);r&&r.length&&T.removeClass(this.$$element,r)},$set:function(e,t,r,o){var s,l=this.$$element[0],u=Pe(l,e),c=Ie(l,e),d=e;if(u?(this.$$element.prop(e,t),o=u):c&&(this[c]=t,d=c),this[e]=t,o?this.$attr[e]=o:(o=this.$attr[e],o||(this.$attr[e]=o=ne(e,"-"))),s=D(this.$$element),"a"===s&&"href"===e||"img"===s&&"src"===e)this[e]=t=O(t,"src"===e);else if("img"===s&&"srcset"===e){for(var f="",p=pr(t),h=/(\s+\d+x\s*,|\s+\d+w\s*,|\s+,|,\s+)/,g=/\s/.test(p)?h:/(,)/,m=p.split(g),v=Math.floor(m.length/2),y=0;v>y;y++){var b=2*y;f+=O(pr(m[b]),!0),f+=" "+pr(m[b+1])}var w=pr(m[2*y]).split(/\s/);f+=O(pr(w[0]),!0),2===w.length&&(f+=" "+pr(w[1])),this[e]=t=f}r!==!1&&(null===t||t===n?this.$$element.removeAttr(o):this.$$element.attr(o,t));var $=this.$$observers;$&&a($[d],function(e){try{e(t)}catch(n){i(n)}})},$observe:function(e,t){var n=this,r=n.$$observers||(n.$$observers=ue()),i=r[e]||(r[e]=[]);return i.push(t),E.$evalAsync(function(){!i.$$inter&&n.hasOwnProperty(e)&&t(n[e])}),function(){L(i,t)}}};var se=r.startSymbol(),le=r.endSymbol(),ce="{{"==se||"}}"==le?g:function(e){return e.replace(/\{\{/g,se).replace(/}}/g,le)},de=/^ngAttr[A-Z]/;return R.$$addBindingInfo=x?function(e,t){var n=e.data("$binding")||[];fr(t)?n=n.concat(t):n.push(t),e.data("$binding",n)}:h,R.$$addBindingClass=x?function(e){A(e,"ng-binding")}:h,R.$$addScopeInfo=x?function(e,t,n,r){var i=n?r?"$isolateScopeNoTemplate":"$isolateScope":"$scope";e.data(i,t)}:h,R.$$addScopeClass=x?function(e,t){A(e,t?"ng-isolate-scope":"ng-scope")}:h,R}]}function Je(e){return ge(e.replace(Xr,""))}function Ze(e,t){var n="",r=e.split(/\s+/),i=t.split(/\s+/);e:for(var a=0;a<r.length;a++){for(var o=r[a],s=0;s<i.length;s++)if(o==i[s])continue e;n+=(n.length>0?" ":"")+o}return n}function et(e){e=tr(e);var t=e.length;if(1>=t)return e;for(;t--;){var n=e[t];n.nodeType===$r&&ar.call(e,t,1)}return e}function tt(){var e={},t=!1,i=/^(\S+)(\s+as\s+(\w+))?$/;this.register=function(t,n){oe(t,"controller"),b(t)?d(e,t):e[t]=n},this.allowGlobals=function(){t=!0},this.$get=["$injector","$window",function(a,o){function s(e,t,n,i){if(!e||!b(e.$scope))throw r("$controller")("noscp","Cannot export controller '{0}' as '{1}'! No $scope object provided via `locals`.",i,t);e.$scope[t]=n}return function(r,l,u,c){var f,p,h,g;if(u=u===!0,c&&w(c)&&(g=c),w(r)){if(p=r.match(i),!p)throw Qr("ctrlfmt","Badly formed controller string '{0}'. Must match `__name__ as __id__` or `__name__`.",r);h=p[1],g=g||p[3],r=e.hasOwnProperty(h)?e[h]:se(l.$scope,h,!0)||(t?se(o,h,!0):n),ae(r,h,!0)}if(u){var m=(fr(r)?r[r.length-1]:r).prototype;return f=Object.create(m||null),g&&s(l,g,f,h||r.name),d(function(){return a.invoke(r,f,l,h),f},{instance:f,identifier:g})}return f=a.instantiate(r,l,h),g&&s(l,g,f,h||r.name),f}}]}function nt(){this.$get=["$window",function(e){return tr(e.document)}]}function rt(){this.$get=["$log",function(e){return function(t,n){e.error.apply(e,arguments)}}]}function it(e,t){if(w(e)){var n=e.replace(ni,"").trim();if(n){var r=t("Content-Type");(r&&0===r.indexOf(Jr)||at(n))&&(e=z(n))}}return e}function at(e){var t=e.match(ei);return t&&ti[t[0]].test(e)}function ot(e){var t,n,r,i=ue();return e?(a(e.split("\n"),function(e){r=e.indexOf(":"),t=Yn(pr(e.substr(0,r))),n=pr(e.substr(r+1)),t&&(i[t]=i[t]?i[t]+", "+n:n)}),i):i}function st(e){var t=b(e)?e:n;return function(n){if(t||(t=ot(e)),n){var r=t[Yn(n)];return void 0===r&&(r=null),r}return t}}function lt(e,t,n,r){return C(r)?r(e,t,n):(a(r,function(r){e=r(e,t,n)}),e)}function ut(e){return e>=200&&300>e}function ct(){var e=this.defaults={transformResponse:[it],transformRequest:[function(e){return!b(e)||k(e)||O(e)||T(e)?e:U(e)}],headers:{common:{Accept:"application/json, text/plain, */*"},post:I(Zr),put:I(Zr),patch:I(Zr)},xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN"},t=!1;this.useApplyAsync=function(e){return y(e)?(t=!!e,this):t};var i=this.interceptors=[];this.$get=["$httpBackend","$browser","$cacheFactory","$rootScope","$q","$injector",function(o,l,u,c,f,p){function h(t){function i(e){var t=d({},e);return e.data?t.data=lt(e.data,e.headers,e.status,l.transformResponse):t.data=e.data,ut(e.status)?t:f.reject(t)}function o(e){var t,n={};return a(e,function(e,r){C(e)?(t=e(),null!=t&&(n[r]=t)):n[r]=e}),n}function s(t){var n,r,i,a=e.headers,s=d({},t.headers);a=d({},a.common,a[Yn(t.method)]);e:for(n in a){r=Yn(n);for(i in s)if(Yn(i)===r)continue e;s[n]=a[n]}return o(s)}if(!ur.isObject(t))throw r("$http")("badreq","Http request configuration must be an object.  Received: {0}",t);var l=d({method:"get",transformRequest:e.transformRequest,transformResponse:e.transformResponse},t);l.headers=s(t),l.method=Qn(l.method);var u=function(t){var r=t.headers,o=lt(t.data,st(r),n,t.transformRequest);return v(o)&&a(r,function(e,t){"content-type"===Yn(t)&&delete r[t]}),v(t.withCredentials)&&!v(e.withCredentials)&&(t.withCredentials=e.withCredentials),$(t,o).then(i,i)},c=[u,n],p=f.when(l);for(a(S,function(e){(e.request||e.requestError)&&c.unshift(e.request,e.requestError),(e.response||e.responseError)&&c.push(e.response,e.responseError)});c.length;){var h=c.shift(),g=c.shift();p=p.then(h,g)}return p.success=function(e){return p.then(function(t){e(t.data,t.status,t.headers,l)}),p},p.error=function(e){return p.then(null,function(t){e(t.data,t.status,t.headers,l)}),p},p}function g(e){a(arguments,function(e){h[e]=function(t,n){return h(d(n||{},{method:e,url:t}))}})}function m(e){a(arguments,function(e){h[e]=function(t,n,r){return h(d(r||{},{method:e,url:t,data:n}))}})}function $(r,i){function a(e,n,r,i){function a(){s(n,e,r,i)}p&&(ut(e)?p.put(x,[e,n,ot(r),i]):p.remove(x)),t?c.$applyAsync(a):(a(),c.$$phase||c.$apply())}function s(e,t,n,i){t=Math.max(t,0),(ut(t)?m.resolve:m.reject)({data:e,status:t,headers:st(n),config:r,statusText:i})}function u(e){s(e.data,e.status,I(e.headers()),e.statusText)}function d(){var e=h.pendingRequests.indexOf(r);-1!==e&&h.pendingRequests.splice(e,1)}var p,g,m=f.defer(),w=m.promise,$=r.headers,x=E(r.url,r.params);if(h.pendingRequests.push(r),w.then(d,d),!r.cache&&!e.cache||r.cache===!1||"GET"!==r.method&&"JSONP"!==r.method||(p=b(r.cache)?r.cache:b(e.cache)?e.cache:_),p&&(g=p.get(x),y(g)?R(g)?g.then(u,u):fr(g)?s(g[1],g[0],I(g[2]),g[3]):s(g,200,{},"OK"):p.put(x,w)),v(g)){var C=an(r.url)?l.cookies()[r.xsrfCookieName||e.xsrfCookieName]:n;C&&($[r.xsrfHeaderName||e.xsrfHeaderName]=C),o(r.method,x,i,a,$,r.timeout,r.withCredentials,r.responseType)}return w}function E(e,t){if(!t)return e;var n=[];return s(t,function(e,t){null===e||v(e)||(fr(e)||(e=[e]),a(e,function(e){b(e)&&(e=x(e)?e.toISOString():U(e)),n.push(X(t)+"="+X(e))}))}),n.length>0&&(e+=(-1==e.indexOf("?")?"?":"&")+n.join("&")),e}var _=u("$http"),S=[];return a(i,function(e){S.unshift(w(e)?p.get(e):p.invoke(e))}),h.pendingRequests=[],g("get","delete","head","jsonp"),m("post","put","patch"),h.defaults=e,h}]}function dt(){return new e.XMLHttpRequest}function ft(){this.$get=["$browser","$window","$document",function(e,t,n){return pt(e,dt,e.defer,t.angular.callbacks,n[0])}]}function pt(e,t,r,i,o){function s(e,t,n){var r=o.createElement("script"),a=null;return r.type="text/javascript",r.src=e,r.async=!0,a=function(e){Tr(r,"load",a),Tr(r,"error",a),o.body.removeChild(r),r=null;var s=-1,l="unknown";e&&("load"!==e.type||i[t].called||(e={type:"error"}),l=e.type,s="error"===e.type?404:200),n&&n(s,l)},kr(r,"load",a),kr(r,"error",a),o.body.appendChild(r),a}return function(o,l,u,c,d,f,p,g){function m(){w&&w(),$&&$.abort()}function v(t,i,a,o,s){E!==n&&r.cancel(E),w=$=null,t(i,a,o,s),e.$$completeOutstandingRequest(h)}if(e.$$incOutstandingRequestCount(),l=l||e.url(),"jsonp"==Yn(o)){var b="_"+(i.counter++).toString(36);i[b]=function(e){i[b].data=e,i[b].called=!0};var w=s(l.replace("JSON_CALLBACK","angular.callbacks."+b),b,function(e,t){v(c,e,i[b].data,"",t),i[b]=h})}else{var $=t();$.open(o,l,!0),a(d,function(e,t){y(e)&&$.setRequestHeader(t,e)}),$.onload=function(){var e=$.statusText||"",t="response"in $?$.response:$.responseText,n=1223===$.status?204:$.status;0===n&&(n=t?200:"file"==rn(l).protocol?404:0),v(c,n,t,$.getAllResponseHeaders(),e)};var x=function(){v(c,-1,null,null,"")};if($.onerror=x,$.onabort=x,p&&($.withCredentials=!0),g)try{$.responseType=g}catch(C){if("json"!==g)throw C}$.send(u||null)}if(f>0)var E=r(m,f);else R(f)&&f.then(m)}}function ht(){var e="{{",t="}}";this.startSymbol=function(t){return t?(e=t,this):e},this.endSymbol=function(e){return e?(t=e,this):t},this.$get=["$parse","$exceptionHandler","$sce",function(n,r,i){function a(e){return"\\\\\\"+e}function o(a,o,f,p){function h(n){return n.replace(u,e).replace(c,t)}function g(e){try{return e=O(e),p&&!y(e)?e:A(e)}catch(t){var n=ri("interr","Can't interpolate: {0}\n{1}",a,t.toString());r(n)}}p=!!p;for(var m,b,w,$=0,x=[],E=[],_=a.length,S=[],k=[];_>$;){if(-1==(m=a.indexOf(e,$))||-1==(b=a.indexOf(t,m+s))){$!==_&&S.push(h(a.substring($)));break}$!==m&&S.push(h(a.substring($,m))),w=a.substring(m+s,b),x.push(w),E.push(n(w,g)),$=b+l,k.push(S.length),S.push("")}if(f&&S.length>1)throw ri("noconcat","Error while interpolating: {0}\nStrict Contextual Escaping disallows interpolations that concatenate multiple expressions when a trusted value is required.  See http://docs.angularjs.org/api/ng.$sce",a);if(!o||x.length){var T=function(e){for(var t=0,n=x.length;n>t;t++){if(p&&v(e[t]))return;S[k[t]]=e[t]}return S.join("")},O=function(e){return f?i.getTrusted(f,e):i.valueOf(e)},A=function(e){if(null==e)return"";switch(typeof e){case"string":break;case"number":e=""+e;break;default:e=U(e)}return e};return d(function(e){var t=0,n=x.length,i=new Array(n);try{for(;n>t;t++)i[t]=E[t](e);return T(i)}catch(o){var s=ri("interr","Can't interpolate: {0}\n{1}",a,o.toString());r(s)}},{exp:a,expressions:x,$$watchDelegate:function(e,t,n){var r;return e.$watchGroup(E,function(n,i){var a=T(n);C(t)&&t.call(this,a,n!==i?r:a,e),r=a},n)}})}}var s=e.length,l=t.length,u=new RegExp(e.replace(/./g,a),"g"),c=new RegExp(t.replace(/./g,a),"g");return o.startSymbol=function(){return e},o.endSymbol=function(){return t},o}]}function gt(){this.$get=["$rootScope","$window","$q","$$q",function(e,t,n,r){function i(i,o,s,l){var u=t.setInterval,c=t.clearInterval,d=0,f=y(l)&&!l,p=(f?r:n).defer(),h=p.promise;return s=y(s)?s:0,h.then(null,null,i),h.$$intervalId=u(function(){p.notify(d++),s>0&&d>=s&&(p.resolve(d),c(h.$$intervalId),delete a[h.$$intervalId]),f||e.$apply()},o),a[h.$$intervalId]=p,h}var a={};return i.cancel=function(e){return e&&e.$$intervalId in a?(a[e.$$intervalId].reject("canceled"),t.clearInterval(e.$$intervalId),delete a[e.$$intervalId],!0):!1},i}]}function mt(){this.$get=function(){return{id:"en-us",NUMBER_FORMATS:{DECIMAL_SEP:".",GROUP_SEP:",",PATTERNS:[{minInt:1,minFrac:0,maxFrac:3,posPre:"",posSuf:"",negPre:"-",negSuf:"",gSize:3,lgSize:3},{minInt:1,minFrac:2,maxFrac:2,posPre:"¤",posSuf:"",negPre:"(¤",negSuf:")",gSize:3,lgSize:3}],CURRENCY_SYM:"$"},DATETIME_FORMATS:{MONTH:"January,February,March,April,May,June,July,August,September,October,November,December".split(","),SHORTMONTH:"Jan,Feb,Mar,Apr,May,Jun,Jul,Aug,Sep,Oct,Nov,Dec".split(","),DAY:"Sunday,Monday,Tuesday,Wednesday,Thursday,Friday,Saturday".split(","),SHORTDAY:"Sun,Mon,Tue,Wed,Thu,Fri,Sat".split(","),AMPMS:["AM","PM"],medium:"MMM d, y h:mm:ss a","short":"M/d/yy h:mm a",fullDate:"EEEE, MMMM d, y",longDate:"MMMM d, y",mediumDate:"MMM d, y",shortDate:"M/d/yy",mediumTime:"h:mm:ss a",shortTime:"h:mm a",ERANAMES:["Before Christ","Anno Domini"],ERAS:["BC","AD"]},pluralCat:function(e){return 1===e?"one":"other"}}}}function vt(e){for(var t=e.split("/"),n=t.length;n--;)t[n]=Y(t[n]);return t.join("/")}function yt(e,t){var n=rn(e);t.$$protocol=n.protocol,t.$$host=n.hostname,t.$$port=f(n.port)||ai[n.protocol]||null}function bt(e,t){var n="/"!==e.charAt(0);n&&(e="/"+e);var r=rn(e);t.$$path=decodeURIComponent(n&&"/"===r.pathname.charAt(0)?r.pathname.substring(1):r.pathname),t.$$search=G(r.search),t.$$hash=decodeURIComponent(r.hash),t.$$path&&"/"!=t.$$path.charAt(0)&&(t.$$path="/"+t.$$path)}function wt(e,t){return 0===t.indexOf(e)?t.substr(e.length):void 0}function $t(e){var t=e.indexOf("#");return-1==t?e:e.substr(0,t)}function xt(e){return e.replace(/(#.+)|#$/,"$1")}function Ct(e){return e.substr(0,$t(e).lastIndexOf("/")+1)}function Et(e){return e.substring(0,e.indexOf("/",e.indexOf("//")+2))}function _t(e,t){this.$$html5=!0,t=t||"";var r=Ct(e);yt(e,this),this.$$parse=function(e){var t=wt(r,e);if(!w(t))throw oi("ipthprfx",'Invalid url "{0}", missing path prefix "{1}".',e,r);bt(t,this),this.$$path||(this.$$path="/"),this.$$compose()},this.$$compose=function(){var e=K(this.$$search),t=this.$$hash?"#"+Y(this.$$hash):"";this.$$url=vt(this.$$path)+(e?"?"+e:"")+t,this.$$absUrl=r+this.$$url.substr(1)},this.$$parseLinkUrl=function(i,a){if(a&&"#"===a[0])return this.hash(a.slice(1)),!0;var o,s,l;return(o=wt(e,i))!==n?(s=o,l=(o=wt(t,o))!==n?r+(wt("/",o)||o):e+s):(o=wt(r,i))!==n?l=r+o:r==i+"/"&&(l=r),l&&this.$$parse(l),!!l}}function St(e,t){var n=Ct(e);yt(e,this),this.$$parse=function(r){function i(e,t,n){var r,i=/^\/[A-Z]:(\/.*)/;return 0===t.indexOf(n)&&(t=t.replace(n,"")),i.exec(t)?e:(r=i.exec(e),r?r[1]:e)}var a,o=wt(e,r)||wt(n,r);"#"===o.charAt(0)?(a=wt(t,o),v(a)&&(a=o)):a=this.$$html5?o:"",bt(a,this),this.$$path=i(this.$$path,a,e),this.$$compose()},this.$$compose=function(){var n=K(this.$$search),r=this.$$hash?"#"+Y(this.$$hash):"";this.$$url=vt(this.$$path)+(n?"?"+n:"")+r,this.$$absUrl=e+(this.$$url?t+this.$$url:"")},this.$$parseLinkUrl=function(t,n){return $t(e)==$t(t)?(this.$$parse(t),!0):!1}}function kt(e,t){this.$$html5=!0,St.apply(this,arguments);var n=Ct(e);this.$$parseLinkUrl=function(r,i){if(i&&"#"===i[0])return this.hash(i.slice(1)),!0;var a,o;return e==$t(r)?a=r:(o=wt(n,r))?a=e+t+o:n===r+"/"&&(a=n),a&&this.$$parse(a),!!a},this.$$compose=function(){var n=K(this.$$search),r=this.$$hash?"#"+Y(this.$$hash):"";this.$$url=vt(this.$$path)+(n?"?"+n:"")+r,this.$$absUrl=e+t+this.$$url}}function Tt(e){return function(){return this[e]}}function Ot(e,t){return function(n){return v(n)?this[e]:(this[e]=t(n),this.$$compose(),this)}}function At(){var e="",t={enabled:!1,requireBase:!0,rewriteLinks:!0};this.hashPrefix=function(t){return y(t)?(e=t,this):e},this.html5Mode=function(e){return A(e)?(t.enabled=e,this):b(e)?(A(e.enabled)&&(t.enabled=e.enabled),A(e.requireBase)&&(t.requireBase=e.requireBase),A(e.rewriteLinks)&&(t.rewriteLinks=e.rewriteLinks),this):t},this.$get=["$rootScope","$browser","$sniffer","$rootElement","$window",function(n,r,i,a,o){function s(e,t,n){var i=u.url(),a=u.$$state;try{r.url(e,t,n),u.$$state=r.state()}catch(o){throw u.url(i),u.$$state=a,o}}function l(e,t){n.$broadcast("$locationChangeSuccess",u.absUrl(),e,u.$$state,t)}var u,c,d,f=r.baseHref(),p=r.url();if(t.enabled){if(!f&&t.requireBase)throw oi("nobase","$location in HTML5 mode requires a <base> tag to be present!");d=Et(p)+(f||"/"),c=i.history?_t:kt}else d=$t(p),c=St;u=new c(d,"#"+e),u.$$parseLinkUrl(p,p),u.$$state=r.state();var h=/^\s*(javascript|mailto):/i;a.on("click",function(e){if(t.rewriteLinks&&!e.ctrlKey&&!e.metaKey&&!e.shiftKey&&2!=e.which&&2!=e.button){for(var i=tr(e.target);"a"!==D(i[0]);)if(i[0]===a[0]||!(i=i.parent())[0])return;var s=i.prop("href"),l=i.attr("href")||i.attr("xlink:href");b(s)&&"[object SVGAnimatedString]"===s.toString()&&(s=rn(s.animVal).href),h.test(s)||!s||i.attr("target")||e.isDefaultPrevented()||u.$$parseLinkUrl(s,l)&&(e.preventDefault(),u.absUrl()!=r.url()&&(n.$apply(),o.angular["ff-684208-preventDefault"]=!0))}}),xt(u.absUrl())!=xt(p)&&r.url(u.absUrl(),!0);var g=!0;return r.onUrlChange(function(e,t){n.$evalAsync(function(){var r,i=u.absUrl(),a=u.$$state;u.$$parse(e),u.$$state=t,r=n.$broadcast("$locationChangeStart",e,i,t,a).defaultPrevented,u.absUrl()===e&&(r?(u.$$parse(i),u.$$state=a,s(i,!1,a)):(g=!1,l(i,a)))}),n.$$phase||n.$digest()}),n.$watch(function(){var e=xt(r.url()),t=xt(u.absUrl()),a=r.state(),o=u.$$replace,c=e!==t||u.$$html5&&i.history&&a!==u.$$state;(g||c)&&(g=!1,n.$evalAsync(function(){var t=u.absUrl(),r=n.$broadcast("$locationChangeStart",t,e,u.$$state,a).defaultPrevented;u.absUrl()===t&&(r?(u.$$parse(e),u.$$state=a):(c&&s(t,o,a===u.$$state?null:u.$$state),l(e,a)))})),u.$$replace=!1}),u}]}function Rt(){var e=!0,t=this;this.debugEnabled=function(t){return y(t)?(e=t,this):e},this.$get=["$window",function(n){function r(e){return e instanceof Error&&(e.stack?e=e.message&&-1===e.stack.indexOf(e.message)?"Error: "+e.message+"\n"+e.stack:e.stack:e.sourceURL&&(e=e.message+"\n"+e.sourceURL+":"+e.line)),e}function i(e){var t=n.console||{},i=t[e]||t.log||h,o=!1;try{o=!!i.apply}catch(s){}return o?function(){var e=[];return a(arguments,function(t){e.push(r(t))}),i.apply(t,e)}:function(e,t){i(e,null==t?"":t)}}return{log:i("log"),info:i("info"),warn:i("warn"),error:i("error"),debug:function(){var n=i("debug");return function(){e&&n.apply(t,arguments)}}()}}]}function Mt(e,t){if("__defineGetter__"===e||"__defineSetter__"===e||"__lookupGetter__"===e||"__lookupSetter__"===e||"__proto__"===e)throw li("isecfld","Attempting to access a disallowed field in Angular expressions! Expression: {0}",t);return e}function Nt(e,t){if(e){if(e.constructor===e)throw li("isecfn","Referencing Function in Angular expressions is disallowed! Expression: {0}",t);if(e.window===e)throw li("isecwindow","Referencing the Window in Angular expressions is disallowed! Expression: {0}",t);if(e.children&&(e.nodeName||e.prop&&e.attr&&e.find))throw li("isecdom","Referencing DOM nodes in Angular expressions is disallowed! Expression: {0}",t);if(e===Object)throw li("isecobj","Referencing Object in Angular expressions is disallowed! Expression: {0}",t)}return e}function Dt(e,t){if(e){if(e.constructor===e)throw li("isecfn","Referencing Function in Angular expressions is disallowed! Expression: {0}",t);if(e===ui||e===ci||e===di)throw li("isecff","Referencing call, apply or bind in Angular expressions is disallowed! Expression: {0}",t)}}function Lt(e){return e.constant}function Pt(e,t,n,r,i){Nt(e,i),Nt(t,i);for(var a,o=n.split("."),s=0;o.length>1;s++){a=Mt(o.shift(),i);var l=0===s&&t&&t[a]||e[a];l||(l={},e[a]=l),e=Nt(l,i)}return a=Mt(o.shift(),i),Nt(e[a],i),e[a]=r,r}function It(e){return"constructor"==e}function Ft(e,t,r,i,a,o,s){Mt(e,o),Mt(t,o),Mt(r,o),Mt(i,o),Mt(a,o);var l=function(e){return Nt(e,o)},u=s||It(e)?l:g,c=s||It(t)?l:g,d=s||It(r)?l:g,f=s||It(i)?l:g,p=s||It(a)?l:g;return function(o,s){var l=s&&s.hasOwnProperty(e)?s:o;return null==l?l:(l=u(l[e]),t?null==l?n:(l=c(l[t]),r?null==l?n:(l=d(l[r]),i?null==l?n:(l=f(l[i]),a?null==l?n:l=p(l[a]):l):l):l):l)}}function jt(e,t){return function(n,r){return e(n,r,Nt,t)}}function Ht(e,t,r){var i=t.expensiveChecks,o=i?yi:vi,s=o[e];if(s)return s;var l=e.split("."),u=l.length;if(t.csp)s=6>u?Ft(l[0],l[1],l[2],l[3],l[4],r,i):function(e,t){var a,o=0;do a=Ft(l[o++],l[o++],l[o++],l[o++],l[o++],r,i)(e,t),t=n,e=a;while(u>o);return a};else{var c="";i&&(c+="s = eso(s, fe);\nl = eso(l, fe);\n");var d=i;a(l,function(e,t){Mt(e,r);var n=(t?"s":'((l&&l.hasOwnProperty("'+e+'"))?l:s)')+"."+e;(i||It(e))&&(n="eso("+n+", fe)",d=!0),c+="if(s == null) return undefined;\ns="+n+";\n"}),c+="return s;";var f=new Function("s","l","eso","fe",c);f.toString=m(c),d&&(f=jt(f,r)),s=f}return s.sharedGetter=!0,s.assign=function(t,n,r){return Pt(t,r,e,n,e)},o[e]=s,s}function Bt(e){return C(e.valueOf)?e.valueOf():bi.call(e)}function Vt(){var e=ue(),t=ue();this.$get=["$filter","$sniffer",function(n,r){function i(e){var t=e;return e.sharedGetter&&(t=function(t,n){return e(t,n)},t.literal=e.literal,t.constant=e.constant,t.assign=e.assign),t}function o(e,t){for(var n=0,r=e.length;r>n;n++){var i=e[n];i.constant||(i.inputs?o(i.inputs,t):-1===t.indexOf(i)&&t.push(i))}return t}function s(e,t){return null==e||null==t?e===t:"object"==typeof e&&(e=Bt(e),"object"==typeof e)?!1:e===t||e!==e&&t!==t}function l(e,t,n,r){var i,a=r.$$inputs||(r.$$inputs=o(r.inputs,[]));if(1===a.length){var l=s;return a=a[0],e.$watch(function(e){var t=a(e);return s(t,l)||(i=r(e),l=t&&Bt(t)),i},t,n)}for(var u=[],c=0,d=a.length;d>c;c++)u[c]=s;return e.$watch(function(e){for(var t=!1,n=0,o=a.length;o>n;n++){var l=a[n](e);(t||(t=!s(l,u[n])))&&(u[n]=l&&Bt(l))}return t&&(i=r(e)),i},t,n)}function u(e,t,n,r){var i,a;return i=e.$watch(function(e){return r(e)},function(e,n,r){a=e,C(t)&&t.apply(this,arguments),y(e)&&r.$$postDigest(function(){y(a)&&i()})},n)}function c(e,t,n,r){function i(e){var t=!0;return a(e,function(e){y(e)||(t=!1)}),t}var o,s;return o=e.$watch(function(e){return r(e)},function(e,n,r){s=e,C(t)&&t.call(this,e,n,r),i(e)&&r.$$postDigest(function(){i(s)&&o()})},n)}function d(e,t,n,r){var i;return i=e.$watch(function(e){return r(e)},function(e,n,r){C(t)&&t.apply(this,arguments),i()},n)}function f(e,t){if(!t)return e;var n=e.$$watchDelegate,r=n!==c&&n!==u,i=r?function(n,r){var i=e(n,r);return t(i,n,r)}:function(n,r){var i=e(n,r),a=t(i,n,r);return y(i)?a:i};return e.$$watchDelegate&&e.$$watchDelegate!==l?i.$$watchDelegate=e.$$watchDelegate:t.$stateful||(i.$$watchDelegate=l,i.inputs=[e]),i}var p={csp:r.csp,expensiveChecks:!1},g={csp:r.csp,expensiveChecks:!0};return function(r,a,o){var s,m,v;switch(typeof r){case"string":v=r=r.trim();var y=o?t:e;if(s=y[v],!s){":"===r.charAt(0)&&":"===r.charAt(1)&&(m=!0,r=r.substring(2));var b=o?g:p,w=new gi(b),$=new mi(w,n,b);s=$.parse(r),s.constant?s.$$watchDelegate=d:m?(s=i(s),s.$$watchDelegate=s.literal?c:u):s.inputs&&(s.$$watchDelegate=l),y[v]=s}return f(s,a);case"function":return f(r,a);default:return f(h,a)}}}]}function Ut(){this.$get=["$rootScope","$exceptionHandler",function(e,t){return qt(function(t){e.$evalAsync(t)},t)}]}function zt(){this.$get=["$browser","$exceptionHandler",function(e,t){return qt(function(t){e.defer(t)},t)}]}function qt(e,t){function i(e,t,n){function r(t){return function(n){i||(i=!0,t.call(e,n))}}var i=!1;return[r(t),r(n)]}function o(){this.$$state={status:0}}function s(e,t){return function(n){t.call(e,n)}}function l(e){var r,i,a;a=e.pending,e.processScheduled=!1,e.pending=n;for(var o=0,s=a.length;s>o;++o){i=a[o][0],r=a[o][e.status];try{C(r)?i.resolve(r(e.value)):1===e.status?i.resolve(e.value):i.reject(e.value)}catch(l){i.reject(l),t(l)}}}function u(t){!t.processScheduled&&t.pending&&(t.processScheduled=!0,e(function(){l(t)}))}function c(){this.promise=new o,this.resolve=s(this,this.resolve),this.reject=s(this,this.reject),this.notify=s(this,this.notify)}function d(e){var t=new c,n=0,r=fr(e)?[]:{};return a(e,function(e,i){n++,v(e).then(function(e){r.hasOwnProperty(i)||(r[i]=e,--n||t.resolve(r))},function(e){r.hasOwnProperty(i)||t.reject(e)})}),0===n&&t.resolve(r),t.promise}var f=r("$q",TypeError),p=function(){return new c};o.prototype={then:function(e,t,n){var r=new c;return this.$$state.pending=this.$$state.pending||[],this.$$state.pending.push([r,e,t,n]),this.$$state.status>0&&u(this.$$state),r.promise},"catch":function(e){return this.then(null,e)},"finally":function(e,t){return this.then(function(t){return m(t,!0,e)},function(t){return m(t,!1,e)},t)}},c.prototype={resolve:function(e){this.promise.$$state.status||(e===this.promise?this.$$reject(f("qcycle","Expected promise to be resolved with value other than itself '{0}'",e)):this.$$resolve(e))},$$resolve:function(e){var n,r;r=i(this,this.$$resolve,this.$$reject);try{(b(e)||C(e))&&(n=e&&e.then),C(n)?(this.promise.$$state.status=-1,n.call(e,r[0],r[1],this.notify)):(this.promise.$$state.value=e,this.promise.$$state.status=1,u(this.promise.$$state))}catch(a){r[1](a),t(a)}},reject:function(e){this.promise.$$state.status||this.$$reject(e)},$$reject:function(e){this.promise.$$state.value=e,this.promise.$$state.status=2,u(this.promise.$$state)},notify:function(n){var r=this.promise.$$state.pending;this.promise.$$state.status<=0&&r&&r.length&&e(function(){for(var e,i,a=0,o=r.length;o>a;a++){i=r[a][0],e=r[a][3];try{i.notify(C(e)?e(n):n)}catch(s){t(s)}}})}};var h=function(e){var t=new c;return t.reject(e),t.promise},g=function(e,t){var n=new c;return t?n.resolve(e):n.reject(e),n.promise},m=function(e,t,n){var r=null;try{C(n)&&(r=n())}catch(i){return g(i,!1)}return R(r)?r.then(function(){return g(e,t)},function(e){return g(e,!1)}):g(e,t)},v=function(e,t,n,r){var i=new c;return i.resolve(e),i.promise.then(t,n,r)},y=function w(e){function t(e){r.resolve(e)}function n(e){r.reject(e)}if(!C(e))throw f("norslvr","Expected resolverFn, got '{0}'",e);if(!(this instanceof w))return new w(e);var r=new c;return e(t,n),r.promise};return y.defer=p,y.reject=h,y.when=v,y.all=d,y}function Wt(){this.$get=["$window","$timeout",function(e,t){var n=e.requestAnimationFrame||e.webkitRequestAnimationFrame,r=e.cancelAnimationFrame||e.webkitCancelAnimationFrame||e.webkitCancelRequestAnimationFrame,i=!!n,a=i?function(e){var t=n(e);return function(){r(t)}}:function(e){var n=t(e,16.66,!1);return function(){t.cancel(n)}};return a.supported=i,a}]}function Gt(){function e(e){function t(){this.$$watchers=this.$$nextSibling=this.$$childHead=this.$$childTail=null,this.$$listeners={},this.$$listenerCount={},this.$$watchersCount=0,this.$id=u(),this.$$ChildScope=null}return t.prototype=e,t}var t=10,n=r("$rootScope"),o=null,s=null;this.digestTtl=function(e){return arguments.length&&(t=e),t},this.$get=["$injector","$exceptionHandler","$parse","$browser",function(r,l,c,d){function f(e){e.currentScope.$$destroyed=!0}function p(){this.$id=u(),this.$$phase=this.$parent=this.$$watchers=this.$$nextSibling=this.$$prevSibling=this.$$childHead=this.$$childTail=null,this.$root=this,this.$$destroyed=!1,this.$$listeners={},this.$$listenerCount={},this.$$isolateBindings=null}function g(e){if(E.$$phase)throw n("inprog","{0} already in progress",E.$$phase);E.$$phase=e}function m(){E.$$phase=null}function y(e,t,n){do e.$$listenerCount[n]-=t,0===e.$$listenerCount[n]&&delete e.$$listenerCount[n];while(e=e.$parent)}function w(){}function $(){for(;k.length;)try{k.shift()()}catch(e){l(e)}s=null}function x(){null===s&&(s=d.defer(function(){E.$apply($)}))}p.prototype={constructor:p,$new:function(t,n){var r;return n=n||this,t?(r=new p,r.$root=this.$root):(this.$$ChildScope||(this.$$ChildScope=e(this)),r=new this.$$ChildScope),r.$parent=n,r.$$prevSibling=n.$$childTail,n.$$childHead?(n.$$childTail.$$nextSibling=r,n.$$childTail=r):n.$$childHead=n.$$childTail=r,(t||n!=this)&&r.$on("$destroy",f),r},$watch:function(e,t,n){var r=c(e);if(r.$$watchDelegate)return r.$$watchDelegate(this,t,n,r);var i=this,a=i.$$watchers,s={fn:t,last:w,get:r,exp:e,eq:!!n};return o=null,C(t)||(s.fn=h),a||(a=i.$$watchers=[]),a.unshift(s),function(){L(a,s),o=null}},$watchGroup:function(e,t){function n(){l=!1,u?(u=!1,t(i,i,s)):t(i,r,s)}var r=new Array(e.length),i=new Array(e.length),o=[],s=this,l=!1,u=!0;if(!e.length){var c=!0;return s.$evalAsync(function(){c&&t(i,i,s)}),function(){c=!1}}return 1===e.length?this.$watch(e[0],function(e,n,a){i[0]=e,r[0]=n,t(i,e===n?i:r,a)}):(a(e,function(e,t){var a=s.$watch(e,function(e,a){i[t]=e,r[t]=a,l||(l=!0,s.$evalAsync(n))});o.push(a)}),function(){for(;o.length;)o.shift()()})},$watchCollection:function(e,t){function n(e){a=e;var t,n,r,s,l;if(!v(a)){if(b(a))if(i(a)){o!==p&&(o=p,m=o.length=0,d++),t=a.length,m!==t&&(d++,o.length=m=t);for(var u=0;t>u;u++)l=o[u],s=a[u],r=l!==l&&s!==s,r||l===s||(d++,o[u]=s)}else{o!==h&&(o=h={},m=0,d++),t=0;for(n in a)a.hasOwnProperty(n)&&(t++,s=a[n],l=o[n],n in o?(r=l!==l&&s!==s,r||l===s||(d++,o[n]=s)):(m++,o[n]=s,d++));if(m>t){d++;for(n in o)a.hasOwnProperty(n)||(m--,delete o[n])}}else o!==a&&(o=a,d++);return d}}function r(){if(g?(g=!1,t(a,a,l)):t(a,s,l),u)if(b(a))if(i(a)){s=new Array(a.length);for(var e=0;e<a.length;e++)s[e]=a[e]}else{s={};for(var n in a)Xn.call(a,n)&&(s[n]=a[n])}else s=a}n.$stateful=!0;var a,o,s,l=this,u=t.length>1,d=0,f=c(e,n),p=[],h={},g=!0,m=0;return this.$watch(f,r)},$digest:function(){var e,r,i,a,u,c,f,p,h,v,y=t,b=this,x=[];g("$digest"),d.$$checkUrlChange(),this===E&&null!==s&&(d.defer.cancel(s),
$()),o=null;do{for(c=!1,p=b;_.length;){try{v=_.shift(),v.scope.$eval(v.expression,v.locals)}catch(k){l(k)}o=null}e:do{if(a=p.$$watchers)for(u=a.length;u--;)try{if(e=a[u])if((r=e.get(p))===(i=e.last)||(e.eq?F(r,i):"number"==typeof r&&"number"==typeof i&&isNaN(r)&&isNaN(i))){if(e===o){c=!1;break e}}else c=!0,o=e,e.last=e.eq?P(r,null):r,e.fn(r,i===w?r:i,p),5>y&&(h=4-y,x[h]||(x[h]=[]),x[h].push({msg:C(e.exp)?"fn: "+(e.exp.name||e.exp.toString()):e.exp,newVal:r,oldVal:i}))}catch(k){l(k)}if(!(f=p.$$childHead||p!==b&&p.$$nextSibling))for(;p!==b&&!(f=p.$$nextSibling);)p=p.$parent}while(p=f);if((c||_.length)&&!y--)throw m(),n("infdig","{0} $digest() iterations reached. Aborting!\nWatchers fired in the last 5 iterations: {1}",t,x)}while(c||_.length);for(m();S.length;)try{S.shift()()}catch(k){l(k)}},$destroy:function(){if(!this.$$destroyed){var e=this.$parent;if(this.$broadcast("$destroy"),this.$$destroyed=!0,this!==E){for(var t in this.$$listenerCount)y(this,this.$$listenerCount[t],t);e.$$childHead==this&&(e.$$childHead=this.$$nextSibling),e.$$childTail==this&&(e.$$childTail=this.$$prevSibling),this.$$prevSibling&&(this.$$prevSibling.$$nextSibling=this.$$nextSibling),this.$$nextSibling&&(this.$$nextSibling.$$prevSibling=this.$$prevSibling),this.$destroy=this.$digest=this.$apply=this.$evalAsync=this.$applyAsync=h,this.$on=this.$watch=this.$watchGroup=function(){return h},this.$$listeners={},this.$parent=this.$$nextSibling=this.$$prevSibling=this.$$childHead=this.$$childTail=this.$root=this.$$watchers=null}}},$eval:function(e,t){return c(e)(this,t)},$evalAsync:function(e,t){E.$$phase||_.length||d.defer(function(){_.length&&E.$digest()}),_.push({scope:this,expression:e,locals:t})},$$postDigest:function(e){S.push(e)},$apply:function(e){try{return g("$apply"),this.$eval(e)}catch(t){l(t)}finally{m();try{E.$digest()}catch(t){throw l(t),t}}},$applyAsync:function(e){function t(){n.$eval(e)}var n=this;e&&k.push(t),x()},$on:function(e,t){var n=this.$$listeners[e];n||(this.$$listeners[e]=n=[]),n.push(t);var r=this;do r.$$listenerCount[e]||(r.$$listenerCount[e]=0),r.$$listenerCount[e]++;while(r=r.$parent);var i=this;return function(){var r=n.indexOf(t);-1!==r&&(n[r]=null,y(i,1,e))}},$emit:function(e,t){var n,r,i,a=[],o=this,s=!1,u={name:e,targetScope:o,stopPropagation:function(){s=!0},preventDefault:function(){u.defaultPrevented=!0},defaultPrevented:!1},c=j([u],arguments,1);do{for(n=o.$$listeners[e]||a,u.currentScope=o,r=0,i=n.length;i>r;r++)if(n[r])try{n[r].apply(null,c)}catch(d){l(d)}else n.splice(r,1),r--,i--;if(s)return u.currentScope=null,u;o=o.$parent}while(o);return u.currentScope=null,u},$broadcast:function(e,t){var n=this,r=n,i=n,a={name:e,targetScope:n,preventDefault:function(){a.defaultPrevented=!0},defaultPrevented:!1};if(!n.$$listenerCount[e])return a;for(var o,s,u,c=j([a],arguments,1);r=i;){for(a.currentScope=r,o=r.$$listeners[e]||[],s=0,u=o.length;u>s;s++)if(o[s])try{o[s].apply(null,c)}catch(d){l(d)}else o.splice(s,1),s--,u--;if(!(i=r.$$listenerCount[e]&&r.$$childHead||r!==n&&r.$$nextSibling))for(;r!==n&&!(i=r.$$nextSibling);)r=r.$parent}return a.currentScope=null,a}};var E=new p,_=E.$$asyncQueue=[],S=E.$$postDigestQueue=[],k=E.$$applyAsyncQueue=[];return E}]}function Kt(){var e=/^\s*(https?|ftp|mailto|tel|file):/,t=/^\s*((https?|ftp|file|blob):|data:image\/)/;this.aHrefSanitizationWhitelist=function(t){return y(t)?(e=t,this):e},this.imgSrcSanitizationWhitelist=function(e){return y(e)?(t=e,this):t},this.$get=function(){return function(n,r){var i,a=r?t:e;return i=rn(n).href,""===i||i.match(a)?n:"unsafe:"+i}}}function Yt(e){if("self"===e)return e;if(w(e)){if(e.indexOf("***")>-1)throw wi("iwcard","Illegal sequence *** in string matcher.  String: {0}",e);return e=hr(e).replace("\\*\\*",".*").replace("\\*","[^:/.?&;]*"),new RegExp("^"+e+"$")}if(E(e))return new RegExp("^"+e.source+"$");throw wi("imatcher",'Matchers may only be "self", string patterns or RegExp objects')}function Xt(e){var t=[];return y(e)&&a(e,function(e){t.push(Yt(e))}),t}function Qt(){this.SCE_CONTEXTS=$i;var e=["self"],t=[];this.resourceUrlWhitelist=function(t){return arguments.length&&(e=Xt(t)),e},this.resourceUrlBlacklist=function(e){return arguments.length&&(t=Xt(e)),t},this.$get=["$injector",function(r){function i(e,t){return"self"===e?an(t):!!e.exec(t.href)}function a(n){var r,a,o=rn(n.toString()),s=!1;for(r=0,a=e.length;a>r;r++)if(i(e[r],o)){s=!0;break}if(s)for(r=0,a=t.length;a>r;r++)if(i(t[r],o)){s=!1;break}return s}function o(e){var t=function(e){this.$$unwrapTrustedValue=function(){return e}};return e&&(t.prototype=new e),t.prototype.valueOf=function(){return this.$$unwrapTrustedValue()},t.prototype.toString=function(){return this.$$unwrapTrustedValue().toString()},t}function s(e,t){var r=f.hasOwnProperty(e)?f[e]:null;if(!r)throw wi("icontext","Attempted to trust a value in invalid context. Context: {0}; Value: {1}",e,t);if(null===t||t===n||""===t)return t;if("string"!=typeof t)throw wi("itype","Attempted to trust a non-string value in a content requiring a string: Context: {0}",e);return new r(t)}function l(e){return e instanceof d?e.$$unwrapTrustedValue():e}function u(e,t){if(null===t||t===n||""===t)return t;var r=f.hasOwnProperty(e)?f[e]:null;if(r&&t instanceof r)return t.$$unwrapTrustedValue();if(e===$i.RESOURCE_URL){if(a(t))return t;throw wi("insecurl","Blocked loading resource from url not allowed by $sceDelegate policy.  URL: {0}",t.toString())}if(e===$i.HTML)return c(t);throw wi("unsafe","Attempting to use an unsafe value in a safe context.")}var c=function(e){throw wi("unsafe","Attempting to use an unsafe value in a safe context.")};r.has("$sanitize")&&(c=r.get("$sanitize"));var d=o(),f={};return f[$i.HTML]=o(d),f[$i.CSS]=o(d),f[$i.URL]=o(d),f[$i.JS]=o(d),f[$i.RESOURCE_URL]=o(f[$i.URL]),{trustAs:s,getTrusted:u,valueOf:l}}]}function Jt(){var e=!0;this.enabled=function(t){return arguments.length&&(e=!!t),e},this.$get=["$parse","$sceDelegate",function(t,n){if(e&&8>er)throw wi("iequirks","Strict Contextual Escaping does not support Internet Explorer version < 11 in quirks mode.  You can fix this by adding the text <!doctype html> to the top of your HTML document.  See http://docs.angularjs.org/api/ng.$sce for more information.");var r=I($i);r.isEnabled=function(){return e},r.trustAs=n.trustAs,r.getTrusted=n.getTrusted,r.valueOf=n.valueOf,e||(r.trustAs=r.getTrusted=function(e,t){return t},r.valueOf=g),r.parseAs=function(e,n){var i=t(n);return i.literal&&i.constant?i:t(n,function(t){return r.getTrusted(e,t)})};var i=r.parseAs,o=r.getTrusted,s=r.trustAs;return a($i,function(e,t){var n=Yn(t);r[ge("parse_as_"+n)]=function(t){return i(e,t)},r[ge("get_trusted_"+n)]=function(t){return o(e,t)},r[ge("trust_as_"+n)]=function(t){return s(e,t)}}),r}]}function Zt(){this.$get=["$window","$document",function(e,t){var n,r,i={},a=f((/android (\d+)/.exec(Yn((e.navigator||{}).userAgent))||[])[1]),o=/Boxee/i.test((e.navigator||{}).userAgent),s=t[0]||{},l=/^(Moz|webkit|ms)(?=[A-Z])/,u=s.body&&s.body.style,c=!1,d=!1;if(u){for(var p in u)if(r=l.exec(p)){n=r[0],n=n.substr(0,1).toUpperCase()+n.substr(1);break}n||(n="WebkitOpacity"in u&&"webkit"),c=!!("transition"in u||n+"Transition"in u),d=!!("animation"in u||n+"Animation"in u),!a||c&&d||(c=w(s.body.style.webkitTransition),d=w(s.body.style.webkitAnimation))}return{history:!(!e.history||!e.history.pushState||4>a||o),hasEvent:function(e){if("input"===e&&11>=er)return!1;if(v(i[e])){var t=s.createElement("div");i[e]="on"+e in t}return i[e]},csp:gr(),vendorPrefix:n,transitions:c,animations:d,android:a}}]}function en(){this.$get=["$templateCache","$http","$q",function(e,t,n){function r(i,a){function o(e){if(!a)throw Yr("tpload","Failed to load template: {0}",i);return n.reject(e)}r.totalPendingRequests++;var s=t.defaults&&t.defaults.transformResponse;fr(s)?s=s.filter(function(e){return e!==it}):s===it&&(s=null);var l={cache:e,transformResponse:s};return t.get(i,l)["finally"](function(){r.totalPendingRequests--}).then(function(e){return e.data},o)}return r.totalPendingRequests=0,r}]}function tn(){this.$get=["$rootScope","$browser","$location",function(e,t,n){var r={};return r.findBindings=function(e,t,n){var r=e.getElementsByClassName("ng-binding"),i=[];return a(r,function(e){var r=ur.element(e).data("$binding");r&&a(r,function(r){if(n){var a=new RegExp("(^|\\s)"+hr(t)+"(\\s|\\||$)");a.test(r)&&i.push(e)}else-1!=r.indexOf(t)&&i.push(e)})}),i},r.findModels=function(e,t,n){for(var r=["ng-","data-ng-","ng\\:"],i=0;i<r.length;++i){var a=n?"=":"*=",o="["+r[i]+"model"+a+'"'+t+'"]',s=e.querySelectorAll(o);if(s.length)return s}},r.getLocation=function(){return n.url()},r.setLocation=function(t){t!==n.url()&&(n.url(t),e.$digest())},r.whenStable=function(e){t.notifyWhenNoOutstandingRequests(e)},r}]}function nn(){this.$get=["$rootScope","$browser","$q","$$q","$exceptionHandler",function(e,t,n,r,i){function a(a,s,l){var u,c=y(l)&&!l,d=(c?r:n).defer(),f=d.promise;return u=t.defer(function(){try{d.resolve(a())}catch(t){d.reject(t),i(t)}finally{delete o[f.$$timeoutId]}c||e.$apply()},s),f.$$timeoutId=u,o[u]=d,f}var o={};return a.cancel=function(e){return e&&e.$$timeoutId in o?(o[e.$$timeoutId].reject("canceled"),delete o[e.$$timeoutId],t.defer.cancel(e.$$timeoutId)):!1},a}]}function rn(e){var t=e;return er&&(xi.setAttribute("href",t),t=xi.href),xi.setAttribute("href",t),{href:xi.href,protocol:xi.protocol?xi.protocol.replace(/:$/,""):"",host:xi.host,search:xi.search?xi.search.replace(/^\?/,""):"",hash:xi.hash?xi.hash.replace(/^#/,""):"",hostname:xi.hostname,port:xi.port,pathname:"/"===xi.pathname.charAt(0)?xi.pathname:"/"+xi.pathname}}function an(e){var t=w(e)?rn(e):e;return t.protocol===Ci.protocol&&t.host===Ci.host}function on(){this.$get=m(e)}function sn(e){function t(r,i){if(b(r)){var o={};return a(r,function(e,n){o[n]=t(n,e)}),o}return e.factory(r+n,i)}var n="Filter";this.register=t,this.$get=["$injector",function(e){return function(t){return e.get(t+n)}}],t("currency",dn),t("date",En),t("filter",ln),t("json",_n),t("limitTo",Sn),t("lowercase",Ti),t("number",fn),t("orderBy",kn),t("uppercase",Oi)}function ln(){return function(e,t,n){if(!fr(e))return e;var r,i;switch(typeof t){case"function":r=t;break;case"boolean":case"number":case"string":i=!0;case"object":r=un(t,n,i);break;default:return e}return e.filter(r)}}function un(e,t,n){var r,i=b(e)&&"$"in e;return t===!0?t=F:C(t)||(t=function(e,t){return b(e)||b(t)?!1:(e=Yn(""+e),t=Yn(""+t),-1!==e.indexOf(t))}),r=function(r){return i&&!b(r)?cn(r,e.$,t,!1):cn(r,e,t,n)}}function cn(e,t,n,r,i){var a=null!==e?typeof e:"null",o=null!==t?typeof t:"null";if("string"===o&&"!"===t.charAt(0))return!cn(e,t.substring(1),n,r);if(fr(e))return e.some(function(e){return cn(e,t,n,r)});switch(a){case"object":var s;if(r){for(s in e)if("$"!==s.charAt(0)&&cn(e[s],t,n,!0))return!0;return i?!1:cn(e,t,n,!1)}if("object"===o){for(s in t){var l=t[s];if(!C(l)&&!v(l)){var u="$"===s,c=u?e:e[s];if(!cn(c,l,n,u,u))return!1}}return!0}return n(e,t);case"function":return!1;default:return n(e,t)}}function dn(e){var t=e.NUMBER_FORMATS;return function(e,n,r){return v(n)&&(n=t.CURRENCY_SYM),v(r)&&(r=t.PATTERNS[1].maxFrac),null==e?e:pn(e,t.PATTERNS[1],t.GROUP_SEP,t.DECIMAL_SEP,r).replace(/\u00A4/g,n)}}function fn(e){var t=e.NUMBER_FORMATS;return function(e,n){return null==e?e:pn(e,t.PATTERNS[0],t.GROUP_SEP,t.DECIMAL_SEP,n)}}function pn(e,t,n,r,i){if(!isFinite(e)||b(e))return"";var a=0>e;e=Math.abs(e);var o=e+"",s="",l=[],u=!1;if(-1!==o.indexOf("e")){var c=o.match(/([\d\.]+)e(-?)(\d+)/);c&&"-"==c[2]&&c[3]>i+1?e=0:(s=o,u=!0)}if(u)i>0&&1>e&&(s=e.toFixed(i),e=parseFloat(s));else{var d=(o.split(Ei)[1]||"").length;v(i)&&(i=Math.min(Math.max(t.minFrac,d),t.maxFrac)),e=+(Math.round(+(e.toString()+"e"+i)).toString()+"e"+-i);var f=(""+e).split(Ei),p=f[0];f=f[1]||"";var h,g=0,m=t.lgSize,y=t.gSize;if(p.length>=m+y)for(g=p.length-m,h=0;g>h;h++)(g-h)%y===0&&0!==h&&(s+=n),s+=p.charAt(h);for(h=g;h<p.length;h++)(p.length-h)%m===0&&0!==h&&(s+=n),s+=p.charAt(h);for(;f.length<i;)f+="0";i&&"0"!==i&&(s+=r+f.substr(0,i))}return 0===e&&(a=!1),l.push(a?t.negPre:t.posPre,s,a?t.negSuf:t.posSuf),l.join("")}function hn(e,t,n){var r="";for(0>e&&(r="-",e=-e),e=""+e;e.length<t;)e="0"+e;return n&&(e=e.substr(e.length-t)),r+e}function gn(e,t,n,r){return n=n||0,function(i){var a=i["get"+e]();return(n>0||a>-n)&&(a+=n),0===a&&-12==n&&(a=12),hn(a,t,r)}}function mn(e,t){return function(n,r){var i=n["get"+e](),a=Qn(t?"SHORT"+e:e);return r[a][i]}}function vn(e){var t=-1*e.getTimezoneOffset(),n=t>=0?"+":"";return n+=hn(Math[t>0?"floor":"ceil"](t/60),2)+hn(Math.abs(t%60),2)}function yn(e){var t=new Date(e,0,1).getDay();return new Date(e,0,(4>=t?5:12)-t)}function bn(e){return new Date(e.getFullYear(),e.getMonth(),e.getDate()+(4-e.getDay()))}function wn(e){return function(t){var n=yn(t.getFullYear()),r=bn(t),i=+r-+n,a=1+Math.round(i/6048e5);return hn(a,e)}}function $n(e,t){return e.getHours()<12?t.AMPMS[0]:t.AMPMS[1]}function xn(e,t){return e.getFullYear()<=0?t.ERAS[0]:t.ERAS[1]}function Cn(e,t){return e.getFullYear()<=0?t.ERANAMES[0]:t.ERANAMES[1]}function En(e){function t(e){var t;if(t=e.match(n)){var r=new Date(0),i=0,a=0,o=t[8]?r.setUTCFullYear:r.setFullYear,s=t[8]?r.setUTCHours:r.setHours;t[9]&&(i=f(t[9]+t[10]),a=f(t[9]+t[11])),o.call(r,f(t[1]),f(t[2])-1,f(t[3]));var l=f(t[4]||0)-i,u=f(t[5]||0)-a,c=f(t[6]||0),d=Math.round(1e3*parseFloat("0."+(t[7]||0)));return s.call(r,l,u,c,d),r}return e}var n=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/;return function(n,r,i){var o,s,l="",u=[];if(r=r||"mediumDate",r=e.DATETIME_FORMATS[r]||r,w(n)&&(n=ki.test(n)?f(n):t(n)),$(n)&&(n=new Date(n)),!x(n))return n;for(;r;)s=Si.exec(r),s?(u=j(u,s,1),r=u.pop()):(u.push(r),r=null);return i&&"UTC"===i&&(n=new Date(n.getTime()),n.setMinutes(n.getMinutes()+n.getTimezoneOffset())),a(u,function(t){o=_i[t],l+=o?o(n,e.DATETIME_FORMATS):t.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),l}}function _n(){return function(e,t){return v(t)&&(t=2),U(e,t)}}function Sn(){return function(e,t){return $(e)&&(e=e.toString()),fr(e)||w(e)?(t=Math.abs(Number(t))===1/0?Number(t):f(t),t?t>0?e.slice(0,t):e.slice(t):w(e)?"":[]):e}}function kn(e){return function(t,n,r){function a(e,t){for(var r=0;r<n.length;r++){var i=n[r](e,t);if(0!==i)return i}return 0}function o(e,t){return t?function(t,n){return e(n,t)}:e}function s(e){switch(typeof e){case"number":case"boolean":case"string":return!0;default:return!1}}function l(e){return null===e?"null":"function"==typeof e.valueOf&&(e=e.valueOf(),s(e))?e:"function"==typeof e.toString&&(e=e.toString(),s(e))?e:""}function u(e,t){var n=typeof e,r=typeof t;return n===r&&"object"===n&&(e=l(e),t=l(t)),n===r?("string"===n&&(e=e.toLowerCase(),t=t.toLowerCase()),e===t?0:t>e?-1:1):r>n?-1:1}return i(t)?(n=fr(n)?n:[n],0===n.length&&(n=["+"]),n=n.map(function(t){var n=!1,r=t||g;if(w(t)){if(("+"==t.charAt(0)||"-"==t.charAt(0))&&(n="-"==t.charAt(0),t=t.substring(1)),""===t)return o(u,n);if(r=e(t),r.constant){var i=r();return o(function(e,t){return u(e[i],t[i])},n)}}return o(function(e,t){return u(r(e),r(t))},n)}),ir.call(t).sort(o(a,r))):t}}function Tn(e){return C(e)&&(e={link:e}),e.restrict=e.restrict||"AC",m(e)}function On(e,t){e.$name=t}function An(e,t,r,i,o){var s=this,l=[],u=s.$$parentForm=e.parent().controller("form")||Mi;s.$error={},s.$$success={},s.$pending=n,s.$name=o(t.name||t.ngForm||"")(r),s.$dirty=!1,s.$pristine=!0,s.$valid=!0,s.$invalid=!1,s.$submitted=!1,u.$addControl(s),s.$rollbackViewValue=function(){a(l,function(e){e.$rollbackViewValue()})},s.$commitViewValue=function(){a(l,function(e){e.$commitViewValue()})},s.$addControl=function(e){oe(e.$name,"input"),l.push(e),e.$name&&(s[e.$name]=e)},s.$$renameControl=function(e,t){var n=e.$name;s[n]===e&&delete s[n],s[t]=e,e.$name=t},s.$removeControl=function(e){e.$name&&s[e.$name]===e&&delete s[e.$name],a(s.$pending,function(t,n){s.$setValidity(n,null,e)}),a(s.$error,function(t,n){s.$setValidity(n,null,e)}),a(s.$$success,function(t,n){s.$setValidity(n,null,e)}),L(l,e)},qn({ctrl:this,$element:e,set:function(e,t,n){var r=e[t];if(r){var i=r.indexOf(n);-1===i&&r.push(n)}else e[t]=[n]},unset:function(e,t,n){var r=e[t];r&&(L(r,n),0===r.length&&delete e[t])},parentForm:u,$animate:i}),s.$setDirty=function(){i.removeClass(e,ha),i.addClass(e,ga),s.$dirty=!0,s.$pristine=!1,u.$setDirty()},s.$setPristine=function(){i.setClass(e,ha,ga+" "+Ni),s.$dirty=!1,s.$pristine=!0,s.$submitted=!1,a(l,function(e){e.$setPristine()})},s.$setUntouched=function(){a(l,function(e){e.$setUntouched()})},s.$setSubmitted=function(){i.addClass(e,Ni),s.$submitted=!0,u.$setSubmitted()}}function Rn(e){e.$formatters.push(function(t){return e.$isEmpty(t)?t:t.toString()})}function Mn(e,t,n,r,i,a){Nn(e,t,n,r,i,a),Rn(r)}function Nn(e,t,n,r,i,a){var o=Yn(t[0].type);if(!i.android){var s=!1;t.on("compositionstart",function(e){s=!0}),t.on("compositionend",function(){s=!1,l()})}var l=function(e){if(u&&(a.defer.cancel(u),u=null),!s){var i=t.val(),l=e&&e.type;"password"===o||n.ngTrim&&"false"===n.ngTrim||(i=pr(i)),(r.$viewValue!==i||""===i&&r.$$hasNativeValidators)&&r.$setViewValue(i,l)}};if(i.hasEvent("input"))t.on("input",l);else{var u,c=function(e,t,n){u||(u=a.defer(function(){u=null,t&&t.value===n||l(e)}))};t.on("keydown",function(e){var t=e.keyCode;91===t||t>15&&19>t||t>=37&&40>=t||c(e,this,this.value)}),i.hasEvent("paste")&&t.on("paste cut",c)}t.on("change",l),r.$render=function(){t.val(r.$isEmpty(r.$viewValue)?"":r.$viewValue)}}function Dn(e,t){if(x(e))return e;if(w(e)){Ui.lastIndex=0;var n=Ui.exec(e);if(n){var r=+n[1],i=+n[2],a=0,o=0,s=0,l=0,u=yn(r),c=7*(i-1);return t&&(a=t.getHours(),o=t.getMinutes(),s=t.getSeconds(),l=t.getMilliseconds()),new Date(r,0,u.getDate()+c,a,o,s,l)}}return NaN}function Ln(e,t){return function(n,r){var i,o;if(x(n))return n;if(w(n)){if('"'==n.charAt(0)&&'"'==n.charAt(n.length-1)&&(n=n.substring(1,n.length-1)),Ii.test(n))return new Date(n);if(e.lastIndex=0,i=e.exec(n))return i.shift(),o=r?{yyyy:r.getFullYear(),MM:r.getMonth()+1,dd:r.getDate(),HH:r.getHours(),mm:r.getMinutes(),ss:r.getSeconds(),sss:r.getMilliseconds()/1e3}:{yyyy:1970,MM:1,dd:1,HH:0,mm:0,ss:0,sss:0},a(i,function(e,n){n<t.length&&(o[t[n]]=+e)}),new Date(o.yyyy,o.MM-1,o.dd,o.HH,o.mm,o.ss||0,1e3*o.sss||0)}return NaN}}function Pn(e,t,r,i){return function(a,o,s,l,u,c,d){function f(e){return e&&!(e.getTime&&e.getTime()!==e.getTime())}function p(e){return y(e)?x(e)?e:r(e):n}In(a,o,s,l),Nn(a,o,s,l,u,c);var h,g=l&&l.$options&&l.$options.timezone;if(l.$$parserName=e,l.$parsers.push(function(e){if(l.$isEmpty(e))return null;if(t.test(e)){var i=r(e,h);return"UTC"===g&&i.setMinutes(i.getMinutes()-i.getTimezoneOffset()),i}return n}),l.$formatters.push(function(e){if(e&&!x(e))throw ba("datefmt","Expected `{0}` to be a date",e);if(f(e)){if(h=e,h&&"UTC"===g){var t=6e4*h.getTimezoneOffset();h=new Date(h.getTime()+t)}return d("date")(e,i,g)}return h=null,""}),y(s.min)||s.ngMin){var m;l.$validators.min=function(e){return!f(e)||v(m)||r(e)>=m},s.$observe("min",function(e){m=p(e),l.$validate()})}if(y(s.max)||s.ngMax){var b;l.$validators.max=function(e){return!f(e)||v(b)||r(e)<=b},s.$observe("max",function(e){b=p(e),l.$validate()})}}}function In(e,t,r,i){var a=t[0],o=i.$$hasNativeValidators=b(a.validity);o&&i.$parsers.push(function(e){var r=t.prop(Kn)||{};return r.badInput&&!r.typeMismatch?n:e})}function Fn(e,t,r,i,a,o){if(In(e,t,r,i),Nn(e,t,r,i,a,o),i.$$parserName="number",i.$parsers.push(function(e){return i.$isEmpty(e)?null:Hi.test(e)?parseFloat(e):n}),i.$formatters.push(function(e){if(!i.$isEmpty(e)){if(!$(e))throw ba("numfmt","Expected `{0}` to be a number",e);e=e.toString()}return e}),y(r.min)||r.ngMin){var s;i.$validators.min=function(e){return i.$isEmpty(e)||v(s)||e>=s},r.$observe("min",function(e){y(e)&&!$(e)&&(e=parseFloat(e,10)),s=$(e)&&!isNaN(e)?e:n,i.$validate()})}if(y(r.max)||r.ngMax){var l;i.$validators.max=function(e){return i.$isEmpty(e)||v(l)||l>=e},r.$observe("max",function(e){y(e)&&!$(e)&&(e=parseFloat(e,10)),l=$(e)&&!isNaN(e)?e:n,i.$validate()})}}function jn(e,t,n,r,i,a){Nn(e,t,n,r,i,a),Rn(r),r.$$parserName="url",r.$validators.url=function(e,t){var n=e||t;return r.$isEmpty(n)||Fi.test(n)}}function Hn(e,t,n,r,i,a){Nn(e,t,n,r,i,a),Rn(r),r.$$parserName="email",r.$validators.email=function(e,t){var n=e||t;return r.$isEmpty(n)||ji.test(n)}}function Bn(e,t,n,r){v(n.name)&&t.attr("name",u());var i=function(e){t[0].checked&&r.$setViewValue(n.value,e&&e.type)};t.on("click",i),r.$render=function(){var e=n.value;t[0].checked=e==r.$viewValue},n.$observe("value",r.$render)}function Vn(e,t,n,i,a){var o;if(y(i)){if(o=e(i),!o.constant)throw r("ngModel")("constexpr","Expected constant expression for `{0}`, but saw `{1}`.",n,i);return o(t)}return a}function Un(e,t,n,r,i,a,o,s){var l=Vn(s,e,"ngTrueValue",n.ngTrueValue,!0),u=Vn(s,e,"ngFalseValue",n.ngFalseValue,!1),c=function(e){r.$setViewValue(t[0].checked,e&&e.type)};t.on("click",c),r.$render=function(){t[0].checked=r.$viewValue},r.$isEmpty=function(e){return e===!1},r.$formatters.push(function(e){return F(e,l)}),r.$parsers.push(function(e){return e?l:u})}function zn(e,t){return e="ngClass"+e,["$animate",function(n){function r(e,t){var n=[];e:for(var r=0;r<e.length;r++){for(var i=e[r],a=0;a<t.length;a++)if(i==t[a])continue e;n.push(i)}return n}function i(e){if(fr(e))return e;if(w(e))return e.split(" ");if(b(e)){var t=[];return a(e,function(e,n){e&&(t=t.concat(n.split(" ")))}),t}return e}return{restrict:"AC",link:function(o,s,l){function u(e){var t=d(e,1);l.$addClass(t)}function c(e){var t=d(e,-1);l.$removeClass(t)}function d(e,t){var n=s.data("$classCounts")||{},r=[];return a(e,function(e){(t>0||n[e])&&(n[e]=(n[e]||0)+t,n[e]===+(t>0)&&r.push(e))}),s.data("$classCounts",n),r.join(" ")}function f(e,t){var i=r(t,e),a=r(e,t);i=d(i,1),a=d(a,-1),i&&i.length&&n.addClass(s,i),a&&a.length&&n.removeClass(s,a)}function p(e){if(t===!0||o.$index%2===t){var n=i(e||[]);if(h){if(!F(e,h)){var r=i(h);f(r,n)}}else u(n)}h=I(e)}var h;o.$watch(l[e],p,!0),l.$observe("class",function(t){p(o.$eval(l[e]))}),"ngClass"!==e&&o.$watch("$index",function(n,r){var a=1&n;if(a!==(1&r)){var s=i(o.$eval(l[e]));a===t?u(s):c(s)}})}}}]}function qn(e){function t(e,t,l){t===n?r("$pending",e,l):i("$pending",e,l),A(t)?t?(d(s.$error,e,l),c(s.$$success,e,l)):(c(s.$error,e,l),d(s.$$success,e,l)):(d(s.$error,e,l),d(s.$$success,e,l)),s.$pending?(a(ya,!0),s.$valid=s.$invalid=n,o("",null)):(a(ya,!1),s.$valid=Wn(s.$error),s.$invalid=!s.$valid,o("",s.$valid));var u;u=s.$pending&&s.$pending[e]?n:s.$error[e]?!1:s.$$success[e]?!0:null,o(e,u),f.$setValidity(e,u,s)}function r(e,t,n){s[e]||(s[e]={}),c(s[e],t,n)}function i(e,t,r){s[e]&&d(s[e],t,r),Wn(s[e])&&(s[e]=n)}function a(e,t){t&&!u[e]?(p.addClass(l,e),u[e]=!0):!t&&u[e]&&(p.removeClass(l,e),u[e]=!1)}function o(e,t){e=e?"-"+ne(e,"-"):"",a(fa+e,t===!0),a(pa+e,t===!1)}var s=e.ctrl,l=e.$element,u={},c=e.set,d=e.unset,f=e.parentForm,p=e.$animate;u[pa]=!(u[fa]=l.hasClass(fa)),s.$setValidity=t}function Wn(e){if(e)for(var t in e)return!1;return!0}var Gn=/^\/(.+)\/([a-z]*)$/,Kn="validity",Yn=function(e){return w(e)?e.toLowerCase():e},Xn=Object.prototype.hasOwnProperty,Qn=function(e){return w(e)?e.toUpperCase():e},Jn=function(e){return w(e)?e.replace(/[A-Z]/g,function(e){return String.fromCharCode(32|e.charCodeAt(0))}):e},Zn=function(e){return w(e)?e.replace(/[a-z]/g,function(e){return String.fromCharCode(-33&e.charCodeAt(0))}):e};"i"!=="I".toLowerCase()&&(Yn=Jn,Qn=Zn);var er,tr,nr,rr,ir=[].slice,ar=[].splice,or=[].push,sr=Object.prototype.toString,lr=r("ng"),ur=e.angular||(e.angular={}),cr=0;er=t.documentMode,h.$inject=[],g.$inject=[];var dr,fr=Array.isArray,pr=function(e){return w(e)?e.trim():e},hr=function(e){return e.replace(/([-()\[\]{}+?*.$\^|,:#<!\\])/g,"\\$1").replace(/\x08/g,"\\x08")},gr=function(){if(y(gr.isActive_))return gr.isActive_;var e=!(!t.querySelector("[ng-csp]")&&!t.querySelector("[data-ng-csp]"));if(!e)try{new Function("")}catch(n){e=!0}return gr.isActive_=e},mr=["ng-","data-ng-","ng:","x-ng-"],vr=/[A-Z]/g,yr=!1,br=1,wr=3,$r=8,xr=9,Cr=11,Er={full:"1.3.15",major:1,minor:3,dot:15,codeName:"locality-filtration"};we.expando="ng339";var _r=we.cache={},Sr=1,kr=function(e,t,n){e.addEventListener(t,n,!1)},Tr=function(e,t,n){e.removeEventListener(t,n,!1)};we._data=function(e){return this.cache[e[this.expando]]||{}};var Or=/([\:\-\_]+(.))/g,Ar=/^moz([A-Z])/,Rr={mouseleave:"mouseout",mouseenter:"mouseover"},Mr=r("jqLite"),Nr=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,Dr=/<|&#?\w+;/,Lr=/<([\w:]+)/,Pr=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,Ir={option:[1,'<select multiple="multiple">',"</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};Ir.optgroup=Ir.option,Ir.tbody=Ir.tfoot=Ir.colgroup=Ir.caption=Ir.thead,Ir.th=Ir.td;var Fr=we.prototype={ready:function(n){function r(){i||(i=!0,n())}var i=!1;"complete"===t.readyState?setTimeout(r):(this.on("DOMContentLoaded",r),we(e).on("load",r))},toString:function(){var e=[];return a(this,function(t){e.push(""+t)}),"["+e.join(", ")+"]"},eq:function(e){return tr(e>=0?this[e]:this[this.length+e])},length:0,push:or,sort:[].sort,splice:[].splice},jr={};a("multiple,selected,checked,disabled,readOnly,required,open".split(","),function(e){jr[Yn(e)]=e});var Hr={};a("input,select,option,textarea,button,form,details".split(","),function(e){Hr[e]=!0});var Br={ngMinlength:"minlength",ngMaxlength:"maxlength",ngMin:"min",ngMax:"max",ngPattern:"pattern"};a({data:Se,removeData:Ee},function(e,t){we[t]=e}),a({data:Se,inheritedData:Me,scope:function(e){return tr.data(e,"$scope")||Me(e.parentNode||e,["$isolateScope","$scope"])},isolateScope:function(e){return tr.data(e,"$isolateScope")||tr.data(e,"$isolateScopeNoTemplate")},controller:Re,injector:function(e){return Me(e,"$injector")},removeAttr:function(e,t){e.removeAttribute(t)},hasClass:ke,css:function(e,t,n){return t=ge(t),y(n)?void(e.style[t]=n):e.style[t]},attr:function(e,t,r){var i=Yn(t);if(jr[i]){if(!y(r))return e[t]||(e.attributes.getNamedItem(t)||h).specified?i:n;r?(e[t]=!0,e.setAttribute(t,i)):(e[t]=!1,e.removeAttribute(i))}else if(y(r))e.setAttribute(t,r);else if(e.getAttribute){var a=e.getAttribute(t,2);return null===a?n:a}},prop:function(e,t,n){return y(n)?void(e[t]=n):e[t]},text:function(){function e(e,t){if(v(t)){var n=e.nodeType;return n===br||n===wr?e.textContent:""}e.textContent=t}return e.$dv="",e}(),val:function(e,t){if(v(t)){if(e.multiple&&"select"===D(e)){var n=[];return a(e.options,function(e){e.selected&&n.push(e.value||e.text)}),0===n.length?null:n}return e.value}e.value=t},html:function(e,t){return v(t)?e.innerHTML:(xe(e,!0),void(e.innerHTML=t))},empty:Ne},function(e,t){we.prototype[t]=function(t,r){var i,a,o=this.length;if(e!==Ne&&(2==e.length&&e!==ke&&e!==Re?t:r)===n){if(b(t)){for(i=0;o>i;i++)if(e===Se)e(this[i],t);else for(a in t)e(this[i],a,t[a]);return this}for(var s=e.$dv,l=s===n?Math.min(o,1):o,u=0;l>u;u++){var c=e(this[u],t,r);s=s?s+c:c}return s}for(i=0;o>i;i++)e(this[i],t,r);return this}}),a({removeData:Ee,on:function Wa(e,t,n,r){if(y(r))throw Mr("onargs","jqLite#on() does not support the `selector` or `eventData` parameters");if(ve(e)){var i=_e(e,!0),a=i.events,o=i.handle;o||(o=i.handle=Fe(e,a));for(var s=t.indexOf(" ")>=0?t.split(" "):[t],l=s.length;l--;){t=s[l];var u=a[t];u||(a[t]=[],"mouseenter"===t||"mouseleave"===t?Wa(e,Rr[t],function(e){var n=this,r=e.relatedTarget;(!r||r!==n&&!n.contains(r))&&o(e,t)}):"$destroy"!==t&&kr(e,t,o),u=a[t]),u.push(n)}}},off:Ce,one:function(e,t,n){e=tr(e),e.on(t,function r(){e.off(t,n),e.off(t,r)}),e.on(t,n)},replaceWith:function(e,t){var n,r=e.parentNode;xe(e),a(new we(t),function(t){n?r.insertBefore(t,n.nextSibling):r.replaceChild(t,e),n=t})},children:function(e){var t=[];return a(e.childNodes,function(e){e.nodeType===br&&t.push(e)}),t},contents:function(e){return e.contentDocument||e.childNodes||[]},append:function(e,t){var n=e.nodeType;if(n===br||n===Cr){t=new we(t);for(var r=0,i=t.length;i>r;r++){var a=t[r];e.appendChild(a)}}},prepend:function(e,t){if(e.nodeType===br){var n=e.firstChild;a(new we(t),function(t){e.insertBefore(t,n)})}},wrap:function(e,t){t=tr(t).eq(0).clone()[0];var n=e.parentNode;n&&n.replaceChild(t,e),t.appendChild(e)},remove:De,detach:function(e){De(e,!0)},after:function(e,t){var n=e,r=e.parentNode;t=new we(t);for(var i=0,a=t.length;a>i;i++){var o=t[i];r.insertBefore(o,n.nextSibling),n=o}},addClass:Oe,removeClass:Te,toggleClass:function(e,t,n){t&&a(t.split(" "),function(t){var r=n;v(r)&&(r=!ke(e,t)),(r?Oe:Te)(e,t)})},parent:function(e){var t=e.parentNode;return t&&t.nodeType!==Cr?t:null},next:function(e){return e.nextElementSibling},find:function(e,t){return e.getElementsByTagName?e.getElementsByTagName(t):[]},clone:$e,triggerHandler:function(e,t,n){var r,i,o,s=t.type||t,l=_e(e),u=l&&l.events,c=u&&u[s];c&&(r={preventDefault:function(){this.defaultPrevented=!0},isDefaultPrevented:function(){return this.defaultPrevented===!0},stopImmediatePropagation:function(){this.immediatePropagationStopped=!0},isImmediatePropagationStopped:function(){return this.immediatePropagationStopped===!0},stopPropagation:h,type:s,target:e},t.type&&(r=d(r,t)),i=I(c),o=n?[r].concat(n):[r],a(i,function(t){r.isImmediatePropagationStopped()||t.apply(e,o)}))}},function(e,t){we.prototype[t]=function(t,n,r){for(var i,a=0,o=this.length;o>a;a++)v(i)?(i=e(this[a],t,n,r),y(i)&&(i=tr(i))):Ae(i,e(this[a],t,n,r));return y(i)?i:this},we.prototype.bind=we.prototype.on,we.prototype.unbind=we.prototype.off}),Be.prototype={put:function(e,t){this[He(e,this.nextUid)]=t},get:function(e){return this[He(e,this.nextUid)]},remove:function(e){var t=this[e=He(e,this.nextUid)];return delete this[e],t}};var Vr=/^function\s*[^\(]*\(\s*([^\)]*)\)/m,Ur=/,/,zr=/^\s*(_?)(\S+?)\1\s*$/,qr=/((\/\/.*$)|(\/\*[\s\S]*?\*\/))/gm,Wr=r("$injector");ze.$$annotate=Ue;var Gr=r("$animate"),Kr=["$provide",function(e){this.$$selectors={},this.register=function(t,n){var r=t+"-animation";if(t&&"."!=t.charAt(0))throw Gr("notcsel","Expecting class selector starting with '.' got '{0}'.",t);this.$$selectors[t.substr(1)]=r,e.factory(r,n)},this.classNameFilter=function(e){return 1===arguments.length&&(this.$$classNameFilter=e instanceof RegExp?e:null),this.$$classNameFilter},this.$get=["$$q","$$asyncCallback","$rootScope",function(e,t,n){function r(t){var r,i=e.defer();return i.promise.$$cancelFn=function(){r&&r()},n.$$postDigest(function(){r=t(function(){i.resolve()})}),i.promise}function i(e,t){var n=[],r=[],i=ue();return a((e.attr("class")||"").split(/\s+/),function(e){i[e]=!0}),a(t,function(e,t){var a=i[t];e===!1&&a?r.push(t):e!==!0||a||n.push(t)}),n.length+r.length>0&&[n.length?n:null,r.length?r:null]}function o(e,t,n){for(var r=0,i=t.length;i>r;++r){var a=t[r];e[a]=n}}function s(){return u||(u=e.defer(),t(function(){u.resolve(),u=null})),u.promise}function l(e,t){if(ur.isObject(t)){var n=d(t.from||{},t.to||{});e.css(n)}}var u;return{animate:function(e,t,n){return l(e,{from:t,to:n}),s()},enter:function(e,t,n,r){return l(e,r),n?n.after(e):t.prepend(e),s()},leave:function(e,t){return l(e,t),e.remove(),s()},move:function(e,t,n,r){return this.enter(e,t,n,r)},addClass:function(e,t,n){return this.setClass(e,t,[],n)},$$addClassImmediately:function(e,t,n){return e=tr(e),t=w(t)?t:fr(t)?t.join(" "):"",a(e,function(e){Oe(e,t)}),l(e,n),s()},removeClass:function(e,t,n){return this.setClass(e,[],t,n)},$$removeClassImmediately:function(e,t,n){return e=tr(e),t=w(t)?t:fr(t)?t.join(" "):"",a(e,function(e){Te(e,t)}),l(e,n),s()},setClass:function(e,t,n,a){var s=this,l="$$animateClasses",u=!1;e=tr(e);var c=e.data(l);c?a&&c.options&&(c.options=ur.extend(c.options||{},a)):(c={classes:{},options:a},u=!0);var d=c.classes;return t=fr(t)?t:t.split(" "),n=fr(n)?n:n.split(" "),o(d,t,!0),o(d,n,!1),u&&(c.promise=r(function(t){var n=e.data(l);if(e.removeData(l),n){var r=i(e,n.classes);r&&s.$$setClassImmediately(e,r[0],r[1],n.options)}t()}),e.data(l,c)),c.promise},$$setClassImmediately:function(e,t,n,r){
return t&&this.$$addClassImmediately(e,t),n&&this.$$removeClassImmediately(e,n),l(e,r),s()},enabled:h,cancel:h}}]}],Yr=r("$compile");Qe.$inject=["$provide","$$sanitizeUriProvider"];var Xr=/^((?:x|data)[\:\-_])/i,Qr=r("$controller"),Jr="application/json",Zr={"Content-Type":Jr+";charset=utf-8"},ei=/^\[|^\{(?!\{)/,ti={"[":/]$/,"{":/}$/},ni=/^\)\]\}',?\n/,ri=r("$interpolate"),ii=/^([^\?#]*)(\?([^#]*))?(#(.*))?$/,ai={http:80,https:443,ftp:21},oi=r("$location"),si={$$html5:!1,$$replace:!1,absUrl:Tt("$$absUrl"),url:function(e){if(v(e))return this.$$url;var t=ii.exec(e);return(t[1]||""===e)&&this.path(decodeURIComponent(t[1])),(t[2]||t[1]||""===e)&&this.search(t[3]||""),this.hash(t[5]||""),this},protocol:Tt("$$protocol"),host:Tt("$$host"),port:Tt("$$port"),path:Ot("$$path",function(e){return e=null!==e?e.toString():"","/"==e.charAt(0)?e:"/"+e}),search:function(e,t){switch(arguments.length){case 0:return this.$$search;case 1:if(w(e)||$(e))e=e.toString(),this.$$search=G(e);else{if(!b(e))throw oi("isrcharg","The first argument of the `$location#search()` call must be a string or an object.");e=P(e,{}),a(e,function(t,n){null==t&&delete e[n]}),this.$$search=e}break;default:v(t)||null===t?delete this.$$search[e]:this.$$search[e]=t}return this.$$compose(),this},hash:Ot("$$hash",function(e){return null!==e?e.toString():""}),replace:function(){return this.$$replace=!0,this}};a([kt,St,_t],function(e){e.prototype=Object.create(si),e.prototype.state=function(t){if(!arguments.length)return this.$$state;if(e!==_t||!this.$$html5)throw oi("nostate","History API state support is available only in HTML5 mode and only in browsers supporting HTML5 History API");return this.$$state=v(t)?null:t,this}});var li=r("$parse"),ui=Function.prototype.call,ci=Function.prototype.apply,di=Function.prototype.bind,fi=ue();a({"null":function(){return null},"true":function(){return!0},"false":function(){return!1},undefined:function(){}},function(e,t){e.constant=e.literal=e.sharedGetter=!0,fi[t]=e}),fi["this"]=function(e){return e},fi["this"].sharedGetter=!0;var pi=d(ue(),{"+":function(e,t,r,i){return r=r(e,t),i=i(e,t),y(r)?y(i)?r+i:r:y(i)?i:n},"-":function(e,t,n,r){return n=n(e,t),r=r(e,t),(y(n)?n:0)-(y(r)?r:0)},"*":function(e,t,n,r){return n(e,t)*r(e,t)},"/":function(e,t,n,r){return n(e,t)/r(e,t)},"%":function(e,t,n,r){return n(e,t)%r(e,t)},"===":function(e,t,n,r){return n(e,t)===r(e,t)},"!==":function(e,t,n,r){return n(e,t)!==r(e,t)},"==":function(e,t,n,r){return n(e,t)==r(e,t)},"!=":function(e,t,n,r){return n(e,t)!=r(e,t)},"<":function(e,t,n,r){return n(e,t)<r(e,t)},">":function(e,t,n,r){return n(e,t)>r(e,t)},"<=":function(e,t,n,r){return n(e,t)<=r(e,t)},">=":function(e,t,n,r){return n(e,t)>=r(e,t)},"&&":function(e,t,n,r){return n(e,t)&&r(e,t)},"||":function(e,t,n,r){return n(e,t)||r(e,t)},"!":function(e,t,n){return!n(e,t)},"=":!0,"|":!0}),hi={n:"\n",f:"\f",r:"\r",t:"	",v:"","'":"'",'"':'"'},gi=function(e){this.options=e};gi.prototype={constructor:gi,lex:function(e){for(this.text=e,this.index=0,this.tokens=[];this.index<this.text.length;){var t=this.text.charAt(this.index);if('"'===t||"'"===t)this.readString(t);else if(this.isNumber(t)||"."===t&&this.isNumber(this.peek()))this.readNumber();else if(this.isIdent(t))this.readIdent();else if(this.is(t,"(){}[].,;:?"))this.tokens.push({index:this.index,text:t}),this.index++;else if(this.isWhitespace(t))this.index++;else{var n=t+this.peek(),r=n+this.peek(2),i=pi[t],a=pi[n],o=pi[r];if(i||a||o){var s=o?r:a?n:t;this.tokens.push({index:this.index,text:s,operator:!0}),this.index+=s.length}else this.throwError("Unexpected next character ",this.index,this.index+1)}}return this.tokens},is:function(e,t){return-1!==t.indexOf(e)},peek:function(e){var t=e||1;return this.index+t<this.text.length?this.text.charAt(this.index+t):!1},isNumber:function(e){return e>="0"&&"9">=e&&"string"==typeof e},isWhitespace:function(e){return" "===e||"\r"===e||"	"===e||"\n"===e||""===e||" "===e},isIdent:function(e){return e>="a"&&"z">=e||e>="A"&&"Z">=e||"_"===e||"$"===e},isExpOperator:function(e){return"-"===e||"+"===e||this.isNumber(e)},throwError:function(e,t,n){n=n||this.index;var r=y(t)?"s "+t+"-"+this.index+" ["+this.text.substring(t,n)+"]":" "+n;throw li("lexerr","Lexer Error: {0} at column{1} in expression [{2}].",e,r,this.text)},readNumber:function(){for(var e="",t=this.index;this.index<this.text.length;){var n=Yn(this.text.charAt(this.index));if("."==n||this.isNumber(n))e+=n;else{var r=this.peek();if("e"==n&&this.isExpOperator(r))e+=n;else if(this.isExpOperator(n)&&r&&this.isNumber(r)&&"e"==e.charAt(e.length-1))e+=n;else{if(!this.isExpOperator(n)||r&&this.isNumber(r)||"e"!=e.charAt(e.length-1))break;this.throwError("Invalid exponent")}}this.index++}this.tokens.push({index:t,text:e,constant:!0,value:Number(e)})},readIdent:function(){for(var e=this.index;this.index<this.text.length;){var t=this.text.charAt(this.index);if(!this.isIdent(t)&&!this.isNumber(t))break;this.index++}this.tokens.push({index:e,text:this.text.slice(e,this.index),identifier:!0})},readString:function(e){var t=this.index;this.index++;for(var n="",r=e,i=!1;this.index<this.text.length;){var a=this.text.charAt(this.index);if(r+=a,i){if("u"===a){var o=this.text.substring(this.index+1,this.index+5);o.match(/[\da-f]{4}/i)||this.throwError("Invalid unicode escape [\\u"+o+"]"),this.index+=4,n+=String.fromCharCode(parseInt(o,16))}else{var s=hi[a];n+=s||a}i=!1}else if("\\"===a)i=!0;else{if(a===e)return this.index++,void this.tokens.push({index:t,text:r,constant:!0,value:n});n+=a}this.index++}this.throwError("Unterminated quote",t)}};var mi=function(e,t,n){this.lexer=e,this.$filter=t,this.options=n};mi.ZERO=d(function(){return 0},{sharedGetter:!0,constant:!0}),mi.prototype={constructor:mi,parse:function(e){this.text=e,this.tokens=this.lexer.lex(e);var t=this.statements();return 0!==this.tokens.length&&this.throwError("is an unexpected token",this.tokens[0]),t.literal=!!t.literal,t.constant=!!t.constant,t},primary:function(){var e;this.expect("(")?(e=this.filterChain(),this.consume(")")):this.expect("[")?e=this.arrayDeclaration():this.expect("{")?e=this.object():this.peek().identifier&&this.peek().text in fi?e=fi[this.consume().text]:this.peek().identifier?e=this.identifier():this.peek().constant?e=this.constant():this.throwError("not a primary expression",this.peek());for(var t,n;t=this.expect("(","[",".");)"("===t.text?(e=this.functionCall(e,n),n=null):"["===t.text?(n=e,e=this.objectIndex(e)):"."===t.text?(n=e,e=this.fieldAccess(e)):this.throwError("IMPOSSIBLE");return e},throwError:function(e,t){throw li("syntax","Syntax Error: Token '{0}' {1} at column {2} of the expression [{3}] starting at [{4}].",t.text,e,t.index+1,this.text,this.text.substring(t.index))},peekToken:function(){if(0===this.tokens.length)throw li("ueoe","Unexpected end of expression: {0}",this.text);return this.tokens[0]},peek:function(e,t,n,r){return this.peekAhead(0,e,t,n,r)},peekAhead:function(e,t,n,r,i){if(this.tokens.length>e){var a=this.tokens[e],o=a.text;if(o===t||o===n||o===r||o===i||!t&&!n&&!r&&!i)return a}return!1},expect:function(e,t,n,r){var i=this.peek(e,t,n,r);return i?(this.tokens.shift(),i):!1},consume:function(e){if(0===this.tokens.length)throw li("ueoe","Unexpected end of expression: {0}",this.text);var t=this.expect(e);return t||this.throwError("is unexpected, expecting ["+e+"]",this.peek()),t},unaryFn:function(e,t){var n=pi[e];return d(function(e,r){return n(e,r,t)},{constant:t.constant,inputs:[t]})},binaryFn:function(e,t,n,r){var i=pi[t];return d(function(t,r){return i(t,r,e,n)},{constant:e.constant&&n.constant,inputs:!r&&[e,n]})},identifier:function(){for(var e=this.consume().text;this.peek(".")&&this.peekAhead(1).identifier&&!this.peekAhead(2,"(");)e+=this.consume().text+this.consume().text;return Ht(e,this.options,this.text)},constant:function(){var e=this.consume().value;return d(function(){return e},{constant:!0,literal:!0})},statements:function(){for(var e=[];;)if(this.tokens.length>0&&!this.peek("}",")",";","]")&&e.push(this.filterChain()),!this.expect(";"))return 1===e.length?e[0]:function(t,n){for(var r,i=0,a=e.length;a>i;i++)r=e[i](t,n);return r}},filterChain:function(){for(var e,t=this.expression();e=this.expect("|");)t=this.filter(t);return t},filter:function(e){var t,r,i=this.$filter(this.consume().text);if(this.peek(":"))for(t=[],r=[];this.expect(":");)t.push(this.expression());var a=[e].concat(t||[]);return d(function(a,o){var s=e(a,o);if(r){r[0]=s;for(var l=t.length;l--;)r[l+1]=t[l](a,o);return i.apply(n,r)}return i(s)},{constant:!i.$stateful&&a.every(Lt),inputs:!i.$stateful&&a})},expression:function(){return this.assignment()},assignment:function(){var e,t,n=this.ternary();return(t=this.expect("="))?(n.assign||this.throwError("implies assignment but ["+this.text.substring(0,t.index)+"] can not be assigned to",t),e=this.ternary(),d(function(t,r){return n.assign(t,e(t,r),r)},{inputs:[n,e]})):n},ternary:function(){var e,t,n=this.logicalOR();if((t=this.expect("?"))&&(e=this.assignment(),this.consume(":"))){var r=this.assignment();return d(function(t,i){return n(t,i)?e(t,i):r(t,i)},{constant:n.constant&&e.constant&&r.constant})}return n},logicalOR:function(){for(var e,t=this.logicalAND();e=this.expect("||");)t=this.binaryFn(t,e.text,this.logicalAND(),!0);return t},logicalAND:function(){for(var e,t=this.equality();e=this.expect("&&");)t=this.binaryFn(t,e.text,this.equality(),!0);return t},equality:function(){for(var e,t=this.relational();e=this.expect("==","!=","===","!==");)t=this.binaryFn(t,e.text,this.relational());return t},relational:function(){for(var e,t=this.additive();e=this.expect("<",">","<=",">=");)t=this.binaryFn(t,e.text,this.additive());return t},additive:function(){for(var e,t=this.multiplicative();e=this.expect("+","-");)t=this.binaryFn(t,e.text,this.multiplicative());return t},multiplicative:function(){for(var e,t=this.unary();e=this.expect("*","/","%");)t=this.binaryFn(t,e.text,this.unary());return t},unary:function(){var e;return this.expect("+")?this.primary():(e=this.expect("-"))?this.binaryFn(mi.ZERO,e.text,this.unary()):(e=this.expect("!"))?this.unaryFn(e.text,this.unary()):this.primary()},fieldAccess:function(e){var t=this.identifier();return d(function(r,i,a){var o=a||e(r,i);return null==o?n:t(o)},{assign:function(n,r,i){var a=e(n,i);return a||e.assign(n,a={},i),t.assign(a,r)}})},objectIndex:function(e){var t=this.text,r=this.expression();return this.consume("]"),d(function(i,a){var o,s=e(i,a),l=r(i,a);return Mt(l,t),s?o=Nt(s[l],t):n},{assign:function(n,i,a){var o=Mt(r(n,a),t),s=Nt(e(n,a),t);return s||e.assign(n,s={},a),s[o]=i}})},functionCall:function(e,t){var r=[];if(")"!==this.peekToken().text)do r.push(this.expression());while(this.expect(","));this.consume(")");var i=this.text,a=r.length?[]:null;return function(o,s){var l=t?t(o,s):y(t)?n:o,u=e(o,s,l)||h;if(a)for(var c=r.length;c--;)a[c]=Nt(r[c](o,s),i);Nt(l,i),Dt(u,i);var d=u.apply?u.apply(l,a):u(a[0],a[1],a[2],a[3],a[4]);return a&&(a.length=0),Nt(d,i)}},arrayDeclaration:function(){var e=[];if("]"!==this.peekToken().text)do{if(this.peek("]"))break;e.push(this.expression())}while(this.expect(","));return this.consume("]"),d(function(t,n){for(var r=[],i=0,a=e.length;a>i;i++)r.push(e[i](t,n));return r},{literal:!0,constant:e.every(Lt),inputs:e})},object:function(){var e=[],t=[];if("}"!==this.peekToken().text)do{if(this.peek("}"))break;var n=this.consume();n.constant?e.push(n.value):n.identifier?e.push(n.text):this.throwError("invalid key",n),this.consume(":"),t.push(this.expression())}while(this.expect(","));return this.consume("}"),d(function(n,r){for(var i={},a=0,o=t.length;o>a;a++)i[e[a]]=t[a](n,r);return i},{literal:!0,constant:t.every(Lt),inputs:t})}};var vi=ue(),yi=ue(),bi=Object.prototype.valueOf,wi=r("$sce"),$i={HTML:"html",CSS:"css",URL:"url",RESOURCE_URL:"resourceUrl",JS:"js"},Yr=r("$compile"),xi=t.createElement("a"),Ci=rn(e.location.href);sn.$inject=["$provide"],dn.$inject=["$locale"],fn.$inject=["$locale"];var Ei=".",_i={yyyy:gn("FullYear",4),yy:gn("FullYear",2,0,!0),y:gn("FullYear",1),MMMM:mn("Month"),MMM:mn("Month",!0),MM:gn("Month",2,1),M:gn("Month",1,1),dd:gn("Date",2),d:gn("Date",1),HH:gn("Hours",2),H:gn("Hours",1),hh:gn("Hours",2,-12),h:gn("Hours",1,-12),mm:gn("Minutes",2),m:gn("Minutes",1),ss:gn("Seconds",2),s:gn("Seconds",1),sss:gn("Milliseconds",3),EEEE:mn("Day"),EEE:mn("Day",!0),a:$n,Z:vn,ww:wn(2),w:wn(1),G:xn,GG:xn,GGG:xn,GGGG:Cn},Si=/((?:[^yMdHhmsaZEwG']+)|(?:'(?:[^']|'')*')|(?:E+|y+|M+|d+|H+|h+|m+|s+|a|Z|G+|w+))(.*)/,ki=/^\-?\d+$/;En.$inject=["$locale"];var Ti=m(Yn),Oi=m(Qn);kn.$inject=["$parse"];var Ai=m({restrict:"E",compile:function(e,t){return t.href||t.xlinkHref||t.name?void 0:function(e,t){if("a"===t[0].nodeName.toLowerCase()){var n="[object SVGAnimatedString]"===sr.call(t.prop("href"))?"xlink:href":"href";t.on("click",function(e){t.attr(n)||e.preventDefault()})}}}}),Ri={};a(jr,function(e,t){if("multiple"!=e){var n=Je("ng-"+t);Ri[n]=function(){return{restrict:"A",priority:100,link:function(e,r,i){e.$watch(i[n],function(e){i.$set(t,!!e)})}}}}}),a(Br,function(e,t){Ri[t]=function(){return{priority:100,link:function(e,n,r){if("ngPattern"===t&&"/"==r.ngPattern.charAt(0)){var i=r.ngPattern.match(Gn);if(i)return void r.$set("ngPattern",new RegExp(i[1],i[2]))}e.$watch(r[t],function(e){r.$set(t,e)})}}}}),a(["src","srcset","href"],function(e){var t=Je("ng-"+e);Ri[t]=function(){return{priority:99,link:function(n,r,i){var a=e,o=e;"href"===e&&"[object SVGAnimatedString]"===sr.call(r.prop("href"))&&(o="xlinkHref",i.$attr[o]="xlink:href",a=null),i.$observe(t,function(t){return t?(i.$set(o,t),void(er&&a&&r.prop(a,i[o]))):void("href"===e&&i.$set(o,null))})}}}});var Mi={$addControl:h,$$renameControl:On,$removeControl:h,$setValidity:h,$setDirty:h,$setPristine:h,$setSubmitted:h},Ni="ng-submitted";An.$inject=["$element","$attrs","$scope","$animate","$interpolate"];var Di=function(e){return["$timeout",function(t){var r={name:"form",restrict:e?"EAC":"E",controller:An,compile:function(r,i){r.addClass(ha).addClass(fa);var a=i.name?"name":e&&i.ngForm?"ngForm":!1;return{pre:function(e,r,i,o){if(!("action"in i)){var s=function(t){e.$apply(function(){o.$commitViewValue(),o.$setSubmitted()}),t.preventDefault()};kr(r[0],"submit",s),r.on("$destroy",function(){t(function(){Tr(r[0],"submit",s)},0,!1)})}var l=o.$$parentForm;a&&(Pt(e,null,o.$name,o,o.$name),i.$observe(a,function(t){o.$name!==t&&(Pt(e,null,o.$name,n,o.$name),l.$$renameControl(o,t),Pt(e,null,o.$name,o,o.$name))})),r.on("$destroy",function(){l.$removeControl(o),a&&Pt(e,null,i[a],n,o.$name),d(o,Mi)})}}}};return r}]},Li=Di(),Pi=Di(!0),Ii=/\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z)/,Fi=/^(ftp|http|https):\/\/(\w+:{0,1}\w*@)?(\S+)(:[0-9]+)?(\/|\/([\w#!:.?+=&%@!\-\/]))?$/,ji=/^[a-z0-9!#$%&'*+\/=?^_`{|}~.-]+@[a-z0-9]([a-z0-9-]*[a-z0-9])?(\.[a-z0-9]([a-z0-9-]*[a-z0-9])?)*$/i,Hi=/^\s*(\-|\+)?(\d+|(\d*(\.\d*)))\s*$/,Bi=/^(\d{4})-(\d{2})-(\d{2})$/,Vi=/^(\d{4})-(\d\d)-(\d\d)T(\d\d):(\d\d)(?::(\d\d)(\.\d{1,3})?)?$/,Ui=/^(\d{4})-W(\d\d)$/,zi=/^(\d{4})-(\d\d)$/,qi=/^(\d\d):(\d\d)(?::(\d\d)(\.\d{1,3})?)?$/,Wi={text:Mn,date:Pn("date",Bi,Ln(Bi,["yyyy","MM","dd"]),"yyyy-MM-dd"),"datetime-local":Pn("datetimelocal",Vi,Ln(Vi,["yyyy","MM","dd","HH","mm","ss","sss"]),"yyyy-MM-ddTHH:mm:ss.sss"),time:Pn("time",qi,Ln(qi,["HH","mm","ss","sss"]),"HH:mm:ss.sss"),week:Pn("week",Ui,Dn,"yyyy-Www"),month:Pn("month",zi,Ln(zi,["yyyy","MM"]),"yyyy-MM"),number:Fn,url:jn,email:Hn,radio:Bn,checkbox:Un,hidden:h,button:h,submit:h,reset:h,file:h},Gi=["$browser","$sniffer","$filter","$parse",function(e,t,n,r){return{restrict:"E",require:["?ngModel"],link:{pre:function(i,a,o,s){s[0]&&(Wi[Yn(o.type)]||Wi.text)(i,a,o,s[0],t,e,n,r)}}}}],Ki=/^(true|false|\d+)$/,Yi=function(){return{restrict:"A",priority:100,compile:function(e,t){return Ki.test(t.ngValue)?function(e,t,n){n.$set("value",e.$eval(n.ngValue))}:function(e,t,n){e.$watch(n.ngValue,function(e){n.$set("value",e)})}}}},Xi=["$compile",function(e){return{restrict:"AC",compile:function(t){return e.$$addBindingClass(t),function(t,r,i){e.$$addBindingInfo(r,i.ngBind),r=r[0],t.$watch(i.ngBind,function(e){r.textContent=e===n?"":e})}}}}],Qi=["$interpolate","$compile",function(e,t){return{compile:function(r){return t.$$addBindingClass(r),function(r,i,a){var o=e(i.attr(a.$attr.ngBindTemplate));t.$$addBindingInfo(i,o.expressions),i=i[0],a.$observe("ngBindTemplate",function(e){i.textContent=e===n?"":e})}}}}],Ji=["$sce","$parse","$compile",function(e,t,n){return{restrict:"A",compile:function(r,i){var a=t(i.ngBindHtml),o=t(i.ngBindHtml,function(e){return(e||"").toString()});return n.$$addBindingClass(r),function(t,r,i){n.$$addBindingInfo(r,i.ngBindHtml),t.$watch(o,function(){r.html(e.getTrustedHtml(a(t))||"")})}}}}],Zi=m({restrict:"A",require:"ngModel",link:function(e,t,n,r){r.$viewChangeListeners.push(function(){e.$eval(n.ngChange)})}}),ea=zn("",!0),ta=zn("Odd",0),na=zn("Even",1),ra=Tn({compile:function(e,t){t.$set("ngCloak",n),e.removeClass("ng-cloak")}}),ia=[function(){return{restrict:"A",scope:!0,controller:"@",priority:500}}],aa={},oa={blur:!0,focus:!0};a("click dblclick mousedown mouseup mouseover mouseout mousemove mouseenter mouseleave keydown keyup keypress submit focus blur copy cut paste".split(" "),function(e){var t=Je("ng-"+e);aa[t]=["$parse","$rootScope",function(n,r){return{restrict:"A",compile:function(i,a){var o=n(a[t],null,!0);return function(t,n){n.on(e,function(n){var i=function(){o(t,{$event:n})};oa[e]&&r.$$phase?t.$evalAsync(i):t.$apply(i)})}}}}]});var sa=["$animate",function(e){return{multiElement:!0,transclude:"element",priority:600,terminal:!0,restrict:"A",$$tlb:!0,link:function(n,r,i,a,o){var s,l,u;n.$watch(i.ngIf,function(n){n?l||o(function(n,a){l=a,n[n.length++]=t.createComment(" end ngIf: "+i.ngIf+" "),s={clone:n},e.enter(n,r.parent(),r)}):(u&&(u.remove(),u=null),l&&(l.$destroy(),l=null),s&&(u=le(s.clone),e.leave(u).then(function(){u=null}),s=null))})}}}],la=["$templateRequest","$anchorScroll","$animate","$sce",function(e,t,n,r){return{restrict:"ECA",priority:400,terminal:!0,transclude:"element",controller:ur.noop,compile:function(i,a){var o=a.ngInclude||a.src,s=a.onload||"",l=a.autoscroll;return function(i,a,u,c,d){var f,p,h,g=0,m=function(){p&&(p.remove(),p=null),f&&(f.$destroy(),f=null),h&&(n.leave(h).then(function(){p=null}),p=h,h=null)};i.$watch(r.parseAsResourceUrl(o),function(r){var o=function(){!y(l)||l&&!i.$eval(l)||t()},u=++g;r?(e(r,!0).then(function(e){if(u===g){var t=i.$new();c.template=e;var l=d(t,function(e){m(),n.enter(e,null,a).then(o)});f=t,h=l,f.$emit("$includeContentLoaded",r),i.$eval(s)}},function(){u===g&&(m(),i.$emit("$includeContentError",r))}),i.$emit("$includeContentRequested",r)):(m(),c.template=null)})}}}}],ua=["$compile",function(e){return{restrict:"ECA",priority:-400,require:"ngInclude",link:function(n,r,i,a){return/SVG/.test(r[0].toString())?(r.empty(),void e(ye(a.template,t).childNodes)(n,function(e){r.append(e)},{futureParentElement:r})):(r.html(a.template),void e(r.contents())(n))}}}],ca=Tn({priority:450,compile:function(){return{pre:function(e,t,n){e.$eval(n.ngInit)}}}}),da=function(){return{restrict:"A",priority:100,require:"ngModel",link:function(e,t,r,i){var o=t.attr(r.$attr.ngList)||", ",s="false"!==r.ngTrim,l=s?pr(o):o,u=function(e){if(!v(e)){var t=[];return e&&a(e.split(l),function(e){e&&t.push(s?pr(e):e)}),t}};i.$parsers.push(u),i.$formatters.push(function(e){return fr(e)?e.join(o):n}),i.$isEmpty=function(e){return!e||!e.length}}}},fa="ng-valid",pa="ng-invalid",ha="ng-pristine",ga="ng-dirty",ma="ng-untouched",va="ng-touched",ya="ng-pending",ba=new r("ngModel"),wa=["$scope","$exceptionHandler","$attrs","$element","$parse","$animate","$timeout","$rootScope","$q","$interpolate",function(e,t,r,i,o,s,l,u,c,d){this.$viewValue=Number.NaN,this.$modelValue=Number.NaN,this.$$rawModelValue=n,this.$validators={},this.$asyncValidators={},this.$parsers=[],this.$formatters=[],this.$viewChangeListeners=[],this.$untouched=!0,this.$touched=!1,this.$pristine=!0,this.$dirty=!1,this.$valid=!0,this.$invalid=!1,this.$error={},this.$$success={},this.$pending=n,this.$name=d(r.name||"",!1)(e);var f,p=o(r.ngModel),g=p.assign,m=p,b=g,w=null,x=this;this.$$setOptions=function(e){if(x.$options=e,e&&e.getterSetter){var t=o(r.ngModel+"()"),n=o(r.ngModel+"($$$p)");m=function(e){var n=p(e);return C(n)&&(n=t(e)),n},b=function(e,t){C(p(e))?n(e,{$$$p:x.$modelValue}):g(e,x.$modelValue)}}else if(!p.assign)throw ba("nonassign","Expression '{0}' is non-assignable. Element: {1}",r.ngModel,q(i))},this.$render=h,this.$isEmpty=function(e){return v(e)||""===e||null===e||e!==e};var E=i.inheritedData("$formController")||Mi,_=0;qn({ctrl:this,$element:i,set:function(e,t){e[t]=!0},unset:function(e,t){delete e[t]},parentForm:E,$animate:s}),this.$setPristine=function(){x.$dirty=!1,x.$pristine=!0,s.removeClass(i,ga),s.addClass(i,ha)},this.$setDirty=function(){x.$dirty=!0,x.$pristine=!1,s.removeClass(i,ha),s.addClass(i,ga),E.$setDirty()},this.$setUntouched=function(){x.$touched=!1,x.$untouched=!0,s.setClass(i,ma,va)},this.$setTouched=function(){x.$touched=!0,x.$untouched=!1,s.setClass(i,va,ma)},this.$rollbackViewValue=function(){l.cancel(w),x.$viewValue=x.$$lastCommittedViewValue,x.$render()},this.$validate=function(){if(!$(x.$modelValue)||!isNaN(x.$modelValue)){var e=x.$$lastCommittedViewValue,t=x.$$rawModelValue,r=x.$valid,i=x.$modelValue,a=x.$options&&x.$options.allowInvalid;x.$$runValidators(t,e,function(e){a||r===e||(x.$modelValue=e?t:n,x.$modelValue!==i&&x.$$writeModelToScope())})}},this.$$runValidators=function(e,t,r){function i(){var e=x.$$parserName||"parse";return f!==n?(f||(a(x.$validators,function(e,t){l(t,null)}),a(x.$asyncValidators,function(e,t){l(t,null)})),l(e,f),f):(l(e,null),!0)}function o(){var n=!0;return a(x.$validators,function(r,i){var a=r(e,t);n=n&&a,l(i,a)}),n?!0:(a(x.$asyncValidators,function(e,t){l(t,null)}),!1)}function s(){var r=[],i=!0;a(x.$asyncValidators,function(a,o){var s=a(e,t);if(!R(s))throw ba("$asyncValidators","Expected asynchronous validator to return a promise but got '{0}' instead.",s);l(o,n),r.push(s.then(function(){l(o,!0)},function(e){i=!1,l(o,!1)}))}),r.length?c.all(r).then(function(){u(i)},h):u(!0)}function l(e,t){d===_&&x.$setValidity(e,t)}function u(e){d===_&&r(e)}_++;var d=_;return i()&&o()?void s():void u(!1)},this.$commitViewValue=function(){var e=x.$viewValue;l.cancel(w),(x.$$lastCommittedViewValue!==e||""===e&&x.$$hasNativeValidators)&&(x.$$lastCommittedViewValue=e,x.$pristine&&this.$setDirty(),this.$$parseAndValidate())},this.$$parseAndValidate=function(){function t(){x.$modelValue!==o&&x.$$writeModelToScope()}var r=x.$$lastCommittedViewValue,i=r;if(f=v(i)?n:!0)for(var a=0;a<x.$parsers.length;a++)if(i=x.$parsers[a](i),v(i)){f=!1;break}$(x.$modelValue)&&isNaN(x.$modelValue)&&(x.$modelValue=m(e));var o=x.$modelValue,s=x.$options&&x.$options.allowInvalid;x.$$rawModelValue=i,s&&(x.$modelValue=i,t()),x.$$runValidators(i,x.$$lastCommittedViewValue,function(e){s||(x.$modelValue=e?i:n,t())})},this.$$writeModelToScope=function(){b(e,x.$modelValue),a(x.$viewChangeListeners,function(e){try{e()}catch(n){t(n)}})},this.$setViewValue=function(e,t){x.$viewValue=e,(!x.$options||x.$options.updateOnDefault)&&x.$$debounceViewValueCommit(t)},this.$$debounceViewValueCommit=function(t){var n,r=0,i=x.$options;i&&y(i.debounce)&&(n=i.debounce,$(n)?r=n:$(n[t])?r=n[t]:$(n["default"])&&(r=n["default"])),l.cancel(w),r?w=l(function(){x.$commitViewValue()},r):u.$$phase?x.$commitViewValue():e.$apply(function(){x.$commitViewValue()})},e.$watch(function(){var t=m(e);if(t!==x.$modelValue){x.$modelValue=x.$$rawModelValue=t,f=n;for(var r=x.$formatters,i=r.length,a=t;i--;)a=r[i](a);x.$viewValue!==a&&(x.$viewValue=x.$$lastCommittedViewValue=a,x.$render(),x.$$runValidators(t,a,h))}return t})}],$a=["$rootScope",function(e){return{restrict:"A",require:["ngModel","^?form","^?ngModelOptions"],controller:wa,priority:1,compile:function(t){return t.addClass(ha).addClass(ma).addClass(fa),{pre:function(e,t,n,r){var i=r[0],a=r[1]||Mi;i.$$setOptions(r[2]&&r[2].$options),a.$addControl(i),n.$observe("name",function(e){i.$name!==e&&a.$$renameControl(i,e)}),e.$on("$destroy",function(){a.$removeControl(i)})},post:function(t,n,r,i){var a=i[0];a.$options&&a.$options.updateOn&&n.on(a.$options.updateOn,function(e){a.$$debounceViewValueCommit(e&&e.type)}),n.on("blur",function(n){a.$touched||(e.$$phase?t.$evalAsync(a.$setTouched):t.$apply(a.$setTouched))})}}}}}],xa=/(\s+|^)default(\s+|$)/,Ca=function(){return{restrict:"A",controller:["$scope","$attrs",function(e,t){var r=this;this.$options=e.$eval(t.ngModelOptions),this.$options.updateOn!==n?(this.$options.updateOnDefault=!1,this.$options.updateOn=pr(this.$options.updateOn.replace(xa,function(){return r.$options.updateOnDefault=!0," "}))):this.$options.updateOnDefault=!0}]}},Ea=Tn({terminal:!0,priority:1e3}),_a=["$locale","$interpolate",function(e,t){var n=/{}/g,r=/^when(Minus)?(.+)$/;return{restrict:"EA",link:function(i,o,s){function l(e){o.text(e||"")}var u,c=s.count,d=s.$attr.when&&o.attr(s.$attr.when),f=s.offset||0,p=i.$eval(d)||{},h={},g=t.startSymbol(),m=t.endSymbol(),v=g+c+"-"+f+m,y=ur.noop;a(s,function(e,t){var n=r.exec(t);if(n){var i=(n[1]?"-":"")+Yn(n[2]);p[i]=o.attr(s.$attr[t])}}),a(p,function(e,r){h[r]=t(e.replace(n,v))}),i.$watch(c,function(t){var n=parseFloat(t),r=isNaN(n);r||n in p||(n=e.pluralCat(n-f)),n===u||r&&isNaN(u)||(y(),y=i.$watch(h[n],l),u=n)})}}}],Sa=["$parse","$animate",function(e,o){var s="$$NG_REMOVED",l=r("ngRepeat"),u=function(e,t,n,r,i,a,o){e[n]=r,i&&(e[i]=a),e.$index=t,e.$first=0===t,e.$last=t===o-1,e.$middle=!(e.$first||e.$last),e.$odd=!(e.$even=0===(1&t))},c=function(e){return e.clone[0]},d=function(e){return e.clone[e.clone.length-1]};return{restrict:"A",multiElement:!0,transclude:"element",priority:1e3,terminal:!0,$$tlb:!0,compile:function(r,f){var p=f.ngRepeat,h=t.createComment(" end ngRepeat: "+p+" "),g=p.match(/^\s*([\s\S]+?)\s+in\s+([\s\S]+?)(?:\s+as\s+([\s\S]+?))?(?:\s+track\s+by\s+([\s\S]+?))?\s*$/);if(!g)throw l("iexp","Expected expression in form of '_item_ in _collection_[ track by _id_]' but got '{0}'.",p);var m=g[1],v=g[2],y=g[3],b=g[4];if(g=m.match(/^(?:(\s*[\$\w]+)|\(\s*([\$\w]+)\s*,\s*([\$\w]+)\s*\))$/),!g)throw l("iidexp","'_item_' in '_item_ in _collection_' should be an identifier or '(_key_, _value_)' expression, but got '{0}'.",m);var w=g[3]||g[1],$=g[2];if(y&&(!/^[$a-zA-Z_][$a-zA-Z0-9_]*$/.test(y)||/^(null|undefined|this|\$index|\$first|\$middle|\$last|\$even|\$odd|\$parent|\$root|\$id)$/.test(y)))throw l("badident","alias '{0}' is invalid --- must be a valid JS identifier which is not a reserved name.",y);var x,C,E,_,S={$id:He};return b?x=e(b):(E=function(e,t){return He(t)},_=function(e){return e}),function(e,t,r,f,g){x&&(C=function(t,n,r){return $&&(S[$]=t),S[w]=n,S.$index=r,x(e,S)});var m=ue();e.$watchCollection(v,function(r){var f,v,b,x,S,k,T,O,A,R,M,N,D=t[0],L=ue();if(y&&(e[y]=r),i(r))A=r,O=C||E;else{O=C||_,A=[];for(var P in r)r.hasOwnProperty(P)&&"$"!=P.charAt(0)&&A.push(P);A.sort()}for(x=A.length,M=new Array(x),f=0;x>f;f++)if(S=r===A?f:A[f],k=r[S],T=O(S,k,f),m[T])R=m[T],delete m[T],L[T]=R,M[f]=R;else{if(L[T])throw a(M,function(e){e&&e.scope&&(m[e.id]=e)}),l("dupes","Duplicates in a repeater are not allowed. Use 'track by' expression to specify unique keys. Repeater: {0}, Duplicate key: {1}, Duplicate value: {2}",p,T,k);M[f]={id:T,scope:n,clone:n},L[T]=!0}for(var I in m){if(R=m[I],N=le(R.clone),o.leave(N),N[0].parentNode)for(f=0,v=N.length;v>f;f++)N[f][s]=!0;R.scope.$destroy()}for(f=0;x>f;f++)if(S=r===A?f:A[f],k=r[S],R=M[f],R.scope){b=D;do b=b.nextSibling;while(b&&b[s]);c(R)!=b&&o.move(le(R.clone),null,tr(D)),D=d(R),u(R.scope,f,w,k,$,S,x)}else g(function(e,t){R.scope=t;var n=h.cloneNode(!1);e[e.length++]=n,o.enter(e,null,tr(D)),D=n,R.clone=e,L[R.id]=R,u(R.scope,f,w,k,$,S,x)});m=L})}}}}],ka="ng-hide",Ta="ng-hide-animate",Oa=["$animate",function(e){return{restrict:"A",multiElement:!0,link:function(t,n,r){t.$watch(r.ngShow,function(t){e[t?"removeClass":"addClass"](n,ka,{tempClasses:Ta})})}}}],Aa=["$animate",function(e){return{restrict:"A",multiElement:!0,link:function(t,n,r){t.$watch(r.ngHide,function(t){e[t?"addClass":"removeClass"](n,ka,{tempClasses:Ta})})}}}],Ra=Tn(function(e,t,n){e.$watchCollection(n.ngStyle,function(e,n){n&&e!==n&&a(n,function(e,n){t.css(n,"")}),e&&t.css(e)})}),Ma=["$animate",function(e){return{restrict:"EA",require:"ngSwitch",controller:["$scope",function(){this.cases={}}],link:function(n,r,i,o){var s=i.ngSwitch||i.on,l=[],u=[],c=[],d=[],f=function(e,t){return function(){e.splice(t,1)}};n.$watch(s,function(n){var r,i;for(r=0,i=c.length;i>r;++r)e.cancel(c[r]);for(c.length=0,r=0,i=d.length;i>r;++r){var s=le(u[r].clone);d[r].$destroy();var p=c[r]=e.leave(s);p.then(f(c,r))}u.length=0,d.length=0,(l=o.cases["!"+n]||o.cases["?"])&&a(l,function(n){n.transclude(function(r,i){d.push(i);var a=n.element;r[r.length++]=t.createComment(" end ngSwitchWhen: ");var o={clone:r};u.push(o),e.enter(r,a.parent(),a)})})})}}}],Na=Tn({transclude:"element",priority:1200,require:"^ngSwitch",multiElement:!0,link:function(e,t,n,r,i){r.cases["!"+n.ngSwitchWhen]=r.cases["!"+n.ngSwitchWhen]||[],r.cases["!"+n.ngSwitchWhen].push({transclude:i,element:t})}}),Da=Tn({transclude:"element",priority:1200,require:"^ngSwitch",multiElement:!0,link:function(e,t,n,r,i){r.cases["?"]=r.cases["?"]||[],r.cases["?"].push({transclude:i,element:t})}}),La=Tn({restrict:"EAC",link:function(e,t,n,i,a){if(!a)throw r("ngTransclude")("orphan","Illegal use of ngTransclude directive in the template! No parent directive that requires a transclusion found. Element: {0}",q(t));a(function(e){t.empty(),t.append(e)})}}),Pa=["$templateCache",function(e){return{restrict:"E",terminal:!0,compile:function(t,n){if("text/ng-template"==n.type){var r=n.id,i=t[0].text;e.put(r,i)}}}}],Ia=r("ngOptions"),Fa=m({restrict:"A",terminal:!0}),ja=["$compile","$parse",function(e,r){var i=/^\s*([\s\S]+?)(?:\s+as\s+([\s\S]+?))?(?:\s+group\s+by\s+([\s\S]+?))?\s+for\s+(?:([\$\w][\$\w]*)|(?:\(\s*([\$\w][\$\w]*)\s*,\s*([\$\w][\$\w]*)\s*\)))\s+in\s+([\s\S]+?)(?:\s+track\s+by\s+([\s\S]+?))?$/,s={$setViewValue:h};return{restrict:"E",require:["select","?ngModel"],controller:["$element","$scope","$attrs",function(e,t,n){var r,i,a=this,o={},l=s;a.databound=n.ngModel,a.init=function(e,t,n){l=e,r=t,i=n},a.addOption=function(t,n){oe(t,'"option value"'),o[t]=!0,l.$viewValue==t&&(e.val(t),i.parent()&&i.remove()),n&&n[0].hasAttribute("selected")&&(n[0].selected=!0)},a.removeOption=function(e){this.hasOption(e)&&(delete o[e],l.$viewValue===e&&this.renderUnknownOption(e))},a.renderUnknownOption=function(t){var n="? "+He(t)+" ?";i.val(n),e.prepend(i),e.val(n),i.prop("selected",!0)},a.hasOption=function(e){return o.hasOwnProperty(e)},t.$on("$destroy",function(){a.renderUnknownOption=h})}],link:function(s,l,u,c){function d(e,t,n,r){n.$render=function(){var e=n.$viewValue;r.hasOption(e)?(_.parent()&&_.remove(),t.val(e),""===e&&h.prop("selected",!0)):v(e)&&h?t.val(""):r.renderUnknownOption(e)},t.on("change",function(){e.$apply(function(){_.parent()&&_.remove(),n.$setViewValue(t.val())})})}function f(e,t,n){var r;n.$render=function(){var e=new Be(n.$viewValue);a(t.find("option"),function(t){t.selected=y(e.get(t.value))})},e.$watch(function(){F(r,n.$viewValue)||(r=I(n.$viewValue),n.$render())}),t.on("change",function(){e.$apply(function(){var e=[];a(t.find("option"),function(t){t.selected&&e.push(t.value)}),n.$setViewValue(e)})})}function p(t,s,l){function u(e,n,r){return F[k]=r,A&&(F[A]=n),e(t,F)}function c(){t.$apply(function(){var e,n=N(t)||[];if(b)e=[],a(s.val(),function(t){t=L?P[t]:t,e.push(d(t,n[t]))});else{var r=L?P[s.val()]:s.val();e=d(r,n[r])}l.$setViewValue(e),v()})}function d(e,t){if("?"===e)return n;if(""===e)return null;var r=O?O:M;return u(r,e,t)}function f(){var e,n=N(t);if(n&&fr(n)){e=new Array(n.length);for(var r=0,i=n.length;i>r;r++)e[r]=u(S,r,n[r]);return e}if(n){e={};for(var a in n)n.hasOwnProperty(a)&&(e[a]=u(S,a,n[a]))}return e}function p(e){
var t;if(b)if(L&&fr(e)){t=new Be([]);for(var n=0;n<e.length;n++)t.put(u(L,null,e[n]),!0)}else t=new Be(e);else L&&(e=u(L,null,e));return function(n,r){var i;return i=L?L:O?O:M,b?y(t.remove(u(i,n,r))):e===u(i,n,r)}}function h(){x||(t.$$postDigest(v),x=!0)}function m(e,t,n){e[t]=e[t]||0,e[t]+=n?1:-1}function v(){x=!1;var e,n,r,i,c,d,f,h,v,w,_,k,T,O,M,D,j,H={"":[]},B=[""],V=l.$viewValue,U=N(t)||[],z=A?o(U):U,q={},W=p(V),G=!1;for(P={},k=0;w=z.length,w>k;k++)f=k,A&&(f=z[k],"$"===f.charAt(0))||(h=U[f],e=u(R,f,h)||"",(n=H[e])||(n=H[e]=[],B.push(e)),T=W(f,h),G=G||T,D=u(S,f,h),D=y(D)?D:"",j=L?L(t,F):A?z[k]:k,L&&(P[j]=f),n.push({id:j,label:D,selected:T}));for(b||($||null===V?H[""].unshift({id:"",label:"",selected:!G}):G||H[""].unshift({id:"?",label:"",selected:!0})),_=0,v=B.length;v>_;_++){for(e=B[_],n=H[e],I.length<=_?(i={element:E.clone().attr("label",e),label:n.label},c=[i],I.push(c),s.append(i.element)):(c=I[_],i=c[0],i.label!=e&&i.element.attr("label",i.label=e)),O=null,k=0,w=n.length;w>k;k++)r=n[k],(d=c[k+1])?(O=d.element,d.label!==r.label&&(m(q,d.label,!1),m(q,r.label,!0),O.text(d.label=r.label),O.prop("label",d.label)),d.id!==r.id&&O.val(d.id=r.id),O[0].selected!==r.selected&&(O.prop("selected",d.selected=r.selected),er&&O.prop("selected",d.selected))):(""===r.id&&$?M=$:(M=C.clone()).val(r.id).prop("selected",r.selected).attr("selected",r.selected).prop("label",r.label).text(r.label),c.push(d={element:M,label:r.label,id:r.id,selected:r.selected}),m(q,r.label,!0),O?O.after(M):i.element.append(M),O=M);for(k++;c.length>k;)r=c.pop(),m(q,r.label,!1),r.element.remove()}for(;I.length>_;){for(n=I.pop(),k=1;k<n.length;++k)m(q,n[k].label,!1);n[0].element.remove()}a(q,function(e,t){e>0?g.addOption(t):0>e&&g.removeOption(t)})}var _;if(!(_=w.match(i)))throw Ia("iexp","Expected expression in form of '_select_ (as _label_)? for (_key_,)?_value_ in _collection_' but got '{0}'. Element: {1}",w,q(s));var S=r(_[2]||_[1]),k=_[4]||_[6],T=/ as /.test(_[0])&&_[1],O=T?r(T):null,A=_[5],R=r(_[3]||""),M=r(_[2]?_[1]:k),N=r(_[7]),D=_[8],L=D?r(_[8]):null,P={},I=[[{element:s,label:""}]],F={};$&&(e($)(t),$.removeClass("ng-scope"),$.remove()),s.empty(),s.on("change",c),l.$render=v,t.$watchCollection(N,h),t.$watchCollection(f,h),b&&t.$watchCollection(function(){return l.$modelValue},h)}if(c[1]){for(var h,g=c[0],m=c[1],b=u.multiple,w=u.ngOptions,$=!1,x=!1,C=tr(t.createElement("option")),E=tr(t.createElement("optgroup")),_=C.clone(),S=0,k=l.children(),T=k.length;T>S;S++)if(""===k[S].value){h=$=k.eq(S);break}g.init(m,$,_),b&&(m.$isEmpty=function(e){return!e||0===e.length}),w?p(s,l,m):b?f(s,l,m):d(s,l,m,g)}}}}],Ha=["$interpolate",function(e){var t={addOption:h,removeOption:h};return{restrict:"E",priority:100,compile:function(n,r){if(v(r.value)){var i=e(n.text(),!0);i||r.$set("value",n.text())}return function(e,n,r){var a="$selectController",o=n.parent(),s=o.data(a)||o.parent().data(a);s&&s.databound||(s=t),i?e.$watch(i,function(e,t){r.$set("value",e),t!==e&&s.removeOption(t),s.addOption(e,n)}):s.addOption(r.value,n),n.on("$destroy",function(){s.removeOption(r.value)})}}}}],Ba=m({restrict:"E",terminal:!1}),Va=function(){return{restrict:"A",require:"?ngModel",link:function(e,t,n,r){r&&(n.required=!0,r.$validators.required=function(e,t){return!n.required||!r.$isEmpty(t)},n.$observe("required",function(){r.$validate()}))}}},Ua=function(){return{restrict:"A",require:"?ngModel",link:function(e,t,i,a){if(a){var o,s=i.ngPattern||i.pattern;i.$observe("pattern",function(e){if(w(e)&&e.length>0&&(e=new RegExp("^"+e+"$")),e&&!e.test)throw r("ngPattern")("noregexp","Expected {0} to be a RegExp but was {1}. Element: {2}",s,e,q(t));o=e||n,a.$validate()}),a.$validators.pattern=function(e){return a.$isEmpty(e)||v(o)||o.test(e)}}}}},za=function(){return{restrict:"A",require:"?ngModel",link:function(e,t,n,r){if(r){var i=-1;n.$observe("maxlength",function(e){var t=f(e);i=isNaN(t)?-1:t,r.$validate()}),r.$validators.maxlength=function(e,t){return 0>i||r.$isEmpty(t)||t.length<=i}}}}},qa=function(){return{restrict:"A",require:"?ngModel",link:function(e,t,n,r){if(r){var i=0;n.$observe("minlength",function(e){i=f(e)||0,r.$validate()}),r.$validators.minlength=function(e,t){return r.$isEmpty(t)||t.length>=i}}}}};return e.angular.bootstrap?void console.log("WARNING: Tried to load angular more than once."):(re(),pe(ur),void tr(t).ready(function(){J(t,Z)}))}(window,document),!window.angular.$$csp()&&window.angular.element(document).find("head").prepend('<style type="text/css">@charset "UTF-8";[ng\\:cloak],[ng-cloak],[data-ng-cloak],[x-ng-cloak],.ng-cloak,.x-ng-cloak,.ng-hide:not(.ng-hide-animate){display:none !important;}ng\\:form{display:block;}</style>')},function(e,t,n){!function(e){e(n(3))}(function(e){function t(e,t){return"pairs"==t&&"string"==typeof e?e:"object"==typeof e&&null!=e[t]?e[t]:c[t]}function n(e){return function(t){return o(t,e)}}function r(e){var t=e.state.closeBrackets;if(!t)return null;var n=e.getModeAt(e.getCursor());return n.closeBrackets||t}function i(n){var i=r(n);if(!i||n.getOption("disableInput"))return e.Pass;for(var a=t(i,"pairs"),o=n.listSelections(),s=0;s<o.length;s++){if(!o[s].empty())return e.Pass;var u=l(n,o[s].head);if(!u||a.indexOf(u)%2!=0)return e.Pass}for(var s=o.length-1;s>=0;s--){var c=o[s].head;n.replaceRange("",d(c.line,c.ch-1),d(c.line,c.ch+1))}}function a(n){var i=r(n),a=i&&t(i,"explode");if(!a||n.getOption("disableInput"))return e.Pass;for(var o=n.listSelections(),s=0;s<o.length;s++){if(!o[s].empty())return e.Pass;var u=l(n,o[s].head);if(!u||a.indexOf(u)%2!=0)return e.Pass}n.operation(function(){n.replaceSelection("\n\n",null),n.execCommand("goCharLeft"),o=n.listSelections();for(var e=0;e<o.length;e++){var t=o[e].head.line;n.indentLine(t,null,!0),n.indentLine(t+1,null,!0)}})}function o(n,i){var a=r(n);if(!a||n.getOption("disableInput"))return e.Pass;var o=t(a,"pairs"),l=o.indexOf(i);if(-1==l)return e.Pass;for(var c,f,p=t(a,"triples"),h=o.charAt(l+1)==i,g=n.listSelections(),m=l%2==0,v=0;v<g.length;v++){var y,b=g[v],w=b.head,f=n.getRange(w,d(w.line,w.ch+1));if(m&&!b.empty())y="surround";else if(!h&&m||f!=i)if(h&&w.ch>1&&p.indexOf(i)>=0&&n.getRange(d(w.line,w.ch-2),w)==i+i&&(w.ch<=2||n.getRange(d(w.line,w.ch-3),d(w.line,w.ch-2))!=i))y="addFour";else if(h){if(e.isWordChar(f)||!u(n,w,i))return e.Pass;y="both"}else{if(!m||n.getLine(w.line).length!=w.ch&&!s(f,o)&&!/\s/.test(f))return e.Pass;y="both"}else y=p.indexOf(i)>=0&&n.getRange(w,d(w.line,w.ch+3))==i+i+i?"skipThree":"skip";if(c){if(c!=y)return e.Pass}else c=y}var $=l%2?o.charAt(l-1):i,x=l%2?i:o.charAt(l+1);n.operation(function(){if("skip"==c)n.execCommand("goCharRight");else if("skipThree"==c)for(var e=0;3>e;e++)n.execCommand("goCharRight");else if("surround"==c){for(var t=n.getSelections(),e=0;e<t.length;e++)t[e]=$+t[e]+x;n.replaceSelections(t,"around")}else"both"==c?(n.replaceSelection($+x,null),n.triggerElectric($+x),n.execCommand("goCharLeft")):"addFour"==c&&(n.replaceSelection($+$+$+$,"before"),n.execCommand("goCharRight"))})}function s(e,t){var n=t.lastIndexOf(e);return n>-1&&n%2==1}function l(e,t){var n=e.getRange(d(t.line,t.ch-1),d(t.line,t.ch+1));return 2==n.length?n:null}function u(t,n,r){var i=t.getLine(n.line),a=t.getTokenAt(n);if(/\bstring2?\b/.test(a.type))return!1;var o=new e.StringStream(i.slice(0,n.ch)+r+i.slice(n.ch),4);for(o.pos=o.start=a.start;;){var s=t.getMode().token(o,a.state);if(o.pos>=n.ch+1)return/\bstring2?\b/.test(s);o.start=o.pos}}var c={pairs:"()[]{}''\"\"",triples:"",explode:"[]{}"},d=e.Pos;e.defineOption("autoCloseBrackets",!1,function(t,n,r){r&&r!=e.Init&&(t.removeKeyMap(p),t.state.closeBrackets=null),n&&(t.state.closeBrackets=n,t.addKeyMap(p))});for(var f=c.pairs+"`",p={Backspace:i,Enter:a},h=0;h<f.length;h++)p["'"+f.charAt(h)+"'"]=n(f.charAt(h))})},function(e,t,n){!function(e){e(n(3))}(function(e){function t(e,t,r,i){var a=e.getLineHandle(t.line),l=t.ch-1,u=l>=0&&s[a.text.charAt(l)]||s[a.text.charAt(++l)];if(!u)return null;var c=">"==u.charAt(1)?1:-1;if(r&&c>0!=(l==t.ch))return null;var d=e.getTokenTypeAt(o(t.line,l+1)),f=n(e,o(t.line,l+(c>0?1:0)),c,d||null,i);return null==f?null:{from:o(t.line,l),to:f&&f.pos,match:f&&f.ch==u.charAt(0),forward:c>0}}function n(e,t,n,r,i){for(var a=i&&i.maxScanLineLength||1e4,l=i&&i.maxScanLines||1e3,u=[],c=i&&i.bracketRegex?i.bracketRegex:/[(){}[\]]/,d=n>0?Math.min(t.line+l,e.lastLine()+1):Math.max(e.firstLine()-1,t.line-l),f=t.line;f!=d;f+=n){var p=e.getLine(f);if(p){var h=n>0?0:p.length-1,g=n>0?p.length:-1;if(!(p.length>a))for(f==t.line&&(h=t.ch-(0>n?1:0));h!=g;h+=n){var m=p.charAt(h);if(c.test(m)&&(void 0===r||e.getTokenTypeAt(o(f,h+1))==r)){var v=s[m];if(">"==v.charAt(1)==n>0)u.push(m);else{if(!u.length)return{pos:o(f,h),ch:m};u.pop()}}}}}return f-n==(n>0?e.lastLine():e.firstLine())?!1:null}function r(e,n,r){for(var i=e.state.matchBrackets.maxHighlightLineLength||1e3,s=[],l=e.listSelections(),u=0;u<l.length;u++){var c=l[u].empty()&&t(e,l[u].head,!1,r);if(c&&e.getLine(c.from.line).length<=i){var d=c.match?"CodeMirror-matchingbracket":"CodeMirror-nonmatchingbracket";s.push(e.markText(c.from,o(c.from.line,c.from.ch+1),{className:d})),c.to&&e.getLine(c.to.line).length<=i&&s.push(e.markText(c.to,o(c.to.line,c.to.ch+1),{className:d}))}}if(s.length){a&&e.state.focused&&e.focus();var f=function(){e.operation(function(){for(var e=0;e<s.length;e++)s[e].clear()})};if(!n)return f;setTimeout(f,800)}}function i(e){e.operation(function(){l&&(l(),l=null),l=r(e,!1,e.state.matchBrackets)})}var a=/MSIE \d/.test(navigator.userAgent)&&(null==document.documentMode||document.documentMode<8),o=e.Pos,s={"(":")>",")":"(<","[":"]>","]":"[<","{":"}>","}":"{<"},l=null;e.defineOption("matchBrackets",!1,function(t,n,r){r&&r!=e.Init&&t.off("cursorActivity",i),n&&(t.state.matchBrackets="object"==typeof n?n:{},t.on("cursorActivity",i))}),e.defineExtension("matchBrackets",function(){r(this,!0)}),e.defineExtension("findMatchingBracket",function(e,n,r){return t(this,e,n,r)}),e.defineExtension("scanForBracket",function(e,t,r,i){return n(this,e,t,r,i)})})},function(e,t,n){!function(e){e(n(3))}(function(e){"use strict";e.registerHelper("lint","json",function(t){var n=[];jsonlint.parseError=function(t,r){var i=r.loc;n.push({from:e.Pos(i.first_line-1,i.first_column),to:e.Pos(i.last_line-1,i.last_column),message:t})};try{jsonlint.parse(t)}catch(r){}return n})})},function(e,t,n){!function(e){e(n(3))}(function(e){"use strict";function t(t,n){function r(t){return i.parentNode?(i.style.top=Math.max(0,t.clientY-i.offsetHeight-5)+"px",void(i.style.left=t.clientX+5+"px")):e.off(document,"mousemove",r)}var i=document.createElement("div");return i.className="CodeMirror-lint-tooltip",i.appendChild(n.cloneNode(!0)),document.body.appendChild(i),e.on(document,"mousemove",r),r(t),null!=i.style.opacity&&(i.style.opacity=1),i}function n(e){e.parentNode&&e.parentNode.removeChild(e)}function r(e){e.parentNode&&(null==e.style.opacity&&n(e),e.style.opacity=0,setTimeout(function(){n(e)},600))}function i(n,i,a){function o(){e.off(a,"mouseout",o),s&&(r(s),s=null)}var s=t(n,i),l=setInterval(function(){if(s)for(var e=a;;e=e.parentNode){if(e&&11==e.nodeType&&(e=e.host),e==document.body)return;if(!e){o();break}}return s?void 0:clearInterval(l)},400);e.on(a,"mouseout",o)}function a(e,t,n){this.marked=[],this.options=t,this.timeout=null,this.hasGutter=n,this.onMouseOver=function(t){m(e,t)}}function o(e,t){return t instanceof Function?{getAnnotations:t}:(t&&t!==!0||(t={}),t)}function s(e){var t=e.state.lint;t.hasGutter&&e.clearGutter(v);for(var n=0;n<t.marked.length;++n)t.marked[n].clear();t.marked.length=0}function l(t,n,r,a){var o=document.createElement("div"),s=o;return o.className="CodeMirror-lint-marker-"+n,r&&(s=o.appendChild(document.createElement("div")),s.className="CodeMirror-lint-marker-multiple"),0!=a&&e.on(s,"mouseover",function(e){i(e,t,s)}),o}function u(e,t){return"error"==e?e:t}function c(e){for(var t=[],n=0;n<e.length;++n){var r=e[n],i=r.from.line;(t[i]||(t[i]=[])).push(r)}return t}function d(e){var t=e.severity;t||(t="error");var n=document.createElement("div");return n.className="CodeMirror-lint-message-"+t,n.appendChild(document.createTextNode(e.message)),n}function f(t){var n=t.state.lint,r=n.options,i=r.options||r,a=r.getAnnotations||t.getHelper(e.Pos(0,0),"lint");a&&(r.async||a.async?a(t.getValue(),p,i,t):p(t,a(t.getValue(),i,t)))}function p(e,t){s(e);for(var n=e.state.lint,r=n.options,i=c(t),a=0;a<i.length;++a){var o=i[a];if(o){for(var f=null,p=n.hasGutter&&document.createDocumentFragment(),h=0;h<o.length;++h){var g=o[h],m=g.severity;m||(m="error"),f=u(f,m),r.formatAnnotation&&(g=r.formatAnnotation(g)),n.hasGutter&&p.appendChild(d(g)),g.to&&n.marked.push(e.markText(g.from,g.to,{className:"CodeMirror-lint-mark-"+m,__annotation:g}))}n.hasGutter&&e.setGutterMarker(a,v,l(p,f,o.length>1,n.options.tooltips))}}r.onUpdateLinting&&r.onUpdateLinting(t,i,e)}function h(e){var t=e.state.lint;t&&(clearTimeout(t.timeout),t.timeout=setTimeout(function(){f(e)},t.options.delay||500))}function g(e,t){var n=t.target||t.srcElement;i(t,d(e),n)}function m(e,t){var n=t.target||t.srcElement;if(/\bCodeMirror-lint-mark-/.test(n.className))for(var r=n.getBoundingClientRect(),i=(r.left+r.right)/2,a=(r.top+r.bottom)/2,o=e.findMarksAt(e.coordsChar({left:i,top:a},"client")),s=0;s<o.length;++s){var l=o[s].__annotation;if(l)return g(l,t)}}var v="CodeMirror-lint-markers";e.defineOption("lint",!1,function(t,n,r){if(r&&r!=e.Init&&(s(t),t.off("change",h),e.off(t.getWrapperElement(),"mouseover",t.state.lint.onMouseOver),clearTimeout(t.state.lint.timeout),delete t.state.lint),n){for(var i=t.getOption("gutters"),l=!1,u=0;u<i.length;++u)i[u]==v&&(l=!0);var c=t.state.lint=new a(t,o(t,n),l);t.on("change",h),0!=c.options.tooltips&&e.on(t.getWrapperElement(),"mouseover",c.onMouseOver),f(t)}})})},function(e,t,n){!function(e){e(n(3))}(function(e){"use strict";function t(e){for(var t=0;t<e.state.activeLines.length;t++)e.removeLineClass(e.state.activeLines[t],"wrap",a),e.removeLineClass(e.state.activeLines[t],"background",o)}function n(e,t){if(e.length!=t.length)return!1;for(var n=0;n<e.length;n++)if(e[n]!=t[n])return!1;return!0}function r(e,r){for(var i=[],s=0;s<r.length;s++){var l=r[s];if(l.empty()){var u=e.getLineHandleVisualStart(l.head.line);i[i.length-1]!=u&&i.push(u)}}n(e.state.activeLines,i)||e.operation(function(){t(e);for(var n=0;n<i.length;n++)e.addLineClass(i[n],"wrap",a),e.addLineClass(i[n],"background",o);e.state.activeLines=i})}function i(e,t){r(e,t.ranges)}var a="CodeMirror-activeline",o="CodeMirror-activeline-background";e.defineOption("styleActiveLine",!1,function(n,a,o){var s=o&&o!=e.Init;a&&!s?(n.state.activeLines=[],r(n,n.listSelections()),n.on("beforeSelectionChange",i)):!a&&s&&(n.off("beforeSelectionChange",i),t(n),delete n.state.activeLines)})})},function(e,t,n){!function(e){e(n(3))}(function(e){"use strict";e.defineMode("javascript",function(t,n){function r(e){for(var t,n=!1,r=!1;null!=(t=e.next());){if(!n){if("/"==t&&!r)return;"["==t?r=!0:r&&"]"==t&&(r=!1)}n=!n&&"\\"==t}}function i(e,t,n){return me=e,ve=n,t}function a(e,t){var n=e.next();if('"'==n||"'"==n)return t.tokenize=o(n),t.tokenize(e,t);if("."==n&&e.match(/^\d+(?:[eE][+\-]?\d+)?/))return i("number","number");if("."==n&&e.match(".."))return i("spread","meta");if(/[\[\]{}\(\),;\:\.]/.test(n))return i(n);if("="==n&&e.eat(">"))return i("=>","operator");if("0"==n&&e.eat(/x/i))return e.eatWhile(/[\da-f]/i),i("number","number");if(/\d/.test(n))return e.match(/^\d*(?:\.\d*)?(?:[eE][+\-]?\d+)?/),i("number","number");if("/"==n)return e.eat("*")?(t.tokenize=s,s(e,t)):e.eat("/")?(e.skipToEnd(),i("comment","comment")):"operator"==t.lastType||"keyword c"==t.lastType||"sof"==t.lastType||/^[\[{}\(,;:]$/.test(t.lastType)?(r(e),e.match(/^\b(([gimyu])(?![gimyu]*\2))+\b/),i("regexp","string-2")):(e.eatWhile(_e),i("operator","operator",e.current()));if("`"==n)return t.tokenize=l,l(e,t);if("#"==n)return e.skipToEnd(),i("error","error");if(_e.test(n))return e.eatWhile(_e),i("operator","operator",e.current());if(Ce.test(n)){e.eatWhile(Ce);var a=e.current(),u=Ee.propertyIsEnumerable(a)&&Ee[a];return u&&"."!=t.lastType?i(u.type,u.style,a):i("variable","variable",a)}}function o(e){return function(t,n){var r,o=!1;if(we&&"@"==t.peek()&&t.match(Se))return n.tokenize=a,i("jsonld-keyword","meta");for(;null!=(r=t.next())&&(r!=e||o);)o=!o&&"\\"==r;return o||(n.tokenize=a),i("string","string")}}function s(e,t){for(var n,r=!1;n=e.next();){if("/"==n&&r){t.tokenize=a;break}r="*"==n}return i("comment","comment")}function l(e,t){for(var n,r=!1;null!=(n=e.next());){if(!r&&("`"==n||"$"==n&&e.eat("{"))){t.tokenize=a;break}r=!r&&"\\"==n}return i("quasi","string-2",e.current())}function u(e,t){t.fatArrowAt&&(t.fatArrowAt=null);var n=e.string.indexOf("=>",e.start);if(!(0>n)){for(var r=0,i=!1,a=n-1;a>=0;--a){var o=e.string.charAt(a),s=ke.indexOf(o);if(s>=0&&3>s){if(!r){++a;break}if(0==--r)break}else if(s>=3&&6>s)++r;else if(Ce.test(o))i=!0;else{if(/["'\/]/.test(o))return;if(i&&!r){++a;break}}}i&&!r&&(t.fatArrowAt=a)}}function c(e,t,n,r,i,a){this.indented=e,this.column=t,this.type=n,this.prev=i,this.info=a,null!=r&&(this.align=r)}function d(e,t){for(var n=e.localVars;n;n=n.next)if(n.name==t)return!0;for(var r=e.context;r;r=r.prev)for(var n=r.vars;n;n=n.next)if(n.name==t)return!0}function f(e,t,n,r,i){var a=e.cc;for(Oe.state=e,Oe.stream=i,Oe.marked=null,Oe.cc=a,Oe.style=t,e.lexical.hasOwnProperty("align")||(e.lexical.align=!0);;){var o=a.length?a.pop():$e?x:$;if(o(n,r)){for(;a.length&&a[a.length-1].lex;)a.pop()();return Oe.marked?Oe.marked:"variable"==n&&d(e,r)?"variable-2":t}}}function p(){for(var e=arguments.length-1;e>=0;e--)Oe.cc.push(arguments[e])}function h(){return p.apply(null,arguments),!0}function g(e){function t(t){for(var n=t;n;n=n.next)if(n.name==e)return!0;return!1}var r=Oe.state;if(r.context){if(Oe.marked="def",t(r.localVars))return;r.localVars={name:e,next:r.localVars}}else{if(t(r.globalVars))return;n.globalVars&&(r.globalVars={name:e,next:r.globalVars})}}function m(){Oe.state.context={prev:Oe.state.context,vars:Oe.state.localVars},Oe.state.localVars=Ae}function v(){Oe.state.localVars=Oe.state.context.vars,Oe.state.context=Oe.state.context.prev}function y(e,t){var n=function(){var n=Oe.state,r=n.indented;if("stat"==n.lexical.type)r=n.lexical.indented;else for(var i=n.lexical;i&&")"==i.type&&i.align;i=i.prev)r=i.indented;n.lexical=new c(r,Oe.stream.column(),e,null,n.lexical,t)};return n.lex=!0,n}function b(){var e=Oe.state;e.lexical.prev&&(")"==e.lexical.type&&(e.indented=e.lexical.indented),e.lexical=e.lexical.prev)}function w(e){function t(n){return n==e?h():";"==e?p():h(t)}return t}function $(e,t){return"var"==e?h(y("vardef",t.length),U,w(";"),b):"keyword a"==e?h(y("form"),x,$,b):"keyword b"==e?h(y("form"),$,b):"{"==e?h(y("}"),H,b):";"==e?h():"if"==e?("else"==Oe.state.lexical.info&&Oe.state.cc[Oe.state.cc.length-1]==b&&Oe.state.cc.pop()(),h(y("form"),x,$,b,K)):"function"==e?h(ee):"for"==e?h(y("form"),Y,$,b):"variable"==e?h(y("stat"),N):"switch"==e?h(y("form"),x,y("}","switch"),w("{"),H,b,b):"case"==e?h(x,w(":")):"default"==e?h(w(":")):"catch"==e?h(y("form"),m,w("("),te,w(")"),$,b,v):"module"==e?h(y("form"),m,oe,v,b):"class"==e?h(y("form"),ne,b):"export"==e?h(y("form"),se,b):"import"==e?h(y("form"),le,b):p(y("stat"),x,w(";"),b)}function x(e){return E(e,!1)}function C(e){return E(e,!0)}function E(e,t){if(Oe.state.fatArrowAt==Oe.stream.start){var n=t?M:R;if("("==e)return h(m,y(")"),F(z,")"),b,w("=>"),n,v);if("variable"==e)return p(m,z,w("=>"),n,v)}var r=t?T:k;return Te.hasOwnProperty(e)?h(r):"function"==e?h(ee,r):"keyword c"==e?h(t?S:_):"("==e?h(y(")"),_,he,w(")"),b,r):"operator"==e||"spread"==e?h(t?C:x):"["==e?h(y("]"),fe,b,r):"{"==e?j(L,"}",null,r):"quasi"==e?p(O,r):h()}function _(e){return e.match(/[;\}\)\],]/)?p():p(x)}function S(e){return e.match(/[;\}\)\],]/)?p():p(C)}function k(e,t){return","==e?h(x):T(e,t,!1)}function T(e,t,n){var r=0==n?k:T,i=0==n?x:C;return"=>"==e?h(m,n?M:R,v):"operator"==e?/\+\+|--/.test(t)?h(r):"?"==t?h(x,w(":"),i):h(i):"quasi"==e?p(O,r):";"!=e?"("==e?j(C,")","call",r):"."==e?h(D,r):"["==e?h(y("]"),_,w("]"),b,r):void 0:void 0}function O(e,t){return"quasi"!=e?p():"${"!=t.slice(t.length-2)?h(O):h(x,A)}function A(e){return"}"==e?(Oe.marked="string-2",Oe.state.tokenize=l,h(O)):void 0}function R(e){return u(Oe.stream,Oe.state),p("{"==e?$:x)}function M(e){return u(Oe.stream,Oe.state),p("{"==e?$:C)}function N(e){return":"==e?h(b,$):p(k,w(";"),b)}function D(e){return"variable"==e?(Oe.marked="property",h()):void 0}function L(e,t){return"variable"==e||"keyword"==Oe.style?(Oe.marked="property",h("get"==t||"set"==t?P:I)):"number"==e||"string"==e?(Oe.marked=we?"property":Oe.style+" property",h(I)):"jsonld-keyword"==e?h(I):"["==e?h(x,w("]"),I):void 0}function P(e){return"variable"!=e?p(I):(Oe.marked="property",h(ee))}function I(e){return":"==e?h(C):"("==e?p(ee):void 0}function F(e,t){function n(r){if(","==r){var i=Oe.state.lexical;return"call"==i.info&&(i.pos=(i.pos||0)+1),h(e,n)}return r==t?h():h(w(t))}return function(r){return r==t?h():p(e,n)}}function j(e,t,n){for(var r=3;r<arguments.length;r++)Oe.cc.push(arguments[r]);return h(y(t,n),F(e,t),b)}function H(e){return"}"==e?h():p($,H)}function B(e){return xe&&":"==e?h(V):void 0}function V(e){return"variable"==e?(Oe.marked="variable-3",h()):void 0}function U(){return p(z,B,W,G)}function z(e,t){return"variable"==e?(g(t),h()):"["==e?j(z,"]"):"{"==e?j(q,"}"):void 0}function q(e,t){return"variable"!=e||Oe.stream.match(/^\s*:/,!1)?("variable"==e&&(Oe.marked="property"),h(w(":"),z,W)):(g(t),h(W))}function W(e,t){return"="==t?h(C):void 0}function G(e){return","==e?h(U):void 0}function K(e,t){return"keyword b"==e&&"else"==t?h(y("form","else"),$,b):void 0}function Y(e){return"("==e?h(y(")"),X,w(")"),b):void 0}function X(e){return"var"==e?h(U,w(";"),J):";"==e?h(J):"variable"==e?h(Q):p(x,w(";"),J)}function Q(e,t){return"in"==t||"of"==t?(Oe.marked="keyword",h(x)):h(k,J)}function J(e,t){return";"==e?h(Z):"in"==t||"of"==t?(Oe.marked="keyword",h(x)):p(x,w(";"),Z)}function Z(e){")"!=e&&h(x)}function ee(e,t){return"*"==t?(Oe.marked="keyword",h(ee)):"variable"==e?(g(t),h(ee)):"("==e?h(m,y(")"),F(te,")"),b,$,v):void 0}function te(e){return"spread"==e?h(te):p(z,B)}function ne(e,t){return"variable"==e?(g(t),h(re)):void 0}function re(e,t){return"extends"==t?h(x,re):"{"==e?h(y("}"),ie,b):void 0}function ie(e,t){return"variable"==e||"keyword"==Oe.style?"static"==t?(Oe.marked="keyword",h(ie)):(Oe.marked="property","get"==t||"set"==t?h(ae,ee,ie):h(ee,ie)):"*"==t?(Oe.marked="keyword",h(ie)):";"==e?h(ie):"}"==e?h():void 0}function ae(e){return"variable"!=e?p():(Oe.marked="property",h())}function oe(e,t){return"string"==e?h($):"variable"==e?(g(t),h(de)):void 0}function se(e,t){return"*"==t?(Oe.marked="keyword",h(de,w(";"))):"default"==t?(Oe.marked="keyword",h(x,w(";"))):p($)}function le(e){return"string"==e?h():p(ue,de)}function ue(e,t){return"{"==e?j(ue,"}"):("variable"==e&&g(t),"*"==t&&(Oe.marked="keyword"),h(ce))}function ce(e,t){return"as"==t?(Oe.marked="keyword",h(ue)):void 0}function de(e,t){return"from"==t?(Oe.marked="keyword",h(x)):void 0}function fe(e){return"]"==e?h():p(C,pe)}function pe(e){return"for"==e?p(he,w("]")):","==e?h(F(S,"]")):p(F(C,"]"))}function he(e){return"for"==e?h(Y,he):"if"==e?h(x,he):void 0}function ge(e,t){return"operator"==e.lastType||","==e.lastType||_e.test(t.charAt(0))||/[,.]/.test(t.charAt(0))}var me,ve,ye=t.indentUnit,be=n.statementIndent,we=n.jsonld,$e=n.json||we,xe=n.typescript,Ce=n.wordCharacters||/[\w$\xa1-\uffff]/,Ee=function(){function e(e){return{type:e,style:"keyword"}}var t=e("keyword a"),n=e("keyword b"),r=e("keyword c"),i=e("operator"),a={type:"atom",style:"atom"},o={"if":e("if"),"while":t,"with":t,"else":n,"do":n,"try":n,"finally":n,"return":r,"break":r,"continue":r,"new":r,"delete":r,"throw":r,"debugger":r,"var":e("var"),"const":e("var"),let:e("var"),"function":e("function"),"catch":e("catch"),"for":e("for"),"switch":e("switch"),"case":e("case"),"default":e("default"),"in":i,"typeof":i,"instanceof":i,"true":a,"false":a,"null":a,undefined:a,NaN:a,Infinity:a,"this":e("this"),module:e("module"),"class":e("class"),"super":e("atom"),"yield":r,"export":e("export"),"import":e("import"),"extends":r};if(xe){var s={type:"variable",style:"variable-3"},l={"interface":e("interface"),"extends":e("extends"),constructor:e("constructor"),"public":e("public"),"private":e("private"),"protected":e("protected"),"static":e("static"),string:s,number:s,bool:s,any:s};for(var u in l)o[u]=l[u]}return o}(),_e=/[+\-*&%=<>!?|~^]/,Se=/^@(context|id|value|language|type|container|list|set|reverse|index|base|vocab|graph)"/,ke="([{}])",Te={atom:!0,number:!0,variable:!0,string:!0,regexp:!0,"this":!0,"jsonld-keyword":!0},Oe={state:null,column:null,marked:null,cc:null},Ae={name:"this",next:{name:"arguments"}};return b.lex=!0,{startState:function(e){var t={tokenize:a,lastType:"sof",cc:[],lexical:new c((e||0)-ye,0,"block",!1),localVars:n.localVars,context:n.localVars&&{vars:n.localVars},indented:0};return n.globalVars&&"object"==typeof n.globalVars&&(t.globalVars=n.globalVars),t},token:function(e,t){if(e.sol()&&(t.lexical.hasOwnProperty("align")||(t.lexical.align=!1),t.indented=e.indentation(),u(e,t)),t.tokenize!=s&&e.eatSpace())return null;var n=t.tokenize(e,t);return"comment"==me?n:(t.lastType="operator"!=me||"++"!=ve&&"--"!=ve?me:"incdec",f(t,n,me,ve,e))},indent:function(t,r){if(t.tokenize==s)return e.Pass;if(t.tokenize!=a)return 0;var i=r&&r.charAt(0),o=t.lexical;if(!/^\s*else\b/.test(r))for(var l=t.cc.length-1;l>=0;--l){var u=t.cc[l];if(u==b)o=o.prev;else if(u!=K)break}"stat"==o.type&&"}"==i&&(o=o.prev),be&&")"==o.type&&"stat"==o.prev.type&&(o=o.prev);var c=o.type,d=i==c;return"vardef"==c?o.indented+("operator"==t.lastType||","==t.lastType?o.info+1:0):"form"==c&&"{"==i?o.indented:"form"==c?o.indented+ye:"stat"==c?o.indented+(ge(t,r)?be||ye:0):"switch"!=o.info||d||0==n.doubleIndentSwitch?o.align?o.column+(d?0:1):o.indented+(d?0:ye):o.indented+(/^(?:case|default)\b/.test(r)?ye:2*ye)},electricInput:/^\s*(?:case .*?:|default:|\{|\})$/,blockCommentStart:$e?null:"/*",blockCommentEnd:$e?null:"*/",lineComment:$e?null:"//",fold:"brace",closeBrackets:"()[]{}''\"\"``",helperType:$e?"json":"javascript",jsonldMode:we,jsonMode:$e}}),e.registerHelper("wordChars","javascript",/[\w$]/),e.defineMIME("text/javascript","javascript"),e.defineMIME("text/ecmascript","javascript"),e.defineMIME("application/javascript","javascript"),e.defineMIME("application/x-javascript","javascript"),e.defineMIME("application/ecmascript","javascript"),e.defineMIME("application/json",{name:"javascript",json:!0}),e.defineMIME("application/x-json",{name:"javascript",json:!0}),e.defineMIME("application/ld+json",{name:"javascript",jsonld:!0}),e.defineMIME("text/typescript",{name:"javascript",typescript:!0}),e.defineMIME("application/typescript",{name:"javascript",typescript:!0})})},function(e,t,n){!function(t,n,r){e.exports=r(t,n)}("humane",this,function(e,t){var n=window,r=document,i={on:function(e,t,r){"addEventListener"in n?e.addEventListener(t,r,!1):e.attachEvent("on"+t,r)},off:function(e,t,r){"removeEventListener"in n?e.removeEventListener(t,r,!1):e.detachEvent("on"+t,r)},bind:function(e,t){return function(){e.apply(t,arguments)}},isArray:Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)},config:function(e,t){return null!=e?e:t},transSupport:!1,useFilter:/msie [678]/i.test(navigator.userAgent),_checkTransition:function(){var e=r.createElement("div"),t={webkit:"webkit",Moz:"",O:"o",ms:"MS"};for(var n in t)n+"Transition"in e.style&&(this.vendorPrefix=t[n],this.transSupport=!0)}};i._checkTransition();var a=function(e){e||(e={}),this.queue=[],this.baseCls=e.baseCls||"humane",this.addnCls=e.addnCls||"",this.timeout="timeout"in e?e.timeout:2500,this.waitForMove=e.waitForMove||!1,this.clickToClose=e.clickToClose||!1,this.timeoutAfterMove=e.timeoutAfterMove||!1,this.container=e.container;try{this._setupEl()}catch(t){i.on(n,"load",i.bind(this._setupEl,this))}};return a.prototype={constructor:a,_setupEl:function(){var e=r.createElement("div");if(e.style.display="none",!this.container){if(!r.body)throw"document.body is null";this.container=r.body}this.container.appendChild(e),this.el=e,this.removeEvent=i.bind(function(){var e=i.config(this.currentMsg.timeoutAfterMove,this.timeoutAfterMove);e?setTimeout(i.bind(this.remove,this),e):this.remove()},this),this.transEvent=i.bind(this._afterAnimation,this),this._run()},_afterTimeout:function(){i.config(this.currentMsg.waitForMove,this.waitForMove)?this.removeEventsSet||(i.on(r.body,"mousemove",this.removeEvent),i.on(r.body,"click",this.removeEvent),i.on(r.body,"keypress",this.removeEvent),i.on(r.body,"touchstart",this.removeEvent),this.removeEventsSet=!0):this.remove()},_run:function(){if(!this._animating&&this.queue.length&&this.el){this._animating=!0,this.currentTimer&&(clearTimeout(this.currentTimer),this.currentTimer=null);var e=this.queue.shift(),t=i.config(e.clickToClose,this.clickToClose);t&&(i.on(this.el,"click",this.removeEvent),i.on(this.el,"touchstart",this.removeEvent));var n=i.config(e.timeout,this.timeout);n>0&&(this.currentTimer=setTimeout(i.bind(this._afterTimeout,this),n)),i.isArray(e.html)&&(e.html="<ul><li>"+e.html.join("<li>")+"</ul>"),this.el.innerHTML=e.html,this.currentMsg=e,this.el.className=this.baseCls,i.transSupport?(this.el.style.display="block",setTimeout(i.bind(this._showMsg,this),50)):this._showMsg()}},_setOpacity:function(e){if(i.useFilter)try{this.el.filters.item("DXImageTransform.Microsoft.Alpha").Opacity=100*e}catch(t){}else this.el.style.opacity=String(e)},_showMsg:function(){var e=i.config(this.currentMsg.addnCls,this.addnCls);if(i.transSupport)this.el.className=this.baseCls+" "+e+" "+this.baseCls+"-animate";else{var t=0;this.el.className=this.baseCls+" "+e+" "+this.baseCls+"-js-animate",this._setOpacity(0),this.el.style.display="block";var n=this,r=setInterval(function(){1>t?(t+=.1,t>1&&(t=1),n._setOpacity(t)):clearInterval(r)},30)}},_hideMsg:function(){var e=i.config(this.currentMsg.addnCls,this.addnCls);if(i.transSupport)this.el.className=this.baseCls+" "+e,i.on(this.el,i.vendorPrefix?i.vendorPrefix+"TransitionEnd":"transitionend",this.transEvent);else var t=1,n=this,r=setInterval(function(){t>0?(t-=.1,0>t&&(t=0),n._setOpacity(t)):(n.el.className=n.baseCls+" "+e,clearInterval(r),n._afterAnimation())},30)},_afterAnimation:function(){i.transSupport&&i.off(this.el,i.vendorPrefix?i.vendorPrefix+"TransitionEnd":"transitionend",this.transEvent),this.currentMsg.cb&&this.currentMsg.cb(),this.el.style.display="none",this._animating=!1,this._run()},remove:function(e){var t="function"==typeof e?e:null;i.off(r.body,"mousemove",this.removeEvent),i.off(r.body,"click",this.removeEvent),i.off(r.body,"keypress",this.removeEvent),i.off(r.body,"touchstart",this.removeEvent),i.off(this.el,"click",this.removeEvent),i.off(this.el,"touchstart",this.removeEvent),this.removeEventsSet=!1,t&&this.currentMsg&&(this.currentMsg.cb=t),this._animating?this._hideMsg():t&&t()},log:function(e,t,n,r){var i={};if(r)for(var a in r)i[a]=r[a];if("function"==typeof t)n=t;else if(t)for(var a in t)i[a]=t[a];return i.html=e,n&&(i.cb=n),this.queue.push(i),this._run(),this},spawn:function(e){var t=this;return function(n,r,i){return t.log.call(t,n,r,i,e),t}},create:function(e){return new a(e)}},new a})},function(e,t,n){(function(e){(function(){var t=!0,n=!1,r={},i=function(){var e={trace:function(){},yy:{},symbols_:{error:2,JSONString:3,STRING:4,JSONNumber:5,NUMBER:6,JSONNullLiteral:7,NULL:8,JSONBooleanLiteral:9,TRUE:10,FALSE:11,JSONText:12,JSONValue:13,EOF:14,JSONObject:15,JSONArray:16,"{":17,"}":18,JSONMemberList:19,JSONMember:20,":":21,",":22,"[":23,"]":24,JSONElementList:25,$accept:0,$end:1},terminals_:{2:"error",4:"STRING",6:"NUMBER",8:"NULL",10:"TRUE",11:"FALSE",14:"EOF",17:"{",18:"}",21:":",22:",",23:"[",24:"]"},productions_:[0,[3,1],[5,1],[7,1],[9,1],[9,1],[12,2],[13,1],[13,1],[13,1],[13,1],[13,1],[13,1],[15,2],[15,3],[20,3],[19,1],[19,3],[16,2],[16,3],[25,1],[25,3]],
performAction:function(e,t,n,r,i,a,o){var s=a.length-1;switch(i){case 1:this.$=e.replace(/\\(\\|")/g,"$1").replace(/\\n/g,"\n").replace(/\\r/g,"\r").replace(/\\t/g,"	").replace(/\\v/g,"").replace(/\\f/g,"\f").replace(/\\b/g,"\b");break;case 2:this.$=Number(e);break;case 3:this.$=null;break;case 4:this.$=!0;break;case 5:this.$=!1;break;case 6:return this.$=a[s-1];case 13:this.$={};break;case 14:this.$=a[s-1];break;case 15:this.$=[a[s-2],a[s]];break;case 16:this.$={},this.$[a[s][0]]=a[s][1];break;case 17:this.$=a[s-2],a[s-2][a[s][0]]=a[s][1];break;case 18:this.$=[];break;case 19:this.$=a[s-1];break;case 20:this.$=[a[s]];break;case 21:this.$=a[s-2],a[s-2].push(a[s])}},table:[{3:5,4:[1,12],5:6,6:[1,13],7:3,8:[1,9],9:4,10:[1,10],11:[1,11],12:1,13:2,15:7,16:8,17:[1,14],23:[1,15]},{1:[3]},{14:[1,16]},{14:[2,7],18:[2,7],22:[2,7],24:[2,7]},{14:[2,8],18:[2,8],22:[2,8],24:[2,8]},{14:[2,9],18:[2,9],22:[2,9],24:[2,9]},{14:[2,10],18:[2,10],22:[2,10],24:[2,10]},{14:[2,11],18:[2,11],22:[2,11],24:[2,11]},{14:[2,12],18:[2,12],22:[2,12],24:[2,12]},{14:[2,3],18:[2,3],22:[2,3],24:[2,3]},{14:[2,4],18:[2,4],22:[2,4],24:[2,4]},{14:[2,5],18:[2,5],22:[2,5],24:[2,5]},{14:[2,1],18:[2,1],21:[2,1],22:[2,1],24:[2,1]},{14:[2,2],18:[2,2],22:[2,2],24:[2,2]},{3:20,4:[1,12],18:[1,17],19:18,20:19},{3:5,4:[1,12],5:6,6:[1,13],7:3,8:[1,9],9:4,10:[1,10],11:[1,11],13:23,15:7,16:8,17:[1,14],23:[1,15],24:[1,21],25:22},{1:[2,6]},{14:[2,13],18:[2,13],22:[2,13],24:[2,13]},{18:[1,24],22:[1,25]},{18:[2,16],22:[2,16]},{21:[1,26]},{14:[2,18],18:[2,18],22:[2,18],24:[2,18]},{22:[1,28],24:[1,27]},{22:[2,20],24:[2,20]},{14:[2,14],18:[2,14],22:[2,14],24:[2,14]},{3:20,4:[1,12],20:29},{3:5,4:[1,12],5:6,6:[1,13],7:3,8:[1,9],9:4,10:[1,10],11:[1,11],13:30,15:7,16:8,17:[1,14],23:[1,15]},{14:[2,19],18:[2,19],22:[2,19],24:[2,19]},{3:5,4:[1,12],5:6,6:[1,13],7:3,8:[1,9],9:4,10:[1,10],11:[1,11],13:31,15:7,16:8,17:[1,14],23:[1,15]},{18:[2,17],22:[2,17]},{18:[2,15],22:[2,15]},{22:[2,21],24:[2,21]}],defaultActions:{16:[2,6]},parseError:function(e,t){throw new Error(e)},parse:function(e){function t(e){i.length=i.length-2*e,a.length=a.length-e,o.length=o.length-e}function n(){var e;return e=r.lexer.lex()||1,"number"!=typeof e&&(e=r.symbols_[e]||e),e}var r=this,i=[0],a=[null],o=[],s=this.table,l="",u=0,c=0,d=0,f=2,p=1;this.lexer.setInput(e),this.lexer.yy=this.yy,this.yy.lexer=this.lexer,"undefined"==typeof this.lexer.yylloc&&(this.lexer.yylloc={});var h=this.lexer.yylloc;o.push(h),"function"==typeof this.yy.parseError&&(this.parseError=this.yy.parseError);for(var g,m,v,y,b,w,$,x,C,E={};;){if(v=i[i.length-1],this.defaultActions[v]?y=this.defaultActions[v]:(null==g&&(g=n()),y=s[v]&&s[v][g]),"undefined"==typeof y||!y.length||!y[0]){if(!d){C=[];for(w in s[v])this.terminals_[w]&&w>2&&C.push("'"+this.terminals_[w]+"'");var _="";_=this.lexer.showPosition?"Parse error on line "+(u+1)+":\n"+this.lexer.showPosition()+"\nExpecting "+C.join(", ")+", got '"+this.terminals_[g]+"'":"Parse error on line "+(u+1)+": Unexpected "+(1==g?"end of input":"'"+(this.terminals_[g]||g)+"'"),this.parseError(_,{text:this.lexer.match,token:this.terminals_[g]||g,line:this.lexer.yylineno,loc:h,expected:C})}if(3==d){if(g==p)throw new Error(_||"Parsing halted.");c=this.lexer.yyleng,l=this.lexer.yytext,u=this.lexer.yylineno,h=this.lexer.yylloc,g=n()}for(;!(f.toString()in s[v]);){if(0==v)throw new Error(_||"Parsing halted.");t(1),v=i[i.length-1]}m=g,g=f,v=i[i.length-1],y=s[v]&&s[v][f],d=3}if(y[0]instanceof Array&&y.length>1)throw new Error("Parse Error: multiple actions possible at state: "+v+", token: "+g);switch(y[0]){case 1:i.push(g),a.push(this.lexer.yytext),o.push(this.lexer.yylloc),i.push(y[1]),g=null,m?(g=m,m=null):(c=this.lexer.yyleng,l=this.lexer.yytext,u=this.lexer.yylineno,h=this.lexer.yylloc,d>0&&d--);break;case 2:if($=this.productions_[y[1]][1],E.$=a[a.length-$],E._$={first_line:o[o.length-($||1)].first_line,last_line:o[o.length-1].last_line,first_column:o[o.length-($||1)].first_column,last_column:o[o.length-1].last_column},b=this.performAction.call(E,l,c,u,this.yy,y[1],a,o),"undefined"!=typeof b)return b;$&&(i=i.slice(0,-1*$*2),a=a.slice(0,-1*$),o=o.slice(0,-1*$)),i.push(this.productions_[y[1]][0]),a.push(E.$),o.push(E._$),x=s[i[i.length-2]][i[i.length-1]],i.push(x);break;case 3:return!0}}return!0}},t=function(){var e={EOF:1,parseError:function(e,t){if(!this.yy.parseError)throw new Error(e);this.yy.parseError(e,t)},setInput:function(e){return this._input=e,this._more=this._less=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this},input:function(){var e=this._input[0];this.yytext+=e,this.yyleng++,this.match+=e,this.matched+=e;var t=e.match(/\n/);return t&&this.yylineno++,this._input=this._input.slice(1),e},unput:function(e){return this._input=e+this._input,this},more:function(){return this._more=!0,this},less:function(e){this._input=this.match.slice(e)+this._input},pastInput:function(){var e=this.matched.substr(0,this.matched.length-this.match.length);return(e.length>20?"...":"")+e.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var e=this.match;return e.length<20&&(e+=this._input.substr(0,20-e.length)),(e.substr(0,20)+(e.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var e=this.pastInput(),t=new Array(e.length+1).join("-");return e+this.upcomingInput()+"\n"+t+"^"},next:function(){if(this.done)return this.EOF;this._input||(this.done=!0);var e,t,n,r,i;this._more||(this.yytext="",this.match="");for(var a=this._currentRules(),o=0;o<a.length&&(n=this._input.match(this.rules[a[o]]),!n||t&&!(n[0].length>t[0].length)||(t=n,r=o,this.options.flex));o++);return t?(i=t[0].match(/\n.*/g),i&&(this.yylineno+=i.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:i?i[i.length-1].length-1:this.yylloc.last_column+t[0].length},this.yytext+=t[0],this.match+=t[0],this.yyleng=this.yytext.length,this._more=!1,this._input=this._input.slice(t[0].length),this.matched+=t[0],e=this.performAction.call(this,this.yy,this,a[r],this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),e?e:void 0):""===this._input?this.EOF:void this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var e=this.next();return"undefined"!=typeof e?e:this.lex()},begin:function(e){this.conditionStack.push(e)},popState:function(){return this.conditionStack.pop()},_currentRules:function(){return this.conditions[this.conditionStack[this.conditionStack.length-1]].rules},topState:function(){return this.conditionStack[this.conditionStack.length-2]},pushState:function(e){this.begin(e)}};return e.options={},e.performAction=function(e,t,n,r){switch(n){case 0:break;case 1:return 6;case 2:return t.yytext=t.yytext.substr(1,t.yyleng-2),4;case 3:return 17;case 4:return 18;case 5:return 23;case 6:return 24;case 7:return 22;case 8:return 21;case 9:return 10;case 10:return 11;case 11:return 8;case 12:return 14;case 13:return"INVALID"}},e.rules=[/^(?:\s+)/,/^(?:(-?([0-9]|[1-9][0-9]+))(\.[0-9]+)?([eE][-+]?[0-9]+)?\b)/,/^(?:"(?:\\[\\"bfnrt/]|\\u[a-fA-F0-9]{4}|[^\\\0-\x09\x0a-\x1f"])*")/,/^(?:\{)/,/^(?:\})/,/^(?:\[)/,/^(?:\])/,/^(?:,)/,/^(?::)/,/^(?:true\b)/,/^(?:false\b)/,/^(?:null\b)/,/^(?:$)/,/^(?:.)/],e.conditions={INITIAL:{rules:[0,1,2,3,4,5,6,7,8,9,10,11,12,13],inclusive:!0}},e}();return e.lexer=t,e}();return"undefined"!=typeof t&&"undefined"!=typeof r&&(r.parser=i,r.parse=function(){return i.parse.apply(i,arguments)},r.main=function(n){if(!n[1])throw new Error("Usage: "+n[0]+" FILE");if("undefined"!=typeof e)var i=t("fs").readFileSync(t("path").join(e.cwd(),n[1]),"utf8");else var a=t("file").path(t("file").cwd()),i=a.join(n[1]).read({charset:"utf-8"});return r.parser.parse(i)},"undefined"!=typeof n&&t.main===n&&r.main("undefined"!=typeof e?e.argv.slice(1):t("system").args)),r})()}).call(t,n(204))},function(e,t,n){function r(){c=!1,s.length?u=s.concat(u):d=-1,u.length&&i()}function i(){if(!c){var e=setTimeout(r);c=!0;for(var t=u.length;t;){for(s=u,u=[];++d<t;)s[d].run();d=-1,t=u.length}s=null,c=!1,clearTimeout(e)}}function a(e,t){this.fun=e,this.array=t}function o(){}var s,l=e.exports={},u=[],c=!1,d=-1;l.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];u.push(new a(e,t)),1!==u.length||c||setTimeout(i,0)},a.prototype.run=function(){this.fun.apply(null,this.array)},l.title="browser",l.browser=!0,l.env={},l.argv=[],l.version="",l.versions={},l.on=o,l.addListener=o,l.once=o,l.off=o,l.removeListener=o,l.removeAllListeners=o,l.emit=o,l.binding=function(e){throw new Error("process.binding is not supported")},l.cwd=function(){return"/"},l.chdir=function(e){throw new Error("process.chdir is not supported")},l.umask=function(){return 0}},function(e,t,n){var r,i;!function(a,o){r=o,i="function"==typeof r?r.call(t,n,t,e):r,!(void 0!==i&&(e.exports=i))}(this,function(){function e(e,t,n){return t>e?t:e>n?n:e}function t(e){return 100*(-1+e)}function n(e,n,r){var i;return i="translate3d"===u.positionUsing?{transform:"translate3d("+t(e)+"%,0,0)"}:"translate"===u.positionUsing?{transform:"translate("+t(e)+"%,0)"}:{"margin-left":t(e)+"%"},i.transition="all "+n+"ms "+r,i}function r(e,t){var n="string"==typeof e?e:o(e);return n.indexOf(" "+t+" ")>=0}function i(e,t){var n=o(e),i=n+t;r(n,t)||(e.className=i.substring(1))}function a(e,t){var n,i=o(e);r(e,t)&&(n=i.replace(" "+t+" "," "),e.className=n.substring(1,n.length-1))}function o(e){return(" "+(e.className||"")+" ").replace(/\s+/gi," ")}function s(e){e&&e.parentNode&&e.parentNode.removeChild(e)}var l={};l.version="0.2.0";var u=l.settings={minimum:.08,easing:"ease",positionUsing:"",speed:200,trickle:!0,trickleRate:.02,trickleSpeed:800,showSpinner:!0,barSelector:'[role="bar"]',spinnerSelector:'[role="spinner"]',parent:"body",template:'<div class="bar" role="bar"><div class="peg"></div></div><div class="spinner" role="spinner"><div class="spinner-icon"></div></div>'};l.configure=function(e){var t,n;for(t in e)n=e[t],void 0!==n&&e.hasOwnProperty(t)&&(u[t]=n);return this},l.status=null,l.set=function(t){var r=l.isStarted();t=e(t,u.minimum,1),l.status=1===t?null:t;var i=l.render(!r),a=i.querySelector(u.barSelector),o=u.speed,s=u.easing;return i.offsetWidth,c(function(e){""===u.positionUsing&&(u.positionUsing=l.getPositioningCSS()),d(a,n(t,o,s)),1===t?(d(i,{transition:"none",opacity:1}),i.offsetWidth,setTimeout(function(){d(i,{transition:"all "+o+"ms linear",opacity:0}),setTimeout(function(){l.remove(),e()},o)},o)):setTimeout(e,o)}),this},l.isStarted=function(){return"number"==typeof l.status},l.start=function(){l.status||l.set(0);var e=function(){setTimeout(function(){l.status&&(l.trickle(),e())},u.trickleSpeed)};return u.trickle&&e(),this},l.done=function(e){return e||l.status?l.inc(.3+.5*Math.random()).set(1):this},l.inc=function(t){var n=l.status;return n?("number"!=typeof t&&(t=(1-n)*e(Math.random()*n,.1,.95)),n=e(n+t,0,.994),l.set(n)):l.start()},l.trickle=function(){return l.inc(Math.random()*u.trickleRate)},function(){var e=0,t=0;l.promise=function(n){return n&&"resolved"!==n.state()?(0===t&&l.start(),e++,t++,n.always(function(){t--,0===t?(e=0,l.done()):l.set((e-t)/e)}),this):this}}(),l.render=function(e){if(l.isRendered())return document.getElementById("nprogress");i(document.documentElement,"nprogress-busy");var n=document.createElement("div");n.id="nprogress",n.innerHTML=u.template;var r,a=n.querySelector(u.barSelector),o=e?"-100":t(l.status||0),c=document.querySelector(u.parent);return d(a,{transition:"all 0 linear",transform:"translate3d("+o+"%,0,0)"}),u.showSpinner||(r=n.querySelector(u.spinnerSelector),r&&s(r)),c!=document.body&&i(c,"nprogress-custom-parent"),c.appendChild(n),n},l.remove=function(){a(document.documentElement,"nprogress-busy"),a(document.querySelector(u.parent),"nprogress-custom-parent");var e=document.getElementById("nprogress");e&&s(e)},l.isRendered=function(){return!!document.getElementById("nprogress")},l.getPositioningCSS=function(){var e=document.body.style,t="WebkitTransform"in e?"Webkit":"MozTransform"in e?"Moz":"msTransform"in e?"ms":"OTransform"in e?"O":"";return t+"Perspective"in e?"translate3d":t+"Transform"in e?"translate":"margin"};var c=function(){function e(){var n=t.shift();n&&n(e)}var t=[];return function(n){t.push(n),1==t.length&&e()}}(),d=function(){function e(e){return e.replace(/^-ms-/,"ms-").replace(/-([\da-z])/gi,function(e,t){return t.toUpperCase()})}function t(e){var t=document.body.style;if(e in t)return e;for(var n,r=i.length,a=e.charAt(0).toUpperCase()+e.slice(1);r--;)if(n=i[r]+a,n in t)return n;return e}function n(n){return n=e(n),a[n]||(a[n]=t(n))}function r(e,t,r){t=n(t),e.style[t]=r}var i=["Webkit","O","Moz","ms"],a={};return function(e,t){var n,i,a=arguments;if(2==a.length)for(n in t)i=t[n],void 0!==i&&t.hasOwnProperty(n)&&r(e,n,i);else r(e,a[1],a[2])}}();return l})},function(e,t,n){/*!
		Papa Parse
		v4.1.1
		https://github.com/mholt/PapaParse
	*/
!function(t){"use strict";function n(e,n){if(n=n||{},n.worker&&E.WORKERS_SUPPORTED){var r=d();return r.userStep=n.step,r.userChunk=n.chunk,r.userComplete=n.complete,r.userError=n.error,n.step=y(n.step),n.chunk=y(n.chunk),n.complete=y(n.complete),n.error=y(n.error),delete n.worker,void r.postMessage({input:e,config:n,workerId:r.id})}var i=null;return"string"==typeof e?i=n.download?new a(n):new s(n):(t.File&&e instanceof File||e instanceof Object)&&(i=new o(n)),i.stream(e)}function r(e,t){function n(){"object"==typeof t&&("string"==typeof t.delimiter&&1==t.delimiter.length&&-1==E.BAD_DELIMITERS.indexOf(t.delimiter)&&(l=t.delimiter),("boolean"==typeof t.quotes||t.quotes instanceof Array)&&(s=t.quotes),"string"==typeof t.newline&&(u=t.newline))}function r(e){if("object"!=typeof e)return[];var t=[];for(var n in e)t.push(n);return t}function i(e,t){var n="";"string"==typeof e&&(e=JSON.parse(e)),"string"==typeof t&&(t=JSON.parse(t));var r=e instanceof Array&&e.length>0,i=!(t[0]instanceof Array);if(r){for(var o=0;o<e.length;o++)o>0&&(n+=l),n+=a(e[o],o);t.length>0&&(n+=u)}for(var s=0;s<t.length;s++){for(var c=r?e.length:t[s].length,d=0;c>d;d++){d>0&&(n+=l);var f=r&&i?e[d]:d;n+=a(t[s][f],d)}s<t.length-1&&(n+=u)}return n}function a(e,t){if("undefined"==typeof e||null===e)return"";e=e.toString().replace(/"/g,'""');var n="boolean"==typeof s&&s||s instanceof Array&&s[t]||o(e,E.BAD_DELIMITERS)||e.indexOf(l)>-1||" "==e.charAt(0)||" "==e.charAt(e.length-1);return n?'"'+e+'"':e}function o(e,t){for(var n=0;n<t.length;n++)if(e.indexOf(t[n])>-1)return!0;return!1}var s=!1,l=",",u="\r\n";if(n(),"string"==typeof e&&(e=JSON.parse(e)),e instanceof Array){if(!e.length||e[0]instanceof Array)return i(null,e);if("object"==typeof e[0])return i(r(e[0]),e)}else if("object"==typeof e)return"string"==typeof e.data&&(e.data=JSON.parse(e.data)),e.data instanceof Array&&(e.fields||(e.fields=e.data[0]instanceof Array?e.fields:r(e.data[0])),e.data[0]instanceof Array||"object"==typeof e.data[0]||(e.data=[e.data])),i(e.fields||[],e.data||[]);throw"exception: Unable to serialize unrecognized input"}function i(e){function n(e){var t=m(e);t.chunkSize=parseInt(t.chunkSize),this._handle=new l(t),this._handle.streamer=this,this._config=t}this._handle=null,this._paused=!1,this._finished=!1,this._input=null,this._baseIndex=0,this._partialLine="",this._rowCount=0,this._start=0,this._nextChunk=null,this._completeResults={data:[],errors:[],meta:{}},n.call(this,e),this.parseChunk=function(e){var n=this._partialLine+e;this._partialLine="";var r=this._handle.parse(n,this._baseIndex,!this._finished);if(!this._handle.paused()&&!this._handle.aborted()){var i=r.meta.cursor;this._finished||(this._partialLine=n.substring(i-this._baseIndex),this._baseIndex=i),r&&r.data&&(this._rowCount+=r.data.length);var a=this._finished||this._config.preview&&this._rowCount>=this._config.preview;if(w)t.postMessage({results:r,workerId:E.WORKER_ID,finished:a});else if(y(this._config.chunk)){if(this._config.chunk(r,this._handle),this._paused)return;r=void 0,this._completeResults=void 0}return this._config.step||this._config.chunk||(this._completeResults.data=this._completeResults.data.concat(r.data),this._completeResults.errors=this._completeResults.errors.concat(r.errors),this._completeResults.meta=r.meta),!a||!y(this._config.complete)||r&&r.meta.aborted||this._config.complete(this._completeResults),a||r&&r.meta.paused||this._nextChunk(),r}},this._sendError=function(e){y(this._config.error)?this._config.error(e):w&&this._config.error&&t.postMessage({workerId:E.WORKER_ID,error:e,finished:!1})}}function a(e){function t(e){var t=e.getResponseHeader("Content-Range");return parseInt(t.substr(t.lastIndexOf("/")+1))}e=e||{},e.chunkSize||(e.chunkSize=E.RemoteChunkSize),i.call(this,e);var n;w?this._nextChunk=function(){this._readChunk(),this._chunkLoaded()}:this._nextChunk=function(){this._readChunk()},this.stream=function(e){this._input=e,this._nextChunk()},this._readChunk=function(){if(this._finished)return void this._chunkLoaded();if(n=new XMLHttpRequest,w||(n.onload=v(this._chunkLoaded,this),n.onerror=v(this._chunkError,this)),n.open("GET",this._input,!w),this._config.chunkSize){var e=this._start+this._config.chunkSize-1;n.setRequestHeader("Range","bytes="+this._start+"-"+e),n.setRequestHeader("If-None-Match","webkit-no-cache")}try{n.send()}catch(t){this._chunkError(t.message)}w&&0==n.status?this._chunkError():this._start+=this._config.chunkSize},this._chunkLoaded=function(){if(4==n.readyState){if(n.status<200||n.status>=400)return void this._chunkError();this._finished=!this._config.chunkSize||this._start>t(n),this.parseChunk(n.responseText)}},this._chunkError=function(e){var t=n.statusText||e;this._sendError(t)}}function o(e){e=e||{},e.chunkSize||(e.chunkSize=E.LocalChunkSize),i.call(this,e);var t,n,r="undefined"!=typeof FileReader;this.stream=function(e){this._input=e,n=e.slice||e.webkitSlice||e.mozSlice,r?(t=new FileReader,t.onload=v(this._chunkLoaded,this),t.onerror=v(this._chunkError,this)):t=new FileReaderSync,this._nextChunk()},this._nextChunk=function(){this._finished||this._config.preview&&!(this._rowCount<this._config.preview)||this._readChunk()},this._readChunk=function(){var e=this._input;if(this._config.chunkSize){var i=Math.min(this._start+this._config.chunkSize,this._input.size);e=n.call(e,this._start,i)}var a=t.readAsText(e,this._config.encoding);r||this._chunkLoaded({target:{result:a}})},this._chunkLoaded=function(e){this._start+=this._config.chunkSize,this._finished=!this._config.chunkSize||this._start>=this._input.size,this.parseChunk(e.target.result)},this._chunkError=function(){this._sendError(t.error)}}function s(e){e=e||{},i.call(this,e);var t,n;this.stream=function(e){return t=e,n=e,this._nextChunk()},this._nextChunk=function(){if(!this._finished){var e=this._config.chunkSize,t=e?n.substr(0,e):n;return n=e?n.substr(e):"",this._finished=!n,this.parseChunk(t)}}}function l(e){function t(){if($&&f&&(l("Delimiter","UndetectableDelimiter","Unable to auto-detect delimiting character; defaulted to '"+E.DefaultDelimiter+"'"),f=!1),e.skipEmptyLines)for(var t=0;t<$.data.length;t++)1==$.data[t].length&&""==$.data[t][0]&&$.data.splice(t--,1);return n()&&r(),i()}function n(){return e.header&&0==w.length}function r(){if($){for(var e=0;n()&&e<$.data.length;e++)for(var t=0;t<$.data[e].length;t++)w.push($.data[e][t]);$.data.splice(0,1)}}function i(){if(!$||!e.header&&!e.dynamicTyping)return $;for(var t=0;t<$.data.length;t++){for(var n={},r=0;r<$.data[t].length;r++){if(e.dynamicTyping){var i=$.data[t][r];"true"==i||"TRUE"==i?$.data[t][r]=!0:"false"==i||"FALSE"==i?$.data[t][r]=!1:$.data[t][r]=s(i)}e.header&&(r>=w.length?(n.__parsed_extra||(n.__parsed_extra=[]),n.__parsed_extra.push($.data[t][r])):n[w[r]]=$.data[t][r])}e.header&&($.data[t]=n,r>w.length?l("FieldMismatch","TooManyFields","Too many fields: expected "+w.length+" fields but parsed "+r,t):r<w.length&&l("FieldMismatch","TooFewFields","Too few fields: expected "+w.length+" fields but parsed "+r,t))}return e.header&&$.meta&&($.meta.fields=w),$}function a(t){for(var n,r,i,a=[",","	","|",";",E.RECORD_SEP,E.UNIT_SEP],o=0;o<a.length;o++){var s=a[o],l=0,c=0;i=void 0;for(var d=new u({delimiter:s,preview:10}).parse(t),f=0;f<d.data.length;f++){var p=d.data[f].length;c+=p,"undefined"!=typeof i?p>1&&(l+=Math.abs(p-i),i=p):i=p}c/=d.data.length,("undefined"==typeof r||r>l)&&c>1.99&&(r=l,n=s)}return e.delimiter=n,{successful:!!n,bestDelimiter:n}}function o(e){e=e.substr(0,1048576);var t=e.split("\r");if(1==t.length)return"\n";for(var n=0,r=0;r<t.length;r++)"\n"==t[r][0]&&n++;return n>=t.length/2?"\r\n":"\r"}function s(e){var t=p.test(e);return t?parseFloat(e):e}function l(e,t,n,r){$.errors.push({type:e,code:t,message:n,row:r})}var c,d,f,p=/^\s*-?(\d*\.?\d+|\d+\.?\d*)(e[-+]?\d+)?\s*$/i,h=this,g=0,v=!1,b=!1,w=[],$={data:[],errors:[],meta:{}};if(y(e.step)){var x=e.step;e.step=function(r){if($=r,n())t();else{if(t(),0==$.data.length)return;g+=r.data.length,e.preview&&g>e.preview?d.abort():x($,h)}}}this.parse=function(n,r,i){if(e.newline||(e.newline=o(n)),f=!1,!e.delimiter){var s=a(n);s.successful?e.delimiter=s.bestDelimiter:(f=!0,e.delimiter=E.DefaultDelimiter),$.meta.delimiter=e.delimiter}var l=m(e);return e.preview&&e.header&&l.preview++,c=n,d=new u(l),$=d.parse(c,r,i),t(),v?{meta:{paused:!0}}:$||{meta:{paused:!1}}},this.paused=function(){return v},this.pause=function(){v=!0,d.abort(),c=c.substr(d.getCharIndex())},this.resume=function(){v=!1,h.streamer.parseChunk(c)},this.aborted=function(){return b},this.abort=function(){b=!0,d.abort(),$.meta.aborted=!0,y(e.complete)&&e.complete($),c=""}}function u(e){e=e||{};var t=e.delimiter,n=e.newline,r=e.comments,i=e.step,a=e.preview,o=e.fastMode;if(("string"!=typeof t||E.BAD_DELIMITERS.indexOf(t)>-1)&&(t=","),r===t)throw"Comment character same as delimiter";r===!0?r="#":("string"!=typeof r||E.BAD_DELIMITERS.indexOf(r)>-1)&&(r=!1),"\n"!=n&&"\r"!=n&&"\r\n"!=n&&(n="\n");var s=0,l=!1;this.parse=function(e,u,c){function d(e){$.push(e),E=s}function f(t){return c?h():(t||(t=e.substr(s)),C.push(t),s=m,d(C),w&&g(),h())}function p(t){s=t,d(C),C=[],T=e.indexOf(n,s)}function h(e){return{data:$,errors:x,meta:{delimiter:t,linebreak:n,aborted:l,truncated:!!e,cursor:E+(u||0)}}}function g(){i(h()),$=[],x=[]}if("string"!=typeof e)throw"Input must be a string";var m=e.length,v=t.length,y=n.length,b=r.length,w="function"==typeof i;s=0;var $=[],x=[],C=[],E=0;if(!e)return h();if(o||o!==!1&&-1===e.indexOf('"')){for(var _=e.split(n),S=0;S<_.length;S++){var C=_[S];if(s+=C.length,S!==_.length-1)s+=n.length;else if(c)return h();if(!r||C.substr(0,b)!=r){if(w){if($=[],d(C.split(t)),g(),l)return h()}else d(C.split(t));if(a&&S>=a)return $=$.slice(0,a),h(!0)}}return h()}for(var k=e.indexOf(t,s),T=e.indexOf(n,s);;)if('"'!=e[s])if(r&&0===C.length&&e.substr(s,b)===r){if(-1==T)return h();s=T+y,T=e.indexOf(n,s),k=e.indexOf(t,s)}else if(-1!==k&&(T>k||-1===T))C.push(e.substring(s,k)),s=k+v,k=e.indexOf(t,s);else{if(-1===T)break;if(C.push(e.substring(s,T)),p(T+y),w&&(g(),l))return h();if(a&&$.length>=a)return h(!0)}else{var O=s;for(s++;;){var O=e.indexOf('"',O+1);if(-1===O)return c||x.push({type:"Quotes",code:"MissingQuotes",message:"Quoted field unterminated",row:$.length,index:s}),f();if(O===m-1){var A=e.substring(s,O).replace(/""/g,'"');return f(A)}if('"'!=e[O+1]){if(e[O+1]==t){C.push(e.substring(s,O).replace(/""/g,'"')),s=O+1+v,k=e.indexOf(t,s),T=e.indexOf(n,s);break}if(e.substr(O+1,y)===n){if(C.push(e.substring(s,O).replace(/""/g,'"')),p(O+1+y),k=e.indexOf(t,s),w&&(g(),l))return h();if(a&&$.length>=a)return h(!0);break}}else O++}}return f()},this.abort=function(){l=!0},this.getCharIndex=function(){return s}}function c(){var e=document.getElementsByTagName("script");return e.length?e[e.length-1].src:""}function d(){if(!E.WORKERS_SUPPORTED)return!1;if(!$&&null===E.SCRIPT_PATH)throw new Error("Script path cannot be determined automatically when Papa Parse is loaded asynchronously. You need to set Papa.SCRIPT_PATH manually.");var e=new t.Worker(E.SCRIPT_PATH||b);return e.onmessage=f,e.id=C++,x[e.id]=e,e}function f(e){var t=e.data,n=x[t.workerId],r=!1;if(t.error)n.userError(t.error,t.file);else if(t.results&&t.results.data){var i=function(){r=!0,p(t.workerId,{data:[],errors:[],meta:{aborted:!0}})},a={abort:i,pause:h,resume:h};if(y(n.userStep)){for(var o=0;o<t.results.data.length&&(n.userStep({data:[t.results.data[o]],errors:t.results.errors,meta:t.results.meta},a),!r);o++);delete t.results}else y(n.userChunk)&&(n.userChunk(t.results,a,t.file),delete t.results)}t.finished&&!r&&p(t.workerId,t.results)}function p(e,t){var n=x[e];y(n.userComplete)&&n.userComplete(t),n.terminate(),delete x[e]}function h(){throw"Not implemented."}function g(e){var n=e.data;if("undefined"==typeof E.WORKER_ID&&n&&(E.WORKER_ID=n.workerId),"string"==typeof n.input)t.postMessage({workerId:E.WORKER_ID,results:E.parse(n.input,n.config),finished:!0});else if(t.File&&n.input instanceof File||n.input instanceof Object){var r=E.parse(n.input,n.config);r&&t.postMessage({workerId:E.WORKER_ID,results:r,finished:!0})}}function m(e){if("object"!=typeof e)return e;var t=e instanceof Array?[]:{};for(var n in e)t[n]=m(e[n]);return t}function v(e,t){return function(){e.apply(t,arguments)}}function y(e){return"function"==typeof e}var b,w=!t.document&&!!t.postMessage,$=!1,x={},C=0,E={};if(E.parse=n,E.unparse=r,E.RECORD_SEP=String.fromCharCode(30),E.UNIT_SEP=String.fromCharCode(31),E.BYTE_ORDER_MARK="\ufeff",E.BAD_DELIMITERS=["\r","\n",'"',E.BYTE_ORDER_MARK],E.WORKERS_SUPPORTED=!!t.Worker,E.SCRIPT_PATH=null,E.LocalChunkSize=10485760,E.RemoteChunkSize=5242880,E.DefaultDelimiter=",",E.Parser=u,E.ParserHandle=l,E.NetworkStreamer=a,E.FileStreamer=o,E.StringStreamer=s,"undefined"!=typeof e&&e.exports?e.exports=E:y(t.define)&&t.define.amd?t.define(function(){return E}):t.Papa=E,t.jQuery){var _=t.jQuery;_.fn.parse=function(e){function n(){if(0==o.length)return void(y(e.complete)&&e.complete());var t=o[0];if(y(e.before)){var n=e.before(t.file,t.inputElem);if("object"==typeof n){if("abort"==n.action)return void r("AbortError",t.file,t.inputElem,n.reason);if("skip"==n.action)return void i();"object"==typeof n.config&&(t.instanceConfig=_.extend(t.instanceConfig,n.config))}else if("skip"==n)return void i()}var a=t.instanceConfig.complete;t.instanceConfig.complete=function(e){y(a)&&a(e,t.file,t.inputElem),i()},E.parse(t.file,t.instanceConfig)}function r(t,n,r,i){y(e.error)&&e.error({name:t},n,r,i)}function i(){o.splice(0,1),n()}var a=e.config||{},o=[];return this.each(function(e){var n="INPUT"==_(this).prop("tagName").toUpperCase()&&"file"==_(this).attr("type").toLowerCase()&&t.FileReader;if(!n||!this.files||0==this.files.length)return!0;for(var r=0;r<this.files.length;r++)o.push({file:this.files[r],inputElem:this,instanceConfig:_.extend({},a)})}),n(),this}}w?t.onmessage=g:E.WORKERS_SUPPORTED&&(b=c(),document.body?document.addEventListener("DOMContentLoaded",function(){$=!0},!0):$=!0),a.prototype=Object.create(i.prototype),a.prototype.constructor=a,o.prototype=Object.create(i.prototype),o.prototype.constructor=o,s.prototype=Object.create(s.prototype),s.prototype.constructor=s}("undefined"!=typeof window?window:this)},function(e,t,n){/**
	 * Restful Resources service for AngularJS apps
	 * @version v1.4.0 - 2015-04-03 * @link https://github.com/mgonto/restangular
	 * @author Martin Gontovnikas <martin@gon.to>
	 * @license MIT License, http://www.opensource.org/licenses/MIT
	 */
!function(){var e=angular.module("restangular",[]);e.provider("Restangular",function(){var e={};e.init=function(e,t){function n(e,t,n,r){var i={};return _.each(_.keys(r),function(a){var o=r[a];o.params=_.extend({},o.params,e.defaultRequestParams[o.method.toLowerCase()]),_.isEmpty(o.params)&&delete o.params,i[a]=e.isSafe(o.method)?function(){return t(_.extend(o,{url:n}))}:function(e){return t(_.extend(o,{url:n,data:e}))}}),i}e.configuration=t;var r=["get","head","options","trace","getlist"];t.isSafe=function(e){return _.contains(r,e.toLowerCase())};var i=/^https?:\/\//i;t.isAbsoluteUrl=function(e){return _.isUndefined(t.absoluteUrl)||_.isNull(t.absoluteUrl)?e&&i.test(e):t.absoluteUrl},t.absoluteUrl=_.isUndefined(t.absoluteUrl)?!0:t.absoluteUrl,e.setSelfLinkAbsoluteUrl=function(e){t.absoluteUrl=e},t.baseUrl=_.isUndefined(t.baseUrl)?"":t.baseUrl,e.setBaseUrl=function(e){return t.baseUrl=/\/$/.test(e)?e.substring(0,e.length-1):e,this},t.extraFields=t.extraFields||[],e.setExtraFields=function(e){return t.extraFields=e,this},t.defaultHttpFields=t.defaultHttpFields||{},e.setDefaultHttpFields=function(e){return t.defaultHttpFields=e,this},t.withHttpValues=function(e,n){return _.defaults(n,e,t.defaultHttpFields)},t.encodeIds=_.isUndefined(t.encodeIds)?!0:t.encodeIds,e.setEncodeIds=function(e){t.encodeIds=e},t.defaultRequestParams=t.defaultRequestParams||{get:{},post:{},put:{},remove:{},common:{}},e.setDefaultRequestParams=function(e,n){var r=[],i=n||e;return _.isUndefined(n)?r.push("common"):_.isArray(e)?r=e:r.push(e),_.each(r,function(e){t.defaultRequestParams[e]=i}),this},e.requestParams=t.defaultRequestParams,t.defaultHeaders=t.defaultHeaders||{},e.setDefaultHeaders=function(n){return t.defaultHeaders=n,e.defaultHeaders=t.defaultHeaders,this},e.defaultHeaders=t.defaultHeaders,t.methodOverriders=t.methodOverriders||[],e.setMethodOverriders=function(e){var n=_.extend([],e);return t.isOverridenMethod("delete",n)&&n.push("remove"),t.methodOverriders=n,this},t.jsonp=_.isUndefined(t.jsonp)?!1:t.jsonp,e.setJsonp=function(e){t.jsonp=e},t.isOverridenMethod=function(e,n){var r=n||t.methodOverriders;return!_.isUndefined(_.find(r,function(t){return t.toLowerCase()===e.toLowerCase()}))},t.urlCreator=t.urlCreator||"path",e.setUrlCreator=function(e){if(!_.has(t.urlCreatorFactory,e))throw new Error("URL Path selected isn't valid");return t.urlCreator=e,this},t.restangularFields=t.restangularFields||{id:"id",route:"route",parentResource:"parentResource",restangularCollection:"restangularCollection",cannonicalId:"__cannonicalId",etag:"restangularEtag",selfLink:"href",get:"get",getList:"getList",put:"put",post:"post",remove:"remove",head:"head",trace:"trace",options:"options",patch:"patch",getRestangularUrl:"getRestangularUrl",getRequestedUrl:"getRequestedUrl",putElement:"putElement",addRestangularMethod:"addRestangularMethod",getParentList:"getParentList",clone:"clone",ids:"ids",httpConfig:"_$httpConfig",reqParams:"reqParams",one:"one",all:"all",several:"several",oneUrl:"oneUrl",allUrl:"allUrl",customPUT:"customPUT",customPOST:"customPOST",customDELETE:"customDELETE",customGET:"customGET",customGETLIST:"customGETLIST",customOperation:"customOperation",doPUT:"doPUT",doPOST:"doPOST",doDELETE:"doDELETE",doGET:"doGET",doGETLIST:"doGETLIST",fromServer:"fromServer",withConfig:"withConfig",withHttpConfig:"withHttpConfig",singleOne:"singleOne",plain:"plain",save:"save",restangularized:"restangularized"},e.setRestangularFields=function(e){return t.restangularFields=_.extend(t.restangularFields,e),this},t.isRestangularized=function(e){return!!e[t.restangularFields.restangularized]},t.setFieldToElem=function(e,t,n){var r=e.split("."),i=t;return _.each(_.initial(r),function(e){i[e]={},i=i[e]}),i[_.last(r)]=n,this},t.getFieldFromElem=function(e,t){var n=e.split("."),r=t;return _.each(n,function(e){r&&(r=r[e])}),angular.copy(r)},t.setIdToElem=function(e,n){return t.setFieldToElem(t.restangularFields.id,e,n),this},t.getIdFromElem=function(e){return t.getFieldFromElem(t.restangularFields.id,e)},t.isValidId=function(e){return""!==e&&!_.isUndefined(e)&&!_.isNull(e)},t.setUrlToElem=function(e,n){return t.setFieldToElem(t.restangularFields.selfLink,e,n),this},t.getUrlFromElem=function(e){return t.getFieldFromElem(t.restangularFields.selfLink,e)},t.useCannonicalId=_.isUndefined(t.useCannonicalId)?!1:t.useCannonicalId,e.setUseCannonicalId=function(e){return t.useCannonicalId=e,this},t.getCannonicalIdFromElem=function(e){var n=e[t.restangularFields.cannonicalId],r=t.isValidId(n)?n:t.getIdFromElem(e);return r},t.responseInterceptors=t.responseInterceptors||[],t.defaultResponseInterceptor=function(e){return e},t.responseExtractor=function(e,n,r,i,a,o){var s=angular.copy(t.responseInterceptors);s.push(t.defaultResponseInterceptor);var l=e;return _.each(s,function(e){l=e(l,n,r,i,a,o)}),l},e.addResponseInterceptor=function(e){return t.responseInterceptors.push(e),this},t.errorInterceptors=t.errorInterceptors||[],e.addErrorInterceptor=function(e){return t.errorInterceptors.push(e),this},e.setResponseInterceptor=e.addResponseInterceptor,e.setResponseExtractor=e.addResponseInterceptor,e.setErrorInterceptor=e.addErrorInterceptor,t.requestInterceptors=t.requestInterceptors||[],t.defaultInterceptor=function(e,t,n,r,i,a,o){return{element:e,headers:i,params:a,httpConfig:o}},t.fullRequestInterceptor=function(e,n,r,i,a,o,s){var l=angular.copy(t.requestInterceptors),u=t.defaultInterceptor(e,n,r,i,a,o,s);return _.reduce(l,function(e,t){return _.extend(e,t(e.element,n,r,i,e.headers,e.params,e.httpConfig))},u)},e.addRequestInterceptor=function(e){return t.requestInterceptors.push(function(t,n,r,i,a,o,s){return{headers:a,params:o,element:e(t,n,r,i),httpConfig:s}}),this},e.setRequestInterceptor=e.addRequestInterceptor,e.addFullRequestInterceptor=function(e){return t.requestInterceptors.push(e),this},e.setFullRequestInterceptor=e.addFullRequestInterceptor,t.onBeforeElemRestangularized=t.onBeforeElemRestangularized||function(e){return e},e.setOnBeforeElemRestangularized=function(e){return t.onBeforeElemRestangularized=e,this},e.setRestangularizePromiseInterceptor=function(e){return t.restangularizePromiseInterceptor=e,this},t.onElemRestangularized=t.onElemRestangularized||function(e){return e},e.setOnElemRestangularized=function(e){return t.onElemRestangularized=e,this},t.shouldSaveParent=t.shouldSaveParent||function(){return!0},e.setParentless=function(e){return _.isArray(e)?t.shouldSaveParent=function(t){return!_.contains(e,t)}:_.isBoolean(e)&&(t.shouldSaveParent=function(){return!e}),this},t.suffix=_.isUndefined(t.suffix)?null:t.suffix,e.setRequestSuffix=function(e){return t.suffix=e,this},t.transformers=t.transformers||{},e.addElementTransformer=function(n,r,i){var a=null,o=null;2===arguments.length?o=r:(o=i,a=r);var s=t.transformers[n];return s||(s=t.transformers[n]=[]),s.push(function(e,t){return _.isNull(a)||e===a?o(t):t}),e},e.extendCollection=function(t,n){return e.addElementTransformer(t,!0,n)},e.extendModel=function(t,n){return e.addElementTransformer(t,!1,n)},t.transformElem=function(e,n,r,i,a){if(!a&&!t.transformLocalElements&&!e[t.restangularFields.fromServer])return e;var o=t.transformers[r],s=e;return o&&_.each(o,function(e){s=e(n,s)}),t.onElemRestangularized(s,n,r,i)},t.transformLocalElements=_.isUndefined(t.transformLocalElements)?!1:t.transformLocalElements,e.setTransformOnlyServerElements=function(e){t.transformLocalElements=!e},t.fullResponse=_.isUndefined(t.fullResponse)?!1:t.fullResponse,e.setFullResponse=function(e){return t.fullResponse=e,this},t.urlCreatorFactory={};var a=function(){};a.prototype.setConfig=function(e){return this.config=e,this},a.prototype.parentsArray=function(e){for(var t=[];e;)t.push(e),e=e[this.config.restangularFields.parentResource];return t.reverse()},a.prototype.resource=function(e,r,i,a,o,s,l,u){var c=_.defaults(o||{},this.config.defaultRequestParams.common),d=_.defaults(a||{},this.config.defaultHeaders);l&&(t.isSafe(u)?d["If-None-Match"]=l:d["If-Match"]=l);var f=this.base(e);if(s){var p="";/\/$/.test(f)||(p+="/"),p+=s,f+=p}return this.config.suffix&&-1===f.indexOf(this.config.suffix,f.length-this.config.suffix.length)&&!this.config.getUrlFromElem(e)&&(f+=this.config.suffix),e[this.config.restangularFields.httpConfig]=void 0,n(this.config,r,f,{getList:this.config.withHttpValues(i,{method:"GET",params:c,headers:d}),get:this.config.withHttpValues(i,{method:"GET",params:c,headers:d}),jsonp:this.config.withHttpValues(i,{method:"jsonp",params:c,headers:d}),put:this.config.withHttpValues(i,{method:"PUT",params:c,headers:d}),post:this.config.withHttpValues(i,{method:"POST",params:c,headers:d}),remove:this.config.withHttpValues(i,{method:"DELETE",params:c,headers:d}),head:this.config.withHttpValues(i,{method:"HEAD",params:c,headers:d}),trace:this.config.withHttpValues(i,{method:"TRACE",params:c,headers:d}),options:this.config.withHttpValues(i,{method:"OPTIONS",params:c,headers:d}),patch:this.config.withHttpValues(i,{method:"PATCH",params:c,headers:d})})};var o=function(){};o.prototype=new a,o.prototype.normalizeUrl=function(e){var t=/(http[s]?:\/\/)?(.*)?/.exec(e);return t[2]=t[2].replace(/[\\\/]+/g,"/"),"undefined"!=typeof t[1]?t[1]+t[2]:t[2]},o.prototype.base=function(e){var n=this;return _.reduce(this.parentsArray(e),function(e,r){var i,a=n.config.getUrlFromElem(r);if(a){if(n.config.isAbsoluteUrl(a))return a;i=a}else if(i=r[n.config.restangularFields.route],r[n.config.restangularFields.restangularCollection]){var o=r[n.config.restangularFields.ids];o&&(i+="/"+o.join(","))}else{var s;s=n.config.useCannonicalId?n.config.getCannonicalIdFromElem(r):n.config.getIdFromElem(r),t.isValidId(s)&&!r.singleOne&&(i+="/"+(n.config.encodeIds?encodeURIComponent(s):s))}return e=e.replace(/\/$/,"")+"/"+i,n.normalizeUrl(e)},this.config.baseUrl)},o.prototype.fetchUrl=function(e,t){var n=this.base(e);return t&&(n+="/"+t),n},o.prototype.fetchRequestedUrl=function(e,n){function r(e){var t=[];for(var n in e)e.hasOwnProperty(n)&&t.push(n);return t.sort()}function i(e,t,n){for(var i=r(e),a=0;a<i.length;a++)t.call(n,e[i[a]],i[a]);return i}function a(e,t){return encodeURIComponent(e).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,t?"%20":"+")}var o=this.fetchUrl(e,n),s=e[t.restangularFields.reqParams];if(!s)return o+(this.config.suffix||"");var l=[];return i(s,function(e,t){null!==e&&void 0!==e&&(angular.isArray(e)||(e=[e]),angular.forEach(e,function(e){angular.isObject(e)&&(e=angular.toJson(e)),l.push(a(t)+"="+a(e))}))}),o+(this.config.suffix||"")+(-1===o.indexOf("?")?"?":"&")+l.join("&")},t.urlCreatorFactory.path=o};var t={};e.init(this,t),this.$get=["$http","$q",function(n,r){function i(t){function a(e,n,r,i,a){if(n[t.restangularFields.route]=r,n[t.restangularFields.getRestangularUrl]=_.bind(V.fetchUrl,V,n),n[t.restangularFields.getRequestedUrl]=_.bind(V.fetchRequestedUrl,V,n),n[t.restangularFields.addRestangularMethod]=_.bind(F,n),n[t.restangularFields.clone]=_.bind(v,n,n),n[t.restangularFields.reqParams]=_.isEmpty(i)?null:i,n[t.restangularFields.withHttpConfig]=_.bind(S,n),n[t.restangularFields.plain]=_.bind(g,n,n),n[t.restangularFields.restangularized]=!0,n[t.restangularFields.one]=_.bind(o,n,n),n[t.restangularFields.all]=_.bind(s,n,n),n[t.restangularFields.several]=_.bind(l,n,n),n[t.restangularFields.oneUrl]=_.bind(u,n,n),n[t.restangularFields.allUrl]=_.bind(c,n,n),n[t.restangularFields.fromServer]=!!a,e&&t.shouldSaveParent(r)){var d=t.getIdFromElem(e),f=t.getUrlFromElem(e),p=_.union(_.values(_.pick(t.restangularFields,["route","singleOne","parentResource"])),t.extraFields),h=_.pick(e,p);t.isValidId(d)&&t.setIdToElem(h,d,r),t.isValidId(f)&&t.setUrlToElem(h,f,r),n[t.restangularFields.parentResource]=h}else n[t.restangularFields.parentResource]=null;return n}function o(e,n,r,i){var a;if(_.isNumber(n)||_.isNumber(e))throw a="You're creating a Restangular entity with the number ",a+="instead of the route or the parent. For example, you can't call .one(12).",new Error(a);if(_.isUndefined(n))throw a="You're creating a Restangular entity either without the path. ",a+="For example you can't call .one(). Please check if your arguments are valid.",new Error(a);var o={};return t.setIdToElem(o,r,n),t.setFieldToElem(t.restangularFields.singleOne,o,i),y(e,o,n,!1)}function s(e,t){return b(e,[],t,!1)}function l(e,n){var r=[];return r[t.restangularFields.ids]=Array.prototype.splice.call(arguments,2),b(e,r,n,!1)}function u(e,n,r){if(!n)throw new Error("Route is mandatory when creating new Restangular objects.");var i={};return t.setUrlToElem(i,r,n),y(e,i,n,!1)}function c(e,n,r){if(!n)throw new Error("Route is mandatory when creating new Restangular objects.");var i={};return t.setUrlToElem(i,r,n),b(e,i,n,!1)}function d(e,n,r){return e.call=_.bind(f,e),e.get=_.bind(p,e),e[t.restangularFields.restangularCollection]=n,n&&(e.push=_.bind(f,e,"push")),e.$object=r,t.restangularizePromiseInterceptor&&t.restangularizePromiseInterceptor(e),e}function f(e){var n=r.defer(),i=arguments,a={};return this.then(function(t){var r=Array.prototype.slice.call(i,1),o=t[e];o.apply(t,r),a=t,n.resolve(t)}),d(n.promise,this[t.restangularFields.restangularCollection],a)}function p(e){var n=r.defer(),i={};return this.then(function(t){i=t[e],n.resolve(i)}),d(n.promise,this[t.restangularFields.restangularCollection],i)}function h(e,n,r,i){return _.extend(i,r),t.fullResponse?e.resolve(_.extend(n,{data:r})):void e.resolve(r)}function g(e){if(_.isArray(e)){var n=[];return _.each(e,function(e){n.push(t.isRestangularized(e)?g(e):e)}),n}return _.omit(e,_.values(_.omit(t.restangularFields,"id")))}function m(e){e[t.restangularFields.customOperation]=_.bind(I,e),_.each(["put","post","get","delete"],function(t){_.each(["do","custom"],function(n){var r,i="delete"===t?"remove":t,a=n+t.toUpperCase();r="put"!==i&&"post"!==i?I:function(e,t,n,r,i){return _.bind(I,this)(e,n,r,i,t)},e[a]=_.bind(r,e,i)})}),e[t.restangularFields.customGETLIST]=_.bind(E,e),e[t.restangularFields.doGETLIST]=e[t.restangularFields.customGETLIST]}function v(e,n){var r=angular.copy(e,n);return y(r[t.restangularFields.parentResource],r,r[t.restangularFields.route],!0)}function y(e,n,r,i,o,s){var l=t.onBeforeElemRestangularized(n,!1,r),u=a(e,l,r,s,i);return t.useCannonicalId&&(u[t.restangularFields.cannonicalId]=t.getIdFromElem(u)),o&&(u[t.restangularFields.getParentList]=function(){return o}),u[t.restangularFields.restangularCollection]=!1,u[t.restangularFields.get]=_.bind(O,u),u[t.restangularFields.getList]=_.bind(E,u),u[t.restangularFields.put]=_.bind(R,u),u[t.restangularFields.post]=_.bind(M,u),u[t.restangularFields.remove]=_.bind(A,u),u[t.restangularFields.head]=_.bind(N,u),u[t.restangularFields.trace]=_.bind(D,u),u[t.restangularFields.options]=_.bind(L,u),u[t.restangularFields.patch]=_.bind(P,u),u[t.restangularFields.save]=_.bind(k,u),m(u),t.transformElem(u,!1,r,B,!0)}function b(e,n,r,i,o){var s=t.onBeforeElemRestangularized(n,!0,r),l=a(e,s,r,o,i);return l[t.restangularFields.restangularCollection]=!0,l[t.restangularFields.post]=_.bind(M,l,null),l[t.restangularFields.remove]=_.bind(A,l),l[t.restangularFields.head]=_.bind(N,l),l[t.restangularFields.trace]=_.bind(D,l),l[t.restangularFields.putElement]=_.bind(x,l),l[t.restangularFields.options]=_.bind(L,l),l[t.restangularFields.patch]=_.bind(P,l),l[t.restangularFields.get]=_.bind($,l),l[t.restangularFields.getList]=_.bind(E,l,null),m(l),t.transformElem(l,!0,r,B,!0)}function w(e,t,n){var r=b(e,t,n,!1);return _.each(r,function(t){y(e,t,n,!1)}),r}function $(e,t,n){return this.customGET(e.toString(),t,n)}function x(e,n,i){var a=this,o=this[e],s=r.defer(),l=[];return l=t.transformElem(l,!0,o[t.restangularFields.route],B),o.put(n,i).then(function(t){var n=v(a);n[e]=t,l=n,s.resolve(n)},function(e){s.reject(e)}),d(s.promise,!0,l)}function C(e,n,r,i,a,o){var s=t.responseExtractor(e,n,r,i,a,o),l=a.headers("ETag");return s&&l&&(s[t.restangularFields.etag]=l),s}function E(e,i,a){var o=this,s=r.defer(),l="getList",u=V.fetchUrl(this,e),c=e||o[t.restangularFields.route],f=t.fullRequestInterceptor(null,l,c,u,a||{},i||{},this[t.restangularFields.httpConfig]||{}),p=[];p=t.transformElem(p,!0,c,B);var g="getList";t.jsonp&&(g="jsonp");var m=function(n){var r=n.data,i=n.config.params,a=C(r,l,c,u,n,s);if((_.isUndefined(a)||""===a)&&(a=[]),!_.isArray(a))throw new Error("Response for getList SHOULD be an array and not an object or something else");var d=_.map(a,function(n){return o[t.restangularFields.restangularCollection]?y(o[t.restangularFields.parentResource],n,o[t.restangularFields.route],!0,a):y(o,n,e,!0,a)});d=_.extend(a,d),o[t.restangularFields.restangularCollection]?h(s,n,b(o[t.restangularFields.parentResource],d,o[t.restangularFields.route],!0,i),p):h(s,n,b(o,d,e,!0,i),p)};return V.resource(this,n,f.httpConfig,f.headers,f.params,e,this[t.restangularFields.etag],l)[g]().then(m,function(e){304===e.status&&o[t.restangularFields.restangularCollection]?h(s,e,o,p):_.every(t.errorInterceptors,function(t){return t(e,s,m)!==!1})&&s.reject(e)}),d(s.promise,!0,p)}function S(e){return this[t.restangularFields.httpConfig]=e,this}function k(e,n){return this[t.restangularFields.fromServer]?this[t.restangularFields.put](e,n):_.bind(T,this)("post",void 0,e,void 0,n)}function T(e,i,a,o,s){var l=this,u=r.defer(),c=a||{},f=i||this[t.restangularFields.route],p=V.fetchUrl(this,i),m=o||this,v=m[t.restangularFields.etag]||("post"!==e?this[t.restangularFields.etag]:null);_.isObject(m)&&t.isRestangularized(m)&&(m=g(m));var b=t.fullRequestInterceptor(m,e,f,p,s||{},c||{},this[t.restangularFields.httpConfig]||{}),w={};w=t.transformElem(w,!1,f,B);var $=function(n){var r=n.data,i=n.config.params,a=C(r,e,f,p,n,u);if(a)if("post"!==e||l[t.restangularFields.restangularCollection]){var o=y(l[t.restangularFields.parentResource],a,l[t.restangularFields.route],!0,null,i);o[t.restangularFields.singleOne]=l[t.restangularFields.singleOne],h(u,n,o,w)}else{var o=y(l[t.restangularFields.parentResource],a,f,!0,null,i);h(u,n,o,w)}else h(u,n,void 0,w)},x=function(n){304===n.status&&t.isSafe(e)?h(u,n,l,w):_.every(t.errorInterceptors,function(e){return e(n,u,$)!==!1})&&u.reject(n)},E=e,S=_.extend({},b.headers),k=t.isOverridenMethod(e);return k?(E="post",S=_.extend(S,{"X-HTTP-Method-Override":"remove"===e?"DELETE":e.toUpperCase()})):t.jsonp&&"get"===E&&(E="jsonp"),t.isSafe(e)?k?V.resource(this,n,b.httpConfig,S,b.params,i,v,E)[E]({}).then($,x):V.resource(this,n,b.httpConfig,S,b.params,i,v,E)[E]().then($,x):V.resource(this,n,b.httpConfig,S,b.params,i,v,E)[E](b.element).then($,x),d(u.promise,!1,w)}function O(e,t){return _.bind(T,this)("get",void 0,e,void 0,t)}function A(e,t){return _.bind(T,this)("remove",void 0,e,void 0,t)}function R(e,t){return _.bind(T,this)("put",void 0,e,void 0,t)}function M(e,t,n,r){return _.bind(T,this)("post",e,n,t,r)}function N(e,t){return _.bind(T,this)("head",void 0,e,void 0,t)}function D(e,t){return _.bind(T,this)("trace",void 0,e,void 0,t)}function L(e,t){return _.bind(T,this)("options",void 0,e,void 0,t)}function P(e,t,n){return _.bind(T,this)("patch",void 0,t,e,n)}function I(e,t,n,r,i){return _.bind(T,this)(e,t,n,i,r)}function F(e,n,r,i,a,o){var s;s="getList"===n?_.bind(E,this,r):_.bind(I,this,n,r);var l=function(e,t,n){var r=_.defaults({params:e,headers:t,elem:n},{params:i,headers:a,elem:o});return s(r.params,r.headers,r.elem)};this[e]=t.isSafe(n)?l:function(e,t,n){return l(t,n,e)}}function j(n){var r=angular.copy(_.omit(t,"configuration"));return e.init(r,r),n(r),i(r)}function H(e,n){var r=_.values(t.restangularFields),i={},a=(n||B).all(e);i.one=_.bind(o,n||B,n,e),i.post=_.bind(a.post,a),i.getList=_.bind(a.getList,a);for(var s in a)a.hasOwnProperty(s)&&_.isFunction(a[s])&&!_.contains(r,s)&&(i[s]=_.bind(a[s],a));return i}var B={},V=new t.urlCreatorFactory[t.urlCreator];return V.setConfig(t),e.init(B,t),B.copy=_.bind(v,B),B.service=_.bind(H,B),B.withConfig=_.bind(j,B),B.one=_.bind(o,B,null),B.all=_.bind(s,B,null),B.several=_.bind(l,B,null),B.oneUrl=_.bind(u,B,null),B.allUrl=_.bind(c,B,null),B.stripRestangular=_.bind(g,B),B.restangularizeElement=_.bind(y,B),B.restangularizeCollection=_.bind(w,B),B}return i(t)}]})}()},function(e,t,n){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children=[],e.webpackPolyfill=1),e}},function(e,t,n){var r,i;!function(a,o){r=a,i="function"==typeof r?r.call(t,n,t,e):r,!(void 0!==i&&(e.exports=i))}(function(){function e(e,t){var n=typeof e[t];return n==w||!(n!=b||!e[t])||"unknown"==n}function t(e,t){return!(typeof e[t]!=b||!e[t])}function n(e,t){return typeof e[t]!=$}function r(e){return function(t,n){for(var r=n.length;r--;)if(!e(t,n[r]))return!1;return!0}}function i(e){return e&&S(e,_)&&T(e,E)}function a(e){return t(e,"body")?e.body:e.getElementsByTagName("body")[0]}function o(t){typeof console!=$&&e(console,"log")&&console.log(t)}function s(e,t){R&&t?alert(e):o(e)}function l(e){N.initialized=!0,N.supported=!1,s("Rangy is not supported in this environment. Reason: "+e,N.config.alertOnFail)}function u(e){s("Rangy warning: "+e,N.config.alertOnWarn)}function c(e){return e.message||e.description||String(e)}function d(){if(R&&!N.initialized){var t,n=!1,r=!1;e(document,"createRange")&&(t=document.createRange(),S(t,C)&&T(t,x)&&(n=!0));var s=a(document);if(!s||"body"!=s.nodeName.toLowerCase())return void l("No body element found");if(s&&e(s,"createTextRange")&&(t=s.createTextRange(),i(t)&&(r=!0)),!n&&!r)return void l("Neither Range nor TextRange are available");N.initialized=!0,N.features={implementsDomRange:n,implementsTextRange:r};var u,d;for(var f in A)(u=A[f])instanceof g&&u.init(u,N);for(var p=0,h=P.length;h>p;++p)try{P[p](N)}catch(m){d="Rangy init listener threw an exception. Continuing. Detail: "+c(m),o(d)}}}function f(e,t,n){n&&(e+=" in module "+n.name),N.warn("DEPRECATED: "+e+" is deprecated. Please use "+t+" instead.")}function p(e,t,n,r){e[t]=function(){return f(t,n,r),e[n].apply(e,M.toArray(arguments))}}function h(e){e=e||window,d();for(var t=0,n=I.length;n>t;++t)I[t](e)}function g(e,t,n){this.name=e,this.dependencies=t,this.initialized=!1,this.supported=!1,this.initializer=n}function m(e,t,n){var r=new g(e,t,function(t){if(!t.initialized){t.initialized=!0;try{n(N,t),t.supported=!0}catch(r){var i="Module '"+e+"' failed to load: "+c(r);o(i),r.stack&&o(r.stack)}}});return A[e]=r,r}function v(){}function y(){}var b="object",w="function",$="undefined",x=["startContainer","startOffset","endContainer","endOffset","collapsed","commonAncestorContainer"],C=["setStart","setStartBefore","setStartAfter","setEnd","setEndBefore","setEndAfter","collapse","selectNode","selectNodeContents","compareBoundaryPoints","deleteContents","extractContents","cloneContents","insertNode","surroundContents","cloneRange","toString","detach"],E=["boundingHeight","boundingLeft","boundingTop","boundingWidth","htmlText","text"],_=["collapse","compareEndPoints","duplicate","moveToElementText","parentElement","select","setEndPoint","getBoundingClientRect"],S=r(e),k=r(t),T=r(n),O=[].forEach?function(e,t){e.forEach(t)}:function(e,t){for(var n=0,r=e.length;r>n;++n)t(e[n],n)},A={},R=typeof window!=$&&typeof document!=$,M={isHostMethod:e,isHostObject:t,isHostProperty:n,areHostMethods:S,areHostObjects:k,areHostProperties:T,isTextRange:i,getBody:a,forEach:O},N={version:"1.3.0",initialized:!1,isBrowser:R,supported:!0,util:M,features:{},modules:A,config:{alertOnFail:!1,alertOnWarn:!1,preferTextRange:!1,autoInitialize:typeof rangyAutoInitialize==$?!0:rangyAutoInitialize}};N.fail=l,N.warn=u;var D;({}).hasOwnProperty?(M.extend=D=function(e,t,n){var r,i;for(var a in t)t.hasOwnProperty(a)&&(r=e[a],i=t[a],n&&null!==r&&"object"==typeof r&&null!==i&&"object"==typeof i&&D(r,i,!0),e[a]=i);return t.hasOwnProperty("toString")&&(e.toString=t.toString),e},M.createOptions=function(e,t){var n={};return D(n,t),e&&D(n,e),n}):l("hasOwnProperty not supported"),R||l("Rangy can only run in a browser"),function(){var e;if(R){var t=document.createElement("div");t.appendChild(document.createElement("span"));var n=[].slice;try{1==n.call(t.childNodes,0)[0].nodeType&&(e=function(e){return n.call(e,0)})}catch(r){}}e||(e=function(e){for(var t=[],n=0,r=e.length;r>n;++n)t[n]=e[n];return t}),M.toArray=e}();var L;R&&(e(document,"addEventListener")?L=function(e,t,n){e.addEventListener(t,n,!1)}:e(document,"attachEvent")?L=function(e,t,n){e.attachEvent("on"+t,n)}:l("Document does not have required addEventListener or attachEvent method"),M.addListener=L);var P=[];M.deprecationNotice=f,M.createAliasForDeprecatedMethod=p,N.init=d,N.addInitListener=function(e){N.initialized?e(N):P.push(e)};var I=[];N.addShimListener=function(e){I.push(e)},R&&(N.shim=N.createMissingNativeApi=h,p(N,"createMissingNativeApi","shim")),g.prototype={init:function(){for(var e,t,n=this.dependencies||[],r=0,i=n.length;i>r;++r){if(t=n[r],e=A[t],!(e&&e instanceof g))throw new Error("required module '"+t+"' not found");if(e.init(),!e.supported)throw new Error("required module '"+t+"' not supported")}this.initializer(this)},fail:function(e){throw this.initialized=!0,this.supported=!1,new Error(e)},warn:function(e){N.warn("Module "+this.name+": "+e)},deprecationNotice:function(e,t){N.warn("DEPRECATED: "+e+" in module "+this.name+" is deprecated. Please use "+t+" instead")},createError:function(e){return new Error("Error in Rangy "+this.name+" module: "+e)}},N.createModule=function(e){var t,n;2==arguments.length?(t=arguments[1],n=[]):(t=arguments[2],n=arguments[1]);var r=m(e,n,t);N.initialized&&N.supported&&r.init()},N.createCoreModule=function(e,t,n){m(e,t,n)},N.RangePrototype=v,N.rangePrototype=new v,N.selectionPrototype=new y,N.createCoreModule("DomUtil",[],function(e,t){function n(e){var t;return typeof e.namespaceURI==R||null===(t=e.namespaceURI)||"http://www.w3.org/1999/xhtml"==t}function r(e){var t=e.parentNode;return 1==t.nodeType?t:null}function i(e){for(var t=0;e=e.previousSibling;)++t;return t}function a(e){switch(e.nodeType){case 7:case 10:return 0;case 3:case 8:return e.length;default:return e.childNodes.length}}function o(e,t){var n,r=[];for(n=e;n;n=n.parentNode)r.push(n);for(n=t;n;n=n.parentNode)if(P(r,n))return n;return null}function s(e,t,n){for(var r=n?t:t.parentNode;r;){if(r===e)return!0;r=r.parentNode}return!1}function l(e,t){return s(e,t,!0)}function u(e,t,n){for(var r,i=n?e:e.parentNode;i;){if(r=i.parentNode,r===t)return i;i=r}return null}function c(e){var t=e.nodeType;return 3==t||4==t||8==t}function d(e){if(!e)return!1;var t=e.nodeType;return 3==t||8==t}function f(e,t){var n=t.nextSibling,r=t.parentNode;return n?r.insertBefore(e,n):r.appendChild(e),e}function p(e,t,n){var r=e.cloneNode(!1);if(r.deleteData(0,t),e.deleteData(t,e.length-t),f(r,e),n)for(var a,o=0;a=n[o++];)a.node==e&&a.offset>t?(a.node=r,a.offset-=t):a.node==e.parentNode&&a.offset>i(e)&&++a.offset;return r}function h(e){if(9==e.nodeType)return e;if(typeof e.ownerDocument!=R)return e.ownerDocument;if(typeof e.document!=R)return e.document;if(e.parentNode)return h(e.parentNode);throw t.createError("getDocument: no document found for node")}function g(e){var n=h(e);if(typeof n.defaultView!=R)return n.defaultView;if(typeof n.parentWindow!=R)return n.parentWindow;throw t.createError("Cannot get a window object for node")}function m(e){if(typeof e.contentDocument!=R)return e.contentDocument;if(typeof e.contentWindow!=R)return e.contentWindow.document;throw t.createError("getIframeDocument: No Document object found for iframe element")}function v(e){if(typeof e.contentWindow!=R)return e.contentWindow;if(typeof e.contentDocument!=R)return e.contentDocument.defaultView;throw t.createError("getIframeWindow: No Window object found for iframe element")}function y(e){return e&&M.isHostMethod(e,"setTimeout")&&M.isHostObject(e,"document")}function b(e,t,n){var r;if(e?M.isHostProperty(e,"nodeType")?r=1==e.nodeType&&"iframe"==e.tagName.toLowerCase()?m(e):h(e):y(e)&&(r=e.document):r=document,!r)throw t.createError(n+"(): Parameter must be a Window object or DOM node");return r}function w(e){for(var t;t=e.parentNode;)e=t;return e}function $(e,n,r,a){var s,l,c,d,f;if(e==r)return n===a?0:a>n?-1:1;if(s=u(r,e,!0))return n<=i(s)?-1:1;if(s=u(e,r,!0))return i(s)<a?-1:1;if(l=o(e,r),!l)throw new Error("comparePoints error: nodes have no common ancestor");if(c=e===l?l:u(e,l,!0),d=r===l?l:u(r,l,!0),c===d)throw t.createError("comparePoints got to case 4 and childA and childB are the same!");for(f=l.firstChild;f;){if(f===c)return-1;if(f===d)return 1;f=f.nextSibling}}function x(e){var t;try{return t=e.parentNode,!1}catch(n){return!0}}function C(e){if(!e)return"[No node]";if(I&&x(e))return"[Broken node]";if(c(e))return'"'+e.data+'"';if(1==e.nodeType){var t=e.id?' id="'+e.id+'"':"";return"<"+e.nodeName+t+">[index:"+i(e)+",length:"+e.childNodes.length+"]["+(e.innerHTML||"[innerHTML not supported]").slice(0,25)+"]"}return e.nodeName}function E(e){for(var t,n=h(e).createDocumentFragment();t=e.firstChild;)n.appendChild(t);return n}function _(e,t,n){var r=N(e),i=e.createElement("div");i.contentEditable=""+!!n,t&&(i.innerHTML=t);var a=r.firstChild;return a?r.insertBefore(i,a):r.appendChild(i),i}function S(e){return e.parentNode.removeChild(e)}function k(e){this.root=e,this._next=e}function T(e){return new k(e)}function O(e,t){this.node=e,this.offset=t}function A(e){this.code=this[e],this.codeName=e,this.message="DOMException: "+this.codeName}var R="undefined",M=e.util,N=M.getBody;M.areHostMethods(document,["createDocumentFragment","createElement","createTextNode"])||t.fail("document missing a Node creation method"),M.isHostMethod(document,"getElementsByTagName")||t.fail("document missing getElementsByTagName method");var D=document.createElement("div");M.areHostMethods(D,["insertBefore","appendChild","cloneNode"]||!M.areHostObjects(D,["previousSibling","nextSibling","childNodes","parentNode"]))||t.fail("Incomplete Element implementation"),M.isHostProperty(D,"innerHTML")||t.fail("Element is missing innerHTML property");var L=document.createTextNode("test");M.areHostMethods(L,["splitText","deleteData","insertData","appendData","cloneNode"]||!M.areHostObjects(D,["previousSibling","nextSibling","childNodes","parentNode"])||!M.areHostProperties(L,["data"]))||t.fail("Incomplete Text Node implementation");var P=function(e,t){for(var n=e.length;n--;)if(e[n]===t)return!0;return!1},I=!1;!function(){var t=document.createElement("b");t.innerHTML="1";var n=t.firstChild;t.innerHTML="<br />",I=x(n),e.features.crashyTextNodes=I}();var F;typeof window.getComputedStyle!=R?F=function(e,t){return g(e).getComputedStyle(e,null)[t]}:typeof document.documentElement.currentStyle!=R?F=function(e,t){return e.currentStyle?e.currentStyle[t]:""}:t.fail("No means of obtaining computed style properties found"),k.prototype={_current:null,hasNext:function(){return!!this._next},next:function(){var e,t,n=this._current=this._next;if(this._current)if(e=n.firstChild)this._next=e;else{for(t=null;n!==this.root&&!(t=n.nextSibling);)n=n.parentNode;this._next=t}return this._current},detach:function(){this._current=this._next=this.root=null}},O.prototype={equals:function(e){return!!e&&this.node===e.node&&this.offset==e.offset},inspect:function(){return"[DomPosition("+C(this.node)+":"+this.offset+")]"},toString:function(){return this.inspect()}},A.prototype={INDEX_SIZE_ERR:1,HIERARCHY_REQUEST_ERR:3,WRONG_DOCUMENT_ERR:4,NO_MODIFICATION_ALLOWED_ERR:7,NOT_FOUND_ERR:8,NOT_SUPPORTED_ERR:9,INVALID_STATE_ERR:11,INVALID_NODE_TYPE_ERR:24},A.prototype.toString=function(){return this.message},e.dom={arrayContains:P,isHtmlNamespace:n,parentElement:r,getNodeIndex:i,getNodeLength:a,getCommonAncestor:o,isAncestorOf:s,isOrIsAncestorOf:l,getClosestAncestorIn:u,isCharacterDataNode:c,isTextOrCommentNode:d,insertAfter:f,splitDataNode:p,getDocument:h,getWindow:g,getIframeWindow:v,getIframeDocument:m,getBody:N,isWindow:y,getContentDocument:b,getRootContainer:w,comparePoints:$,isBrokenNode:x,inspectNode:C,getComputedStyleProperty:F,createTestElement:_,removeNode:S,fragmentFromNodeChildren:E,createIterator:T,DomPosition:O
},e.DOMException=A}),N.createCoreModule("DomRange",["DomUtil"],function(e,t){function n(e,t){return 3!=e.nodeType&&(B(e,t.startContainer)||B(e,t.endContainer))}function r(e){return e.document||V(e.startContainer)}function i(e){return K(e.startContainer)}function a(e){return new I(e.parentNode,H(e))}function o(e){return new I(e.parentNode,H(e)+1)}function s(e,t,n){var r=11==e.nodeType?e.firstChild:e;return j(t)?n==t.length?L.insertAfter(e,t):t.parentNode.insertBefore(e,0==n?t:z(t,n)):n>=t.childNodes.length?t.appendChild(e):t.insertBefore(e,t.childNodes[n]),r}function l(e,t,n){if(_(e),_(t),r(t)!=r(e))throw new F("WRONG_DOCUMENT_ERR");var i=U(e.startContainer,e.startOffset,t.endContainer,t.endOffset),a=U(e.endContainer,e.endOffset,t.startContainer,t.startOffset);return n?0>=i&&a>=0:0>i&&a>0}function u(e){for(var t,n,i,a=r(e.range).createDocumentFragment();n=e.next();){if(t=e.isPartiallySelectedSubtree(),n=n.cloneNode(!t),t&&(i=e.getSubtreeIterator(),n.appendChild(u(i)),i.detach()),10==n.nodeType)throw new F("HIERARCHY_REQUEST_ERR");a.appendChild(n)}return a}function c(e,t,n){var r,i;n=n||{stop:!1};for(var a,o;a=e.next();)if(e.isPartiallySelectedSubtree()){if(t(a)===!1)return void(n.stop=!0);if(o=e.getSubtreeIterator(),c(o,t,n),o.detach(),n.stop)return}else for(r=L.createIterator(a);i=r.next();)if(t(i)===!1)return void(n.stop=!0)}function d(e){for(var t;e.next();)e.isPartiallySelectedSubtree()?(t=e.getSubtreeIterator(),d(t),t.detach()):e.remove()}function f(e){for(var t,n,i=r(e.range).createDocumentFragment();t=e.next();){if(e.isPartiallySelectedSubtree()?(t=t.cloneNode(!1),n=e.getSubtreeIterator(),t.appendChild(f(n)),n.detach()):e.remove(),10==t.nodeType)throw new F("HIERARCHY_REQUEST_ERR");i.appendChild(t)}return i}function p(e,t,n){var r,i=!(!t||!t.length),a=!!n;i&&(r=new RegExp("^("+t.join("|")+")$"));var o=[];return c(new g(e,!1),function(t){if(!(i&&!r.test(t.nodeType)||a&&!n(t))){var s=e.startContainer;if(t!=s||!j(s)||e.startOffset!=s.length){var l=e.endContainer;t==l&&j(l)&&0==e.endOffset||o.push(t)}}}),o}function h(e){var t="undefined"==typeof e.getName?"Range":e.getName();return"["+t+"("+L.inspectNode(e.startContainer)+":"+e.startOffset+", "+L.inspectNode(e.endContainer)+":"+e.endOffset+")]"}function g(e,t){if(this.range=e,this.clonePartiallySelectedTextNodes=t,!e.collapsed){this.sc=e.startContainer,this.so=e.startOffset,this.ec=e.endContainer,this.eo=e.endOffset;var n=e.commonAncestorContainer;this.sc===this.ec&&j(this.sc)?(this.isSingleCharacterDataNode=!0,this._first=this._last=this._next=this.sc):(this._first=this._next=this.sc!==n||j(this.sc)?q(this.sc,n,!0):this.sc.childNodes[this.so],this._last=this.ec!==n||j(this.ec)?q(this.ec,n,!0):this.ec.childNodes[this.eo-1])}}function m(e){return function(t,n){for(var r,i=n?t:t.parentNode;i;){if(r=i.nodeType,G(e,r))return i;i=i.parentNode}return null}}function v(e,t){if(ie(e,t))throw new F("INVALID_NODE_TYPE_ERR")}function y(e,t){if(!G(t,e.nodeType))throw new F("INVALID_NODE_TYPE_ERR")}function b(e,t){if(0>t||t>(j(e)?e.length:e.childNodes.length))throw new F("INDEX_SIZE_ERR")}function w(e,t){if(ne(e,!0)!==ne(t,!0))throw new F("WRONG_DOCUMENT_ERR")}function $(e){if(re(e,!0))throw new F("NO_MODIFICATION_ALLOWED_ERR")}function x(e,t){if(!e)throw new F(t)}function C(e,t){return t<=(j(e)?e.length:e.childNodes.length)}function E(e){return!!e.startContainer&&!!e.endContainer&&!(Y&&(L.isBrokenNode(e.startContainer)||L.isBrokenNode(e.endContainer)))&&K(e.startContainer)==K(e.endContainer)&&C(e.startContainer,e.startOffset)&&C(e.endContainer,e.endOffset)}function _(e){if(!E(e))throw new Error("Range error: Range is not valid. This usually happens after DOM mutation. Range: ("+e.inspect()+")")}function S(e,t){_(e);var n=e.startContainer,r=e.startOffset,i=e.endContainer,a=e.endOffset,o=n===i;j(i)&&a>0&&a<i.length&&z(i,a,t),j(n)&&r>0&&r<n.length&&(n=z(n,r,t),o?(a-=r,i=n):i==n.parentNode&&a>=H(n)&&a++,r=0),e.setStartAndEnd(n,r,i,a)}function k(e){_(e);var t=e.commonAncestorContainer.parentNode.cloneNode(!1);return t.appendChild(e.cloneContents()),t.innerHTML}function T(e){e.START_TO_START=ce,e.START_TO_END=de,e.END_TO_END=fe,e.END_TO_START=pe,e.NODE_BEFORE=he,e.NODE_AFTER=ge,e.NODE_BEFORE_AND_AFTER=me,e.NODE_INSIDE=ve}function O(e){T(e),T(e.prototype)}function A(e,t){return function(){_(this);var n,r,i=this.startContainer,a=this.startOffset,s=this.commonAncestorContainer,l=new g(this,!0);i!==s&&(n=q(i,s,!0),r=o(n),i=r.node,a=r.offset),c(l,$),l.reset();var u=e(l);return l.detach(),t(this,i,a,i,a),u}}function R(t,r){function i(e,t){return function(n){y(n,Q),y(K(n),J);var r=(e?a:o)(n);(t?s:l)(this,r.node,r.offset)}}function s(e,t,n){var i=e.endContainer,a=e.endOffset;(t!==e.startContainer||n!==e.startOffset)&&((K(t)!=K(i)||1==U(t,n,i,a))&&(i=t,a=n),r(e,t,n,i,a))}function l(e,t,n){var i=e.startContainer,a=e.startOffset;(t!==e.endContainer||n!==e.endOffset)&&((K(t)!=K(i)||-1==U(t,n,i,a))&&(i=t,a=n),r(e,i,a,t,n))}var u=function(){};u.prototype=e.rangePrototype,t.prototype=new u,P.extend(t.prototype,{setStart:function(e,t){v(e,!0),b(e,t),s(this,e,t)},setEnd:function(e,t){v(e,!0),b(e,t),l(this,e,t)},setStartAndEnd:function(){var e=arguments,t=e[0],n=e[1],i=t,a=n;switch(e.length){case 3:a=e[2];break;case 4:i=e[2],a=e[3]}r(this,t,n,i,a)},setBoundary:function(e,t,n){this["set"+(n?"Start":"End")](e,t)},setStartBefore:i(!0,!0),setStartAfter:i(!1,!0),setEndBefore:i(!0,!1),setEndAfter:i(!1,!1),collapse:function(e){_(this),e?r(this,this.startContainer,this.startOffset,this.startContainer,this.startOffset):r(this,this.endContainer,this.endOffset,this.endContainer,this.endOffset)},selectNodeContents:function(e){v(e,!0),r(this,e,0,e,W(e))},selectNode:function(e){v(e,!1),y(e,Q);var t=a(e),n=o(e);r(this,t.node,t.offset,n.node,n.offset)},extractContents:A(f,r),deleteContents:A(d,r),canSurroundContents:function(){_(this),$(this.startContainer),$(this.endContainer);var e=new g(this,!0),t=e._first&&n(e._first,this)||e._last&&n(e._last,this);return e.detach(),!t},splitBoundaries:function(){S(this)},splitBoundariesPreservingPositions:function(e){S(this,e)},normalizeBoundaries:function(){_(this);var e,t=this.startContainer,n=this.startOffset,i=this.endContainer,a=this.endOffset,o=function(e){var t=e.nextSibling;t&&t.nodeType==e.nodeType&&(i=e,a=e.length,e.appendData(t.data),X(t))},s=function(e){var r=e.previousSibling;if(r&&r.nodeType==e.nodeType){t=e;var o=e.length;if(n=r.length,e.insertData(0,r.data),X(r),t==i)a+=n,i=t;else if(i==e.parentNode){var s=H(e);a==s?(i=e,a=o):a>s&&a--}}},l=!0;if(j(i))a==i.length?o(i):0==a&&(e=i.previousSibling,e&&e.nodeType==i.nodeType&&(a=e.length,t==i&&(l=!1),e.appendData(i.data),X(i),i=e));else{if(a>0){var u=i.childNodes[a-1];u&&j(u)&&o(u)}l=!this.collapsed}if(l){if(j(t))0==n?s(t):n==t.length&&(e=t.nextSibling,e&&e.nodeType==t.nodeType&&(i==e&&(i=t,a+=t.length),t.appendData(e.data),X(e)));else if(n<t.childNodes.length){var c=t.childNodes[n];c&&j(c)&&s(c)}}else t=i,n=a;r(this,t,n,i,a)},collapseToPoint:function(e,t){v(e,!0),b(e,t),this.setStartAndEnd(e,t)}}),O(t)}function M(e){e.collapsed=e.startContainer===e.endContainer&&e.startOffset===e.endOffset,e.commonAncestorContainer=e.collapsed?e.startContainer:L.getCommonAncestor(e.startContainer,e.endContainer)}function N(e,t,n,r,i){e.startContainer=t,e.startOffset=n,e.endContainer=r,e.endOffset=i,e.document=L.getDocument(t),M(e)}function D(e){this.startContainer=e,this.startOffset=0,this.endContainer=e,this.endOffset=0,this.document=e,M(this)}var L=e.dom,P=e.util,I=L.DomPosition,F=e.DOMException,j=L.isCharacterDataNode,H=L.getNodeIndex,B=L.isOrIsAncestorOf,V=L.getDocument,U=L.comparePoints,z=L.splitDataNode,q=L.getClosestAncestorIn,W=L.getNodeLength,G=L.arrayContains,K=L.getRootContainer,Y=e.features.crashyTextNodes,X=L.removeNode;g.prototype={_current:null,_next:null,_first:null,_last:null,isSingleCharacterDataNode:!1,reset:function(){this._current=null,this._next=this._first},hasNext:function(){return!!this._next},next:function(){var e=this._current=this._next;return e&&(this._next=e!==this._last?e.nextSibling:null,j(e)&&this.clonePartiallySelectedTextNodes&&(e===this.ec&&(e=e.cloneNode(!0)).deleteData(this.eo,e.length-this.eo),this._current===this.sc&&(e=e.cloneNode(!0)).deleteData(0,this.so))),e},remove:function(){var e,t,n=this._current;!j(n)||n!==this.sc&&n!==this.ec?n.parentNode&&X(n):(e=n===this.sc?this.so:0,t=n===this.ec?this.eo:n.length,e!=t&&n.deleteData(e,t-e))},isPartiallySelectedSubtree:function(){var e=this._current;return n(e,this.range)},getSubtreeIterator:function(){var e;if(this.isSingleCharacterDataNode)e=this.range.cloneRange(),e.collapse(!1);else{e=new D(r(this.range));var t=this._current,n=t,i=0,a=t,o=W(t);B(t,this.sc)&&(n=this.sc,i=this.so),B(t,this.ec)&&(a=this.ec,o=this.eo),N(e,n,i,a,o)}return new g(e,this.clonePartiallySelectedTextNodes)},detach:function(){this.range=this._current=this._next=this._first=this._last=this.sc=this.so=this.ec=this.eo=null}};var Q=[1,3,4,5,7,8,10],J=[2,9,11],Z=[5,6,10,12],ee=[1,3,4,5,7,8,10,11],te=[1,3,4,5,7,8],ne=m([9,11]),re=m(Z),ie=m([6,10,12]),ae=document.createElement("style"),oe=!1;try{ae.innerHTML="<b>x</b>",oe=3==ae.firstChild.nodeType}catch(se){}e.features.htmlParsingConforms=oe;var le=oe?function(e){var t=this.startContainer,n=V(t);if(!t)throw new F("INVALID_STATE_ERR");var r=null;return 1==t.nodeType?r=t:j(t)&&(r=L.parentElement(t)),r=null===r||"HTML"==r.nodeName&&L.isHtmlNamespace(V(r).documentElement)&&L.isHtmlNamespace(r)?n.createElement("body"):r.cloneNode(!1),r.innerHTML=e,L.fragmentFromNodeChildren(r)}:function(e){var t=r(this),n=t.createElement("body");return n.innerHTML=e,L.fragmentFromNodeChildren(n)},ue=["startContainer","startOffset","endContainer","endOffset","collapsed","commonAncestorContainer"],ce=0,de=1,fe=2,pe=3,he=0,ge=1,me=2,ve=3;P.extend(e.rangePrototype,{compareBoundaryPoints:function(e,t){_(this),w(this.startContainer,t.startContainer);var n,r,i,a,o=e==pe||e==ce?"start":"end",s=e==de||e==ce?"start":"end";return n=this[o+"Container"],r=this[o+"Offset"],i=t[s+"Container"],a=t[s+"Offset"],U(n,r,i,a)},insertNode:function(e){if(_(this),y(e,ee),$(this.startContainer),B(e,this.startContainer))throw new F("HIERARCHY_REQUEST_ERR");var t=s(e,this.startContainer,this.startOffset);this.setStartBefore(t)},cloneContents:function(){_(this);var e,t;if(this.collapsed)return r(this).createDocumentFragment();if(this.startContainer===this.endContainer&&j(this.startContainer))return e=this.startContainer.cloneNode(!0),e.data=e.data.slice(this.startOffset,this.endOffset),t=r(this).createDocumentFragment(),t.appendChild(e),t;var n=new g(this,!0);return e=u(n),n.detach(),e},canSurroundContents:function(){_(this),$(this.startContainer),$(this.endContainer);var e=new g(this,!0),t=e._first&&n(e._first,this)||e._last&&n(e._last,this);return e.detach(),!t},surroundContents:function(e){if(y(e,te),!this.canSurroundContents())throw new F("INVALID_STATE_ERR");var t=this.extractContents();if(e.hasChildNodes())for(;e.lastChild;)e.removeChild(e.lastChild);s(e,this.startContainer,this.startOffset),e.appendChild(t),this.selectNode(e)},cloneRange:function(){_(this);for(var e,t=new D(r(this)),n=ue.length;n--;)e=ue[n],t[e]=this[e];return t},toString:function(){_(this);var e=this.startContainer;if(e===this.endContainer&&j(e))return 3==e.nodeType||4==e.nodeType?e.data.slice(this.startOffset,this.endOffset):"";var t=[],n=new g(this,!0);return c(n,function(e){(3==e.nodeType||4==e.nodeType)&&t.push(e.data)}),n.detach(),t.join("")},compareNode:function(e){_(this);var t=e.parentNode,n=H(e);if(!t)throw new F("NOT_FOUND_ERR");var r=this.comparePoint(t,n),i=this.comparePoint(t,n+1);return 0>r?i>0?me:he:i>0?ge:ve},comparePoint:function(e,t){return _(this),x(e,"HIERARCHY_REQUEST_ERR"),w(e,this.startContainer),U(e,t,this.startContainer,this.startOffset)<0?-1:U(e,t,this.endContainer,this.endOffset)>0?1:0},createContextualFragment:le,toHtml:function(){return k(this)},intersectsNode:function(e,t){if(_(this),K(e)!=i(this))return!1;var n=e.parentNode,r=H(e);if(!n)return!0;var a=U(n,r,this.endContainer,this.endOffset),o=U(n,r+1,this.startContainer,this.startOffset);return t?0>=a&&o>=0:0>a&&o>0},isPointInRange:function(e,t){return _(this),x(e,"HIERARCHY_REQUEST_ERR"),w(e,this.startContainer),U(e,t,this.startContainer,this.startOffset)>=0&&U(e,t,this.endContainer,this.endOffset)<=0},intersectsRange:function(e){return l(this,e,!1)},intersectsOrTouchesRange:function(e){return l(this,e,!0)},intersection:function(e){if(this.intersectsRange(e)){var t=U(this.startContainer,this.startOffset,e.startContainer,e.startOffset),n=U(this.endContainer,this.endOffset,e.endContainer,e.endOffset),r=this.cloneRange();return-1==t&&r.setStart(e.startContainer,e.startOffset),1==n&&r.setEnd(e.endContainer,e.endOffset),r}return null},union:function(e){if(this.intersectsOrTouchesRange(e)){var t=this.cloneRange();return-1==U(e.startContainer,e.startOffset,this.startContainer,this.startOffset)&&t.setStart(e.startContainer,e.startOffset),1==U(e.endContainer,e.endOffset,this.endContainer,this.endOffset)&&t.setEnd(e.endContainer,e.endOffset),t}throw new F("Ranges do not intersect")},containsNode:function(e,t){return t?this.intersectsNode(e,!1):this.compareNode(e)==ve},containsNodeContents:function(e){return this.comparePoint(e,0)>=0&&this.comparePoint(e,W(e))<=0},containsRange:function(e){var t=this.intersection(e);return null!==t&&e.equals(t)},containsNodeText:function(e){var t=this.cloneRange();t.selectNode(e);var n=t.getNodes([3]);if(n.length>0){t.setStart(n[0],0);var r=n.pop();return t.setEnd(r,r.length),this.containsRange(t)}return this.containsNodeContents(e)},getNodes:function(e,t){return _(this),p(this,e,t)},getDocument:function(){return r(this)},collapseBefore:function(e){this.setEndBefore(e),this.collapse(!1)},collapseAfter:function(e){this.setStartAfter(e),this.collapse(!0)},getBookmark:function(t){var n=r(this),i=e.createRange(n);t=t||L.getBody(n),i.selectNodeContents(t);var a=this.intersection(i),o=0,s=0;return a&&(i.setEnd(a.startContainer,a.startOffset),o=i.toString().length,s=o+a.toString().length),{start:o,end:s,containerNode:t}},moveToBookmark:function(e){var t=e.containerNode,n=0;this.setStart(t,0),this.collapse(!0);for(var r,i,a,o,s=[t],l=!1,u=!1;!u&&(r=s.pop());)if(3==r.nodeType)i=n+r.length,!l&&e.start>=n&&e.start<=i&&(this.setStart(r,e.start-n),l=!0),l&&e.end>=n&&e.end<=i&&(this.setEnd(r,e.end-n),u=!0),n=i;else for(o=r.childNodes,a=o.length;a--;)s.push(o[a])},getName:function(){return"DomRange"},equals:function(e){return D.rangesEqual(this,e)},isValid:function(){return E(this)},inspect:function(){return h(this)},detach:function(){}}),R(D,N),P.extend(D,{rangeProperties:ue,RangeIterator:g,copyComparisonConstants:O,createPrototypeRange:R,inspect:h,toHtml:k,getRangeDocument:r,rangesEqual:function(e,t){return e.startContainer===t.startContainer&&e.startOffset===t.startOffset&&e.endContainer===t.endContainer&&e.endOffset===t.endOffset}}),e.DomRange=D}),N.createCoreModule("WrappedRange",["DomRange"],function(e,t){var n,r,i=e.dom,a=e.util,o=i.DomPosition,s=e.DomRange,l=i.getBody,u=i.getContentDocument,c=i.isCharacterDataNode;if(e.features.implementsDomRange&&!function(){function r(e){for(var t,n=f.length;n--;)t=f[n],e[t]=e.nativeRange[t];e.collapsed=e.startContainer===e.endContainer&&e.startOffset===e.endOffset}function o(e,t,n,r,i){var a=e.startContainer!==t||e.startOffset!=n,o=e.endContainer!==r||e.endOffset!=i,s=!e.equals(e.nativeRange);(a||o||s)&&(e.setEnd(r,i),e.setStart(t,n))}var c,d,f=s.rangeProperties;n=function(e){if(!e)throw t.createError("WrappedRange: Range must be specified");this.nativeRange=e,r(this)},s.createPrototypeRange(n,o),c=n.prototype,c.selectNode=function(e){this.nativeRange.selectNode(e),r(this)},c.cloneContents=function(){return this.nativeRange.cloneContents()},c.surroundContents=function(e){this.nativeRange.surroundContents(e),r(this)},c.collapse=function(e){this.nativeRange.collapse(e),r(this)},c.cloneRange=function(){return new n(this.nativeRange.cloneRange())},c.refresh=function(){r(this)},c.toString=function(){return this.nativeRange.toString()};var p=document.createTextNode("test");l(document).appendChild(p);var h=document.createRange();h.setStart(p,0),h.setEnd(p,0);try{h.setStart(p,1),c.setStart=function(e,t){this.nativeRange.setStart(e,t),r(this)},c.setEnd=function(e,t){this.nativeRange.setEnd(e,t),r(this)},d=function(e){return function(t){this.nativeRange[e](t),r(this)}}}catch(g){c.setStart=function(e,t){try{this.nativeRange.setStart(e,t)}catch(n){this.nativeRange.setEnd(e,t),this.nativeRange.setStart(e,t)}r(this)},c.setEnd=function(e,t){try{this.nativeRange.setEnd(e,t)}catch(n){this.nativeRange.setStart(e,t),this.nativeRange.setEnd(e,t)}r(this)},d=function(e,t){return function(n){try{this.nativeRange[e](n)}catch(i){this.nativeRange[t](n),this.nativeRange[e](n)}r(this)}}}c.setStartBefore=d("setStartBefore","setEndBefore"),c.setStartAfter=d("setStartAfter","setEndAfter"),c.setEndBefore=d("setEndBefore","setStartBefore"),c.setEndAfter=d("setEndAfter","setStartAfter"),c.selectNodeContents=function(e){this.setStartAndEnd(e,0,i.getNodeLength(e))},h.selectNodeContents(p),h.setEnd(p,3);var m=document.createRange();m.selectNodeContents(p),m.setEnd(p,4),m.setStart(p,2),-1==h.compareBoundaryPoints(h.START_TO_END,m)&&1==h.compareBoundaryPoints(h.END_TO_START,m)?c.compareBoundaryPoints=function(e,t){return t=t.nativeRange||t,e==t.START_TO_END?e=t.END_TO_START:e==t.END_TO_START&&(e=t.START_TO_END),this.nativeRange.compareBoundaryPoints(e,t)}:c.compareBoundaryPoints=function(e,t){return this.nativeRange.compareBoundaryPoints(e,t.nativeRange||t)};var v=document.createElement("div");v.innerHTML="123";var y=v.firstChild,b=l(document);b.appendChild(v),h.setStart(y,1),h.setEnd(y,2),h.deleteContents(),"13"==y.data&&(c.deleteContents=function(){this.nativeRange.deleteContents(),r(this)},c.extractContents=function(){var e=this.nativeRange.extractContents();return r(this),e}),b.removeChild(v),b=null,a.isHostMethod(h,"createContextualFragment")&&(c.createContextualFragment=function(e){return this.nativeRange.createContextualFragment(e)}),l(document).removeChild(p),c.getName=function(){return"WrappedRange"},e.WrappedRange=n,e.createNativeRange=function(e){return e=u(e,t,"createNativeRange"),e.createRange()}}(),e.features.implementsTextRange){var d=function(e){var t=e.parentElement(),n=e.duplicate();n.collapse(!0);var r=n.parentElement();n=e.duplicate(),n.collapse(!1);var a=n.parentElement(),o=r==a?r:i.getCommonAncestor(r,a);return o==t?o:i.getCommonAncestor(t,o)},f=function(e){return 0==e.compareEndPoints("StartToEnd",e)},p=function(e,t,n,r,a){var s=e.duplicate();s.collapse(n);var l=s.parentElement();if(i.isOrIsAncestorOf(t,l)||(l=t),!l.canHaveHTML){var u=new o(l.parentNode,i.getNodeIndex(l));return{boundaryPosition:u,nodeInfo:{nodeIndex:u.offset,containerElement:u.node}}}var d=i.getDocument(l).createElement("span");d.parentNode&&i.removeNode(d);for(var f,p,h,g,m,v=n?"StartToStart":"StartToEnd",y=a&&a.containerElement==l?a.nodeIndex:0,b=l.childNodes.length,w=b,$=w;;){if($==b?l.appendChild(d):l.insertBefore(d,l.childNodes[$]),s.moveToElementText(d),f=s.compareEndPoints(v,e),0==f||y==w)break;if(-1==f){if(w==y+1)break;y=$}else w=w==y+1?y:$;$=Math.floor((y+w)/2),l.removeChild(d)}if(m=d.nextSibling,-1==f&&m&&c(m)){s.setEndPoint(n?"EndToStart":"EndToEnd",e);var x;if(/[\r\n]/.test(m.data)){var C=s.duplicate(),E=C.text.replace(/\r\n/g,"\r").length;for(x=C.moveStart("character",E);-1==(f=C.compareEndPoints("StartToEnd",C));)x++,C.moveStart("character",1)}else x=s.text.length;g=new o(m,x)}else p=(r||!n)&&d.previousSibling,h=(r||n)&&d.nextSibling,g=h&&c(h)?new o(h,0):p&&c(p)?new o(p,p.data.length):new o(l,i.getNodeIndex(d));return i.removeNode(d),{boundaryPosition:g,nodeInfo:{nodeIndex:$,containerElement:l}}},h=function(e,t){var n,r,a,o,s=e.offset,u=i.getDocument(e.node),d=l(u).createTextRange(),f=c(e.node);return f?(n=e.node,r=n.parentNode):(o=e.node.childNodes,n=s<o.length?o[s]:null,r=e.node),a=u.createElement("span"),a.innerHTML="&#feff;",n?r.insertBefore(a,n):r.appendChild(a),d.moveToElementText(a),d.collapse(!t),r.removeChild(a),f&&d[t?"moveStart":"moveEnd"]("character",s),d};r=function(e){this.textRange=e,this.refresh()},r.prototype=new s(document),r.prototype.refresh=function(){var e,t,n,r=d(this.textRange);f(this.textRange)?t=e=p(this.textRange,r,!0,!0).boundaryPosition:(n=p(this.textRange,r,!0,!1),e=n.boundaryPosition,t=p(this.textRange,r,!1,!1,n.nodeInfo).boundaryPosition),this.setStart(e.node,e.offset),this.setEnd(t.node,t.offset)},r.prototype.getName=function(){return"WrappedTextRange"},s.copyComparisonConstants(r);var g=function(e){if(e.collapsed)return h(new o(e.startContainer,e.startOffset),!0);var t=h(new o(e.startContainer,e.startOffset),!0),n=h(new o(e.endContainer,e.endOffset),!1),r=l(s.getRangeDocument(e)).createTextRange();return r.setEndPoint("StartToStart",t),r.setEndPoint("EndToEnd",n),r};if(r.rangeToTextRange=g,r.prototype.toTextRange=function(){return g(this)},e.WrappedTextRange=r,!e.features.implementsDomRange||e.config.preferTextRange){var m=function(e){return e("return this;")()}(Function);"undefined"==typeof m.Range&&(m.Range=r),e.createNativeRange=function(e){return e=u(e,t,"createNativeRange"),l(e).createTextRange()},e.WrappedRange=r}}e.createRange=function(n){return n=u(n,t,"createRange"),new e.WrappedRange(e.createNativeRange(n))},e.createRangyRange=function(e){return e=u(e,t,"createRangyRange"),new s(e)},a.createAliasForDeprecatedMethod(e,"createIframeRange","createRange"),a.createAliasForDeprecatedMethod(e,"createIframeRangyRange","createRangyRange"),e.addShimListener(function(t){var n=t.document;"undefined"==typeof n.createRange&&(n.createRange=function(){return e.createRange(n)}),n=t=null})}),N.createCoreModule("WrappedSelection",["DomRange","WrappedRange"],function(e,t){function n(e){return"string"==typeof e?/^backward(s)?$/i.test(e):!!e}function r(e,n){if(e){if(T.isWindow(e))return e;if(e instanceof v)return e.win;var r=T.getContentDocument(e,t,n);return T.getWindow(r)}return window}function i(e){return r(e,"getWinSelection").getSelection()}function a(e){return r(e,"getDocSelection").document.selection}function o(e){var t=!1;return e.anchorNode&&(t=1==T.comparePoints(e.anchorNode,e.anchorOffset,e.focusNode,e.focusOffset)),t}function s(e,t,n){var r=n?"end":"start",i=n?"start":"end";e.anchorNode=t[r+"Container"],e.anchorOffset=t[r+"Offset"],e.focusNode=t[i+"Container"],e.focusOffset=t[i+"Offset"]}function l(e){var t=e.nativeSelection;e.anchorNode=t.anchorNode,e.anchorOffset=t.anchorOffset,e.focusNode=t.focusNode,e.focusOffset=t.focusOffset}function u(e){e.anchorNode=e.focusNode=null,e.anchorOffset=e.focusOffset=0,e.rangeCount=0,e.isCollapsed=!0,e._ranges.length=0}function c(t){var n;return t instanceof R?(n=e.createNativeRange(t.getDocument()),n.setEnd(t.endContainer,t.endOffset),n.setStart(t.startContainer,t.startOffset)):t instanceof M?n=t.nativeRange:L.implementsDomRange&&t instanceof T.getWindow(t.startContainer).Range&&(n=t),n}function d(e){if(!e.length||1!=e[0].nodeType)return!1;for(var t=1,n=e.length;n>t;++t)if(!T.isAncestorOf(e[0],e[t]))return!1;return!0}function f(e){var n=e.getNodes();if(!d(n))throw t.createError("getSingleElementFromRange: range "+e.inspect()+" did not consist of a single element");return n[0]}function p(e){return!!e&&"undefined"!=typeof e.text}function h(e,t){var n=new M(t);e._ranges=[n],s(e,n,!1),e.rangeCount=1,e.isCollapsed=n.collapsed}function g(t){if(t._ranges.length=0,"None"==t.docSelection.type)u(t);else{var n=t.docSelection.createRange();if(p(n))h(t,n);else{t.rangeCount=n.length;for(var r,i=I(n.item(0)),a=0;a<t.rangeCount;++a)r=e.createRange(i),r.selectNode(n.item(a)),t._ranges.push(r);t.isCollapsed=1==t.rangeCount&&t._ranges[0].collapsed,s(t,t._ranges[t.rangeCount-1],!1)}}}function m(e,n){for(var r=e.docSelection.createRange(),i=f(n),a=I(r.item(0)),o=F(a).createControlRange(),s=0,l=r.length;l>s;++s)o.add(r.item(s));try{o.add(i)}catch(u){throw t.createError("addRange(): Element within the specified Range could not be added to control selection (does it have layout?)")}o.select(),g(e)}function v(e,t,n){this.nativeSelection=e,this.docSelection=t,this._ranges=[],this.win=n,this.refresh()}function y(e){e.win=e.anchorNode=e.focusNode=e._ranges=null,e.rangeCount=e.anchorOffset=e.focusOffset=0,e.detached=!0}function b(e,t){for(var n,r,i=te.length;i--;)if(n=te[i],r=n.selection,"deleteAll"==t)y(r);else if(n.win==e)return"delete"==t?(te.splice(i,1),!0):r;return"deleteAll"==t&&(te.length=0),null}function w(e,n){for(var r,i=I(n[0].startContainer),a=F(i).createControlRange(),o=0,s=n.length;s>o;++o){r=f(n[o]);try{a.add(r)}catch(l){throw t.createError("setRanges(): Element within one of the specified Ranges could not be added to control selection (does it have layout?)")}}a.select(),g(e)}function $(e,t){if(e.win.document!=I(t))throw new N("WRONG_DOCUMENT_ERR")}function x(t){return function(n,r){var i;this.rangeCount?(i=this.getRangeAt(0),i["set"+(t?"Start":"End")](n,r)):(i=e.createRange(this.win.document),i.setStartAndEnd(n,r)),this.setSingleRange(i,this.isBackward())}}function C(e){var t=[],n=new D(e.anchorNode,e.anchorOffset),r=new D(e.focusNode,e.focusOffset),i="function"==typeof e.getName?e.getName():"Selection";if("undefined"!=typeof e.rangeCount)for(var a=0,o=e.rangeCount;o>a;++a)t[a]=R.inspect(e.getRangeAt(a));return"["+i+"(Ranges: "+t.join(", ")+")(anchor: "+n.inspect()+", focus: "+r.inspect()+"]"}e.config.checkSelectionRanges=!0;var E,_,S="boolean",k="number",T=e.dom,O=e.util,A=O.isHostMethod,R=e.DomRange,M=e.WrappedRange,N=e.DOMException,D=T.DomPosition,L=e.features,P="Control",I=T.getDocument,F=T.getBody,j=R.rangesEqual,H=A(window,"getSelection"),B=O.isHostObject(document,"selection");L.implementsWinGetSelection=H,L.implementsDocSelection=B;var V=B&&(!H||e.config.preferTextRange);if(V)E=a,e.isSelectionValid=function(e){var t=r(e,"isSelectionValid").document,n=t.selection;return"None"!=n.type||I(n.createRange().parentElement())==t};else{if(!H)return t.fail("Neither document.selection or window.getSelection() detected."),!1;E=i,e.isSelectionValid=function(){return!0}}e.getNativeSelection=E;var U=E();if(!U)return t.fail("Native selection was null (possibly issue 138?)"),!1;var z=e.createNativeRange(document),q=F(document),W=O.areHostProperties(U,["anchorNode","focusNode","anchorOffset","focusOffset"]);L.selectionHasAnchorAndFocus=W;var G=A(U,"extend");L.selectionHasExtend=G;var K=typeof U.rangeCount==k;L.selectionHasRangeCount=K;var Y=!1,X=!0,Q=G?function(t,n){var r=R.getRangeDocument(n),i=e.createRange(r);i.collapseToPoint(n.endContainer,n.endOffset),t.addRange(c(i)),t.extend(n.startContainer,n.startOffset)}:null;O.areHostMethods(U,["addRange","getRangeAt","removeAllRanges"])&&typeof U.rangeCount==k&&L.implementsDomRange&&!function(){var t=window.getSelection();if(t){for(var n=t.rangeCount,r=n>1,i=[],a=o(t),s=0;n>s;++s)i[s]=t.getRangeAt(s);var l=T.createTestElement(document,"",!1),u=l.appendChild(document.createTextNode("   ")),c=document.createRange();if(c.setStart(u,1),c.collapse(!0),t.removeAllRanges(),t.addRange(c),X=1==t.rangeCount,t.removeAllRanges(),!r){var d=window.navigator.appVersion.match(/Chrome\/(.*?) /);if(d&&parseInt(d[1])>=36)Y=!1;else{var f=c.cloneRange();c.setStart(u,0),f.setEnd(u,3),f.setStart(u,2),t.addRange(c),t.addRange(f),Y=2==t.rangeCount}}for(T.removeNode(l),t.removeAllRanges(),s=0;n>s;++s)0==s&&a?Q?Q(t,i[s]):(e.warn("Rangy initialization: original selection was backwards but selection has been restored forwards because the browser does not support Selection.extend"),t.addRange(i[s])):t.addRange(i[s])}}(),L.selectionSupportsMultipleRanges=Y,L.collapsedNonEditableSelectionsSupported=X;var J,Z=!1;q&&A(q,"createControlRange")&&(J=q.createControlRange(),O.areHostProperties(J,["item","add"])&&(Z=!0)),L.implementsControlRange=Z,_=W?function(e){return e.anchorNode===e.focusNode&&e.anchorOffset===e.focusOffset}:function(e){return e.rangeCount?e.getRangeAt(e.rangeCount-1).collapsed:!1};var ee;A(U,"getRangeAt")?ee=function(e,t){try{return e.getRangeAt(t)}catch(n){return null}}:W&&(ee=function(t){var n=I(t.anchorNode),r=e.createRange(n);return r.setStartAndEnd(t.anchorNode,t.anchorOffset,t.focusNode,t.focusOffset),r.collapsed!==this.isCollapsed&&r.setStartAndEnd(t.focusNode,t.focusOffset,t.anchorNode,t.anchorOffset),r}),v.prototype=e.selectionPrototype;var te=[],ne=function(e){if(e&&e instanceof v)return e.refresh(),e;e=r(e,"getNativeSelection");var t=b(e),n=E(e),i=B?a(e):null;return t?(t.nativeSelection=n,t.docSelection=i,t.refresh()):(t=new v(n,i,e),te.push({win:e,selection:t})),t};e.getSelection=ne,O.createAliasForDeprecatedMethod(e,"getIframeSelection","getSelection");var re=v.prototype;if(!V&&W&&O.areHostMethods(U,["removeAllRanges","addRange"])){re.removeAllRanges=function(){this.nativeSelection.removeAllRanges(),u(this)};var ie=function(e,t){Q(e.nativeSelection,t),e.refresh()};K?re.addRange=function(t,r){if(Z&&B&&this.docSelection.type==P)m(this,t);else if(n(r)&&G)ie(this,t);else{var i;Y?i=this.rangeCount:(this.removeAllRanges(),i=0);var a=c(t).cloneRange();try{this.nativeSelection.addRange(a)}catch(o){}if(this.rangeCount=this.nativeSelection.rangeCount,this.rangeCount==i+1){if(e.config.checkSelectionRanges){var l=ee(this.nativeSelection,this.rangeCount-1);l&&!j(l,t)&&(t=new M(l))}this._ranges[this.rangeCount-1]=t,s(this,t,se(this.nativeSelection)),this.isCollapsed=_(this)}else this.refresh()}}:re.addRange=function(e,t){n(t)&&G?ie(this,e):(this.nativeSelection.addRange(c(e)),this.refresh())},re.setRanges=function(e){if(Z&&B&&e.length>1)w(this,e);else{this.removeAllRanges();for(var t=0,n=e.length;n>t;++t)this.addRange(e[t])}}}else{if(!(A(U,"empty")&&A(z,"select")&&Z&&V))return t.fail("No means of selecting a Range or TextRange was found"),!1;re.removeAllRanges=function(){try{if(this.docSelection.empty(),"None"!=this.docSelection.type){var e;if(this.anchorNode)e=I(this.anchorNode);else if(this.docSelection.type==P){var t=this.docSelection.createRange();t.length&&(e=I(t.item(0)))}if(e){var n=F(e).createTextRange();n.select(),this.docSelection.empty()}}}catch(r){}u(this)},re.addRange=function(t){this.docSelection.type==P?m(this,t):(e.WrappedTextRange.rangeToTextRange(t).select(),this._ranges[0]=t,this.rangeCount=1,this.isCollapsed=this._ranges[0].collapsed,s(this,t,!1))},re.setRanges=function(e){this.removeAllRanges();var t=e.length;t>1?w(this,e):t&&this.addRange(e[0])}}re.getRangeAt=function(e){if(0>e||e>=this.rangeCount)throw new N("INDEX_SIZE_ERR");return this._ranges[e].cloneRange()};var ae;if(V)ae=function(t){var n;e.isSelectionValid(t.win)?n=t.docSelection.createRange():(n=F(t.win.document).createTextRange(),n.collapse(!0)),t.docSelection.type==P?g(t):p(n)?h(t,n):u(t)};else if(A(U,"getRangeAt")&&typeof U.rangeCount==k)ae=function(t){if(Z&&B&&t.docSelection.type==P)g(t);else if(t._ranges.length=t.rangeCount=t.nativeSelection.rangeCount,t.rangeCount){for(var n=0,r=t.rangeCount;r>n;++n)t._ranges[n]=new e.WrappedRange(t.nativeSelection.getRangeAt(n));s(t,t._ranges[t.rangeCount-1],se(t.nativeSelection)),t.isCollapsed=_(t)}else u(t)};else{if(!W||typeof U.isCollapsed!=S||typeof z.collapsed!=S||!L.implementsDomRange)return t.fail("No means of obtaining a Range or TextRange from the user's selection was found"),!1;ae=function(e){var t,n=e.nativeSelection;n.anchorNode?(t=ee(n,0),e._ranges=[t],e.rangeCount=1,l(e),e.isCollapsed=_(e)):u(e)}}re.refresh=function(e){var t=e?this._ranges.slice(0):null,n=this.anchorNode,r=this.anchorOffset;if(ae(this),e){var i=t.length;if(i!=this._ranges.length)return!0;if(this.anchorNode!=n||this.anchorOffset!=r)return!0;for(;i--;)if(!j(t[i],this._ranges[i]))return!0;return!1}};var oe=function(e,t){var n=e.getAllRanges();e.removeAllRanges();for(var r=0,i=n.length;i>r;++r)j(t,n[r])||e.addRange(n[r]);e.rangeCount||u(e)};Z&&B?re.removeRange=function(e){if(this.docSelection.type==P){for(var t,n=this.docSelection.createRange(),r=f(e),i=I(n.item(0)),a=F(i).createControlRange(),o=!1,s=0,l=n.length;l>s;++s)t=n.item(s),
t!==r||o?a.add(n.item(s)):o=!0;a.select(),g(this)}else oe(this,e)}:re.removeRange=function(e){oe(this,e)};var se;!V&&W&&L.implementsDomRange?(se=o,re.isBackward=function(){return se(this)}):se=re.isBackward=function(){return!1},re.isBackwards=re.isBackward,re.toString=function(){for(var e=[],t=0,n=this.rangeCount;n>t;++t)e[t]=""+this._ranges[t];return e.join("")},re.collapse=function(t,n){$(this,t);var r=e.createRange(t);r.collapseToPoint(t,n),this.setSingleRange(r),this.isCollapsed=!0},re.collapseToStart=function(){if(!this.rangeCount)throw new N("INVALID_STATE_ERR");var e=this._ranges[0];this.collapse(e.startContainer,e.startOffset)},re.collapseToEnd=function(){if(!this.rangeCount)throw new N("INVALID_STATE_ERR");var e=this._ranges[this.rangeCount-1];this.collapse(e.endContainer,e.endOffset)},re.selectAllChildren=function(t){$(this,t);var n=e.createRange(t);n.selectNodeContents(t),this.setSingleRange(n)},re.deleteFromDocument=function(){if(Z&&B&&this.docSelection.type==P){for(var e,t=this.docSelection.createRange();t.length;)e=t.item(0),t.remove(e),T.removeNode(e);this.refresh()}else if(this.rangeCount){var n=this.getAllRanges();if(n.length){this.removeAllRanges();for(var r=0,i=n.length;i>r;++r)n[r].deleteContents();this.addRange(n[i-1])}}},re.eachRange=function(e,t){for(var n=0,r=this._ranges.length;r>n;++n)if(e(this.getRangeAt(n)))return t},re.getAllRanges=function(){var e=[];return this.eachRange(function(t){e.push(t)}),e},re.setSingleRange=function(e,t){this.removeAllRanges(),this.addRange(e,t)},re.callMethodOnEachRange=function(e,t){var n=[];return this.eachRange(function(r){n.push(r[e].apply(r,t||[]))}),n},re.setStart=x(!0),re.setEnd=x(!1),e.rangePrototype.select=function(e){ne(this.getDocument()).setSingleRange(this,e)},re.changeEachRange=function(e){var t=[],n=this.isBackward();this.eachRange(function(n){e(n),t.push(n)}),this.removeAllRanges(),n&&1==t.length?this.addRange(t[0],"backward"):this.setRanges(t)},re.containsNode=function(e,t){return this.eachRange(function(n){return n.containsNode(e,t)},!0)||!1},re.getBookmark=function(e){return{backward:this.isBackward(),rangeBookmarks:this.callMethodOnEachRange("getBookmark",[e])}},re.moveToBookmark=function(t){for(var n,r,i=[],a=0;n=t.rangeBookmarks[a++];)r=e.createRange(this.win),r.moveToBookmark(n),i.push(r);t.backward?this.setSingleRange(i[0],"backward"):this.setRanges(i)},re.saveRanges=function(){return{backward:this.isBackward(),ranges:this.callMethodOnEachRange("cloneRange")}},re.restoreRanges=function(e){this.removeAllRanges();for(var t,n=0;t=e.ranges[n];++n)this.addRange(t,e.backward&&0==n)},re.toHtml=function(){var e=[];return this.eachRange(function(t){e.push(R.toHtml(t))}),e.join("")},L.implementsTextRange&&(re.getNativeTextRange=function(){var n;if(n=this.docSelection){var r=n.createRange();if(p(r))return r;throw t.createError("getNativeTextRange: selection is a control selection")}if(this.rangeCount>0)return e.WrappedTextRange.rangeToTextRange(this.getRangeAt(0));throw t.createError("getNativeTextRange: selection contains no range")}),re.getName=function(){return"WrappedSelection"},re.inspect=function(){return C(this)},re.detach=function(){b(this.win,"delete"),y(this)},v.detachAll=function(){b(null,"deleteAll")},v.inspect=C,v.isDirectionBackward=n,e.Selection=v,e.selectionPrototype=re,e.addShimListener(function(e){"undefined"==typeof e.getSelection&&(e.getSelection=function(){return ne(e)}),e=null})});var F=!1,j=function(e){F||(F=!0,!N.initialized&&N.config.autoInitialize&&d())};return R&&("complete"==document.readyState?j():(e(document,"addEventListener")&&document.addEventListener("DOMContentLoaded",j,!1),L(window,"load",j))),N},this)},function(e,t,n){"use strict";n(212),n(214),n(216),n(217)},function(e,t,n){(function(e){"use strict";e.rangy=n(209),e.rangy=n(227),e.numeral=n(226),n(18),n(221),n(222),n(224),n(228),n(229),n(219),n(218),n(223),e._=n(230)}).call(t,function(){return this}())},function(e,t,n){/**
	 * @license HTTP Auth Interceptor Module for AngularJS
	 * (c) 2012 Witold Szczerba
	 * License: MIT
	 */
!function(){"use strict";angular.module("http-auth-interceptor",["http-auth-interceptor-buffer"]).factory("authService",["$rootScope","httpBuffer",function(e,t){return{loginConfirmed:function(n,r){var i=r||function(e){return e};e.$broadcast("event:auth-loginConfirmed",n),t.retryAll(i)},loginCancelled:function(n,r){t.rejectAll(r),e.$broadcast("event:auth-loginCancelled",n)}}}]).config(["$httpProvider",function(e){e.interceptors.push(["$rootScope","$q","httpBuffer",function(e,t,n){return{responseError:function(r){if(!r.config.ignoreAuthModule)switch(r.status){case 401:var i=t.defer();return n.append(r.config,i),e.$broadcast("event:auth-loginRequired",r),i.promise;case 403:e.$broadcast("event:auth-forbidden",r)}return t.reject(r)}}}])}]),angular.module("http-auth-interceptor-buffer",[]).factory("httpBuffer",["$injector",function(e){function t(t,r){function i(e){r.resolve(e)}function a(e){r.reject(e)}n=n||e.get("$http"),n(t).then(i,a)}var n,r=[];return{append:function(e,t){r.push({config:e,deferred:t})},rejectAll:function(e){if(e)for(var t=0;t<r.length;++t)r[t].deferred.reject(e);r=[]},retryAll:function(e){for(var n=0;n<r.length;++n)t(e(r[n].config),r[n].deferred);r=[]}}}])}()},function(e,t,n){!function(){angular.module("angular-jwt",["angular-jwt.interceptor","angular-jwt.jwt"]),angular.module("angular-jwt.interceptor",[]).provider("jwtInterceptor",function(){this.urlParam=null,this.authHeader="Authorization",this.authPrefix="Bearer ",this.tokenGetter=function(){return null};var e=this;this.$get=["$q","$injector","$rootScope",function(t,n,r){return{request:function(r){if(r.skipAuthorization)return r;if(e.urlParam){if(r.params=r.params||{},r.params[e.urlParam])return r}else if(r.headers=r.headers||{},r.headers[e.authHeader])return r;var i=t.when(n.invoke(e.tokenGetter,this,{config:r}));return i.then(function(t){return t&&(e.urlParam?r.params[e.urlParam]=t:r.headers[e.authHeader]=e.authPrefix+t),r})},responseError:function(e){return 401===e.status&&r.$broadcast("unauthenticated",e),t.reject(e)}}}]}),angular.module("angular-jwt.jwt",[]).service("jwtHelper",function(){this.urlBase64Decode=function(e){var t=e.replace(/-/g,"+").replace(/_/g,"/");switch(t.length%4){case 0:break;case 2:t+="==";break;case 3:t+="=";break;default:throw"Illegal base64url string!"}return decodeURIComponent(escape(window.atob(t)))},this.decodeToken=function(e){var t=e.split(".");if(3!==t.length)throw new Error("JWT must have 3 parts");var n=this.urlBase64Decode(t[1]);if(!n)throw new Error("Cannot decode the token");return JSON.parse(n)},this.getTokenExpirationDate=function(e){var t;if(t=this.decodeToken(e),"undefined"==typeof t.exp)return null;var n=new Date(0);return n.setUTCSeconds(t.exp),n},this.isTokenExpired=function(e,t){var n=this.getTokenExpirationDate(e);return t=t||0,null===n?!1:!(n.valueOf()>(new Date).valueOf()+1e3*t)}})}()},function(e,t,n){n(213),e.exports="angular-jwt"},function(e,t,n){!function(){angular.module("angular-storage",["angular-storage.store"]),angular.module("angular-storage.cookieStorage",[]).service("cookieStorage",["$injector",function(e){var t=e.get("$cookieStore");this.set=function(e,n){return t.put(e,n)},this.get=function(e){return t.get(e)},this.remove=function(e){return t.remove(e)}}]),angular.module("angular-storage.internalStore",["angular-storage.localStorage","angular-storage.sessionStorage"]).factory("InternalStore",["$log","$injector",function(e,t){function n(e,n,r){this.namespace=e||null,this.delimiter=r||".",this.inMemoryCache={},this.storage=t.get(n||"localStorage")}return n.prototype.getNamespacedKey=function(e){return this.namespace?[this.namespace,e].join(this.delimiter):e},n.prototype.set=function(e,t){this.inMemoryCache[e]=t,this.storage.set(this.getNamespacedKey(e),JSON.stringify(t))},n.prototype.get=function(t){var n=null;if(t in this.inMemoryCache)return this.inMemoryCache[t];var r=this.storage.get(this.getNamespacedKey(t));try{n="undefined"==typeof r||"undefined"===r?void 0:JSON.parse(r),this.inMemoryCache[t]=n}catch(i){e.error("Error parsing saved value",i),this.remove(t)}return n},n.prototype.remove=function(e){this.inMemoryCache[e]=null,this.storage.remove(this.getNamespacedKey(e))},n}]),angular.module("angular-storage.localStorage",["angular-storage.cookieStorage"]).service("localStorage",["$window","$injector",function(e,t){var n=!!e.localStorage;if(n)try{e.localStorage.setItem("testKey","test"),e.localStorage.removeItem("testKey"),n=!0}catch(r){n=!1}if(n)this.set=function(t,n){return e.localStorage.setItem(t,n)},this.get=function(t){return e.localStorage.getItem(t)},this.remove=function(t){return e.localStorage.removeItem(t)};else{var i=t.get("cookieStorage");this.set=i.set,this.get=i.get,this.remove=i.remove}}]),angular.module("angular-storage.sessionStorage",["angular-storage.cookieStorage"]).service("sessionStorage",["$window","$injector",function(e,t){if(e.sessionStorage)this.set=function(t,n){return e.sessionStorage.setItem(t,n)},this.get=function(t){return e.sessionStorage.getItem(t)},this.remove=function(t){return e.sessionStorage.removeItem(t)};else{var n=t.get("cookieStorage");this.set=n.set,this.get=n.get,this.remove=n.remove}}]),angular.module("angular-storage.store",["angular-storage.internalStore"]).provider("store",function(){var e="localStorage";this.setStore=function(t){t&&angular.isString(t)&&(e=t)},this.$get=["InternalStore",function(t){var n=new t(null,e);return n.getNamespacedStore=function(e,n,r){return new t(e,n,r)},n}]})}()},function(e,t,n){n(215),e.exports="angular-storage"},function(e,t,n){!function(){"use strict";function e(e){this.a=e,this.c="messages",this.locale=e.locale}function t(e){this.b=e,this.transChoice=this.transChoice.bind(this)}function n(e){return new t(e).transChoice}function r(e){this.b=e,this.trans=this.trans.bind(this)}function i(e){return new r(e).trans}function a(e,t){return this.a=e,this.d=t,this.a.hasOwnProperty("get")?this.d:this.a}function o(e){return e.Translator}e.$inject=["Translator"],e.prototype.trans=function(e,t,n){return t=t||{},n=n||this.c,this.a.get(n+":"+e,t)},e.prototype.transChoice=function(e,t,n,r){return n=n||{},r=r||this.c,this.a.get(r+":"+e,n,t)},t.prototype.transChoice=function(e,t,n,r){return this.b.transChoice(e,t,n,r)},n.$inject=["TranslationService"],r.prototype.trans=function(e,t,n){return this.b.trans(e,t,n)},i.$inject=["TranslationService"],a.$inject=["Translator","TranslatorAdapter1x"],o.$inject=["$window"];var s=angular.module("boxuk.translation.provider",[]).factory("Translator",o),l=angular.module("boxuk.translation.adapter1x",[s.name]).service("TranslatorAdapter1x",e),u=angular.module("boxuk.translation.translator",[l.name,s.name]).service("TranslationService",a),c=angular.module("boxuk.translation.transchoice",[u.name]).filter("transChoice",n),d=angular.module("boxuk.translation.trans",[u.name]).filter("trans",i);angular.module("boxuk.translation",[d.name,c.name,u.name])}()},function(e,t,n){angular.module("ui.bootstrap",["ui.bootstrap.tpls","ui.bootstrap.transition","ui.bootstrap.collapse","ui.bootstrap.accordion","ui.bootstrap.alert","ui.bootstrap.bindHtml","ui.bootstrap.buttons","ui.bootstrap.carousel","ui.bootstrap.dateparser","ui.bootstrap.position","ui.bootstrap.datepicker","ui.bootstrap.dropdown","ui.bootstrap.modal","ui.bootstrap.pagination","ui.bootstrap.tooltip","ui.bootstrap.popover","ui.bootstrap.progressbar","ui.bootstrap.rating","ui.bootstrap.tabs","ui.bootstrap.timepicker","ui.bootstrap.typeahead"]),angular.module("ui.bootstrap.tpls",["template/accordion/accordion-group.html","template/accordion/accordion.html","template/alert/alert.html","template/carousel/carousel.html","template/carousel/slide.html","template/datepicker/datepicker.html","template/datepicker/day.html","template/datepicker/month.html","template/datepicker/popup.html","template/datepicker/year.html","template/modal/backdrop.html","template/modal/window.html","template/pagination/pager.html","template/pagination/pagination.html","template/tooltip/tooltip-html-unsafe-popup.html","template/tooltip/tooltip-popup.html","template/popover/popover.html","template/progressbar/bar.html","template/progressbar/progress.html","template/progressbar/progressbar.html","template/rating/rating.html","template/tabs/tab.html","template/tabs/tabset.html","template/timepicker/timepicker.html","template/typeahead/typeahead-match.html","template/typeahead/typeahead-popup.html"]),angular.module("ui.bootstrap.transition",[]).factory("$transition",["$q","$timeout","$rootScope",function(e,t,n){function r(e){for(var t in e)if(void 0!==a.style[t])return e[t]}var i=function(r,a,o){o=o||{};var s=e.defer(),l=i[o.animation?"animationEndEventName":"transitionEndEventName"],u=function(e){n.$apply(function(){r.unbind(l,u),s.resolve(r)})};return l&&r.bind(l,u),t(function(){angular.isString(a)?r.addClass(a):angular.isFunction(a)?a(r):angular.isObject(a)&&r.css(a),l||s.resolve(r)}),s.promise.cancel=function(){l&&r.unbind(l,u),s.reject("Transition cancelled")},s.promise},a=document.createElement("trans"),o={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd",transition:"transitionend"},s={WebkitTransition:"webkitAnimationEnd",MozTransition:"animationend",OTransition:"oAnimationEnd",transition:"animationend"};return i.transitionEndEventName=r(o),i.animationEndEventName=r(s),i}]),angular.module("ui.bootstrap.collapse",["ui.bootstrap.transition"]).directive("collapse",["$transition",function(e){return{link:function(t,n,r){function i(t){function r(){u===i&&(u=void 0)}var i=e(n,t);return u&&u.cancel(),u=i,i.then(r,r),i}function a(){c?(c=!1,o()):(n.removeClass("collapse").addClass("collapsing"),i({height:n[0].scrollHeight+"px"}).then(o))}function o(){n.removeClass("collapsing"),n.addClass("collapse in"),n.css({height:"auto"})}function s(){if(c)c=!1,l(),n.css({height:0});else{n.css({height:n[0].scrollHeight+"px"});n[0].offsetWidth;n.removeClass("collapse in").addClass("collapsing"),i({height:0}).then(l)}}function l(){n.removeClass("collapsing"),n.addClass("collapse")}var u,c=!0;t.$watch(r.collapse,function(e){e?s():a()})}}}]),angular.module("ui.bootstrap.accordion",["ui.bootstrap.collapse"]).constant("accordionConfig",{closeOthers:!0}).controller("AccordionController",["$scope","$attrs","accordionConfig",function(e,t,n){this.groups=[],this.closeOthers=function(r){var i=angular.isDefined(t.closeOthers)?e.$eval(t.closeOthers):n.closeOthers;i&&angular.forEach(this.groups,function(e){e!==r&&(e.isOpen=!1)})},this.addGroup=function(e){var t=this;this.groups.push(e),e.$on("$destroy",function(n){t.removeGroup(e)})},this.removeGroup=function(e){var t=this.groups.indexOf(e);-1!==t&&this.groups.splice(t,1)}}]).directive("accordion",function(){return{restrict:"EA",controller:"AccordionController",transclude:!0,replace:!1,templateUrl:"template/accordion/accordion.html"}}).directive("accordionGroup",function(){return{require:"^accordion",restrict:"EA",transclude:!0,replace:!0,templateUrl:"template/accordion/accordion-group.html",scope:{heading:"@",isOpen:"=?",isDisabled:"=?"},controller:function(){this.setHeading=function(e){this.heading=e}},link:function(e,t,n,r){r.addGroup(e),e.$watch("isOpen",function(t){t&&r.closeOthers(e)}),e.toggleOpen=function(){e.isDisabled||(e.isOpen=!e.isOpen)}}}}).directive("accordionHeading",function(){return{restrict:"EA",transclude:!0,template:"",replace:!0,require:"^accordionGroup",link:function(e,t,n,r,i){r.setHeading(i(e,function(){}))}}}).directive("accordionTransclude",function(){return{require:"^accordionGroup",link:function(e,t,n,r){e.$watch(function(){return r[n.accordionTransclude]},function(e){e&&(t.html(""),t.append(e))})}}}),angular.module("ui.bootstrap.alert",[]).controller("AlertController",["$scope","$attrs",function(e,t){e.closeable="close"in t,this.close=e.close}]).directive("alert",function(){return{restrict:"EA",controller:"AlertController",templateUrl:"template/alert/alert.html",transclude:!0,replace:!0,scope:{type:"@",close:"&"}}}).directive("dismissOnTimeout",["$timeout",function(e){return{require:"alert",link:function(t,n,r,i){e(function(){i.close()},parseInt(r.dismissOnTimeout,10))}}}]),angular.module("ui.bootstrap.bindHtml",[]).directive("bindHtmlUnsafe",function(){return function(e,t,n){t.addClass("ng-binding").data("$binding",n.bindHtmlUnsafe),e.$watch(n.bindHtmlUnsafe,function(e){t.html(e||"")})}}),angular.module("ui.bootstrap.buttons",[]).constant("buttonConfig",{activeClass:"active",toggleEvent:"click"}).controller("ButtonsController",["buttonConfig",function(e){this.activeClass=e.activeClass||"active",this.toggleEvent=e.toggleEvent||"click"}]).directive("btnRadio",function(){return{require:["btnRadio","ngModel"],controller:"ButtonsController",link:function(e,t,n,r){var i=r[0],a=r[1];a.$render=function(){t.toggleClass(i.activeClass,angular.equals(a.$modelValue,e.$eval(n.btnRadio)))},t.bind(i.toggleEvent,function(){var r=t.hasClass(i.activeClass);(!r||angular.isDefined(n.uncheckable))&&e.$apply(function(){a.$setViewValue(r?null:e.$eval(n.btnRadio)),a.$render()})})}}}).directive("btnCheckbox",function(){return{require:["btnCheckbox","ngModel"],controller:"ButtonsController",link:function(e,t,n,r){function i(){return o(n.btnCheckboxTrue,!0)}function a(){return o(n.btnCheckboxFalse,!1)}function o(t,n){var r=e.$eval(t);return angular.isDefined(r)?r:n}var s=r[0],l=r[1];l.$render=function(){t.toggleClass(s.activeClass,angular.equals(l.$modelValue,i()))},t.bind(s.toggleEvent,function(){e.$apply(function(){l.$setViewValue(t.hasClass(s.activeClass)?a():i()),l.$render()})})}}}),angular.module("ui.bootstrap.carousel",["ui.bootstrap.transition"]).controller("CarouselController",["$scope","$timeout","$interval","$transition",function(e,t,n,r){function i(){a();var t=+e.interval;!isNaN(t)&&t>0&&(s=n(o,t))}function a(){s&&(n.cancel(s),s=null)}function o(){var t=+e.interval;l&&!isNaN(t)&&t>0?e.next():e.pause()}var s,l,u=this,c=u.slides=e.slides=[],d=-1;u.currentSlide=null;var f=!1;u.select=e.select=function(n,a){function o(){if(!f){if(u.currentSlide&&angular.isString(a)&&!e.noTransition&&n.$element){n.$element.addClass(a);n.$element[0].offsetWidth;angular.forEach(c,function(e){angular.extend(e,{direction:"",entering:!1,leaving:!1,active:!1})}),angular.extend(n,{direction:a,active:!0,entering:!0}),angular.extend(u.currentSlide||{},{direction:a,leaving:!0}),e.$currentTransition=r(n.$element,{}),function(t,n){e.$currentTransition.then(function(){s(t,n)},function(){s(t,n)})}(n,u.currentSlide)}else s(n,u.currentSlide);u.currentSlide=n,d=l,i()}}function s(t,n){angular.extend(t,{direction:"",active:!0,leaving:!1,entering:!1}),angular.extend(n||{},{direction:"",active:!1,leaving:!1,entering:!1}),e.$currentTransition=null}var l=c.indexOf(n);void 0===a&&(a=l>d?"next":"prev"),n&&n!==u.currentSlide&&(e.$currentTransition?(e.$currentTransition.cancel(),t(o)):o())},e.$on("$destroy",function(){f=!0}),u.indexOfSlide=function(e){return c.indexOf(e)},e.next=function(){var t=(d+1)%c.length;return e.$currentTransition?void 0:u.select(c[t],"next")},e.prev=function(){var t=0>d-1?c.length-1:d-1;return e.$currentTransition?void 0:u.select(c[t],"prev")},e.isActive=function(e){return u.currentSlide===e},e.$watch("interval",i),e.$on("$destroy",a),e.play=function(){l||(l=!0,i())},e.pause=function(){e.noPause||(l=!1,a())},u.addSlide=function(t,n){t.$element=n,c.push(t),1===c.length||t.active?(u.select(c[c.length-1]),1==c.length&&e.play()):t.active=!1},u.removeSlide=function(e){var t=c.indexOf(e);c.splice(t,1),c.length>0&&e.active?t>=c.length?u.select(c[t-1]):u.select(c[t]):d>t&&d--}}]).directive("carousel",[function(){return{restrict:"EA",transclude:!0,replace:!0,controller:"CarouselController",require:"carousel",templateUrl:"template/carousel/carousel.html",scope:{interval:"=",noTransition:"=",noPause:"="}}}]).directive("slide",function(){return{require:"^carousel",restrict:"EA",transclude:!0,replace:!0,templateUrl:"template/carousel/slide.html",scope:{active:"=?"},link:function(e,t,n,r){r.addSlide(e,t),e.$on("$destroy",function(){r.removeSlide(e)}),e.$watch("active",function(t){t&&r.select(e)})}}}),angular.module("ui.bootstrap.dateparser",[]).service("dateParser",["$locale","orderByFilter",function(e,t){function n(e){var n=[],r=e.split("");return angular.forEach(i,function(t,i){var a=e.indexOf(i);if(a>-1){e=e.split(""),r[a]="("+t.regex+")",e[a]="$";for(var o=a+1,s=a+i.length;s>o;o++)r[o]="",e[o]="$";e=e.join(""),n.push({index:a,apply:t.apply})}}),{regex:new RegExp("^"+r.join("")+"$"),map:t(n,"index")}}function r(e,t,n){return 1===t&&n>28?29===n&&(e%4===0&&e%100!==0||e%400===0):3===t||5===t||8===t||10===t?31>n:!0}this.parsers={};var i={yyyy:{regex:"\\d{4}",apply:function(e){this.year=+e}},yy:{regex:"\\d{2}",apply:function(e){this.year=+e+2e3}},y:{regex:"\\d{1,4}",apply:function(e){this.year=+e}},MMMM:{regex:e.DATETIME_FORMATS.MONTH.join("|"),apply:function(t){this.month=e.DATETIME_FORMATS.MONTH.indexOf(t)}},MMM:{regex:e.DATETIME_FORMATS.SHORTMONTH.join("|"),apply:function(t){this.month=e.DATETIME_FORMATS.SHORTMONTH.indexOf(t)}},MM:{regex:"0[1-9]|1[0-2]",apply:function(e){this.month=e-1}},M:{regex:"[1-9]|1[0-2]",apply:function(e){this.month=e-1}},dd:{regex:"[0-2][0-9]{1}|3[0-1]{1}",apply:function(e){this.date=+e}},d:{regex:"[1-2]?[0-9]{1}|3[0-1]{1}",apply:function(e){this.date=+e}},EEEE:{regex:e.DATETIME_FORMATS.DAY.join("|")},EEE:{regex:e.DATETIME_FORMATS.SHORTDAY.join("|")}};this.parse=function(t,i){if(!angular.isString(t)||!i)return t;i=e.DATETIME_FORMATS[i]||i,this.parsers[i]||(this.parsers[i]=n(i));var a=this.parsers[i],o=a.regex,s=a.map,l=t.match(o);if(l&&l.length){for(var u,c={year:1900,month:0,date:1,hours:0},d=1,f=l.length;f>d;d++){var p=s[d-1];p.apply&&p.apply.call(c,l[d])}return r(c.year,c.month,c.date)&&(u=new Date(c.year,c.month,c.date,c.hours)),u}}}]),angular.module("ui.bootstrap.position",[]).factory("$position",["$document","$window",function(e,t){function n(e,n){return e.currentStyle?e.currentStyle[n]:t.getComputedStyle?t.getComputedStyle(e)[n]:e.style[n]}function r(e){return"static"===(n(e,"position")||"static")}var i=function(t){for(var n=e[0],i=t.offsetParent||n;i&&i!==n&&r(i);)i=i.offsetParent;return i||n};return{position:function(t){var n=this.offset(t),r={top:0,left:0},a=i(t[0]);a!=e[0]&&(r=this.offset(angular.element(a)),r.top+=a.clientTop-a.scrollTop,r.left+=a.clientLeft-a.scrollLeft);var o=t[0].getBoundingClientRect();return{width:o.width||t.prop("offsetWidth"),height:o.height||t.prop("offsetHeight"),top:n.top-r.top,left:n.left-r.left}},offset:function(n){var r=n[0].getBoundingClientRect();return{width:r.width||n.prop("offsetWidth"),height:r.height||n.prop("offsetHeight"),top:r.top+(t.pageYOffset||e[0].documentElement.scrollTop),left:r.left+(t.pageXOffset||e[0].documentElement.scrollLeft)}},positionElements:function(e,t,n,r){var i,a,o,s,l=n.split("-"),u=l[0],c=l[1]||"center";i=r?this.offset(e):this.position(e),a=t.prop("offsetWidth"),o=t.prop("offsetHeight");var d={center:function(){return i.left+i.width/2-a/2},left:function(){return i.left},right:function(){return i.left+i.width}},f={center:function(){return i.top+i.height/2-o/2},top:function(){return i.top},bottom:function(){return i.top+i.height}};switch(u){case"right":s={top:f[c](),left:d[u]()};break;case"left":s={top:f[c](),left:i.left-a};break;case"bottom":s={top:f[u](),left:d[c]()};break;default:s={top:i.top-o,left:d[c]()}}return s}}}]),angular.module("ui.bootstrap.datepicker",["ui.bootstrap.dateparser","ui.bootstrap.position"]).constant("datepickerConfig",{formatDay:"dd",formatMonth:"MMMM",formatYear:"yyyy",formatDayHeader:"EEE",formatDayTitle:"MMMM yyyy",formatMonthTitle:"yyyy",datepickerMode:"day",minMode:"day",maxMode:"year",showWeeks:!0,startingDay:0,yearRange:20,minDate:null,maxDate:null}).controller("DatepickerController",["$scope","$attrs","$parse","$interpolate","$timeout","$log","dateFilter","datepickerConfig",function(e,t,n,r,i,a,o,s){var l=this,u={$setViewValue:angular.noop};this.modes=["day","month","year"],angular.forEach(["formatDay","formatMonth","formatYear","formatDayHeader","formatDayTitle","formatMonthTitle","minMode","maxMode","showWeeks","startingDay","yearRange"],function(n,i){l[n]=angular.isDefined(t[n])?8>i?r(t[n])(e.$parent):e.$parent.$eval(t[n]):s[n]}),angular.forEach(["minDate","maxDate"],function(r){t[r]?e.$parent.$watch(n(t[r]),function(e){l[r]=e?new Date(e):null,l.refreshView()}):l[r]=s[r]?new Date(s[r]):null}),e.datepickerMode=e.datepickerMode||s.datepickerMode,e.uniqueId="datepicker-"+e.$id+"-"+Math.floor(1e4*Math.random()),this.activeDate=angular.isDefined(t.initDate)?e.$parent.$eval(t.initDate):new Date,e.isActive=function(t){return 0===l.compare(t.date,l.activeDate)?(e.activeDateId=t.uid,!0):!1},this.init=function(e){u=e,u.$render=function(){l.render()}},this.render=function(){if(u.$modelValue){var e=new Date(u.$modelValue),t=!isNaN(e);t?this.activeDate=e:a.error('Datepicker directive: "ng-model" value must be a Date object, a number of milliseconds since 01.01.1970 or a string representing an RFC2822 or ISO 8601 date.'),u.$setValidity("date",t)}this.refreshView()},this.refreshView=function(){if(this.element){this._refreshView();var e=u.$modelValue?new Date(u.$modelValue):null;u.$setValidity("date-disabled",!e||this.element&&!this.isDisabled(e))}},this.createDateObject=function(e,t){var n=u.$modelValue?new Date(u.$modelValue):null;return{date:e,label:o(e,t),selected:n&&0===this.compare(e,n),disabled:this.isDisabled(e),current:0===this.compare(e,new Date)}},this.isDisabled=function(n){return this.minDate&&this.compare(n,this.minDate)<0||this.maxDate&&this.compare(n,this.maxDate)>0||t.dateDisabled&&e.dateDisabled({date:n,mode:e.datepickerMode})},this.split=function(e,t){for(var n=[];e.length>0;)n.push(e.splice(0,t));return n},e.select=function(t){if(e.datepickerMode===l.minMode){var n=u.$modelValue?new Date(u.$modelValue):new Date(0,0,0,0,0,0,0);n.setFullYear(t.getFullYear(),t.getMonth(),t.getDate()),u.$setViewValue(n),u.$render()}else l.activeDate=t,e.datepickerMode=l.modes[l.modes.indexOf(e.datepickerMode)-1]},e.move=function(e){var t=l.activeDate.getFullYear()+e*(l.step.years||0),n=l.activeDate.getMonth()+e*(l.step.months||0);l.activeDate.setFullYear(t,n,1),l.refreshView()},e.toggleMode=function(t){t=t||1,e.datepickerMode===l.maxMode&&1===t||e.datepickerMode===l.minMode&&-1===t||(e.datepickerMode=l.modes[l.modes.indexOf(e.datepickerMode)+t])},e.keys={13:"enter",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down"};var c=function(){i(function(){l.element[0].focus()},0,!1)};e.$on("datepicker.focus",c),e.keydown=function(t){var n=e.keys[t.which];if(n&&!t.shiftKey&&!t.altKey)if(t.preventDefault(),t.stopPropagation(),"enter"===n||"space"===n){if(l.isDisabled(l.activeDate))return;e.select(l.activeDate),c()}else!t.ctrlKey||"up"!==n&&"down"!==n?(l.handleKeyDown(n,t),l.refreshView()):(e.toggleMode("up"===n?1:-1),c())}}]).directive("datepicker",function(){return{restrict:"EA",replace:!0,templateUrl:"template/datepicker/datepicker.html",scope:{datepickerMode:"=?",dateDisabled:"&"},require:["datepicker","?^ngModel"],controller:"DatepickerController",link:function(e,t,n,r){var i=r[0],a=r[1];a&&i.init(a)}}}).directive("daypicker",["dateFilter",function(e){return{restrict:"EA",replace:!0,templateUrl:"template/datepicker/day.html",require:"^datepicker",link:function(t,n,r,i){function a(e,t){return 1!==t||e%4!==0||e%100===0&&e%400!==0?l[t]:29}function o(e,t){var n=new Array(t),r=new Date(e),i=0;for(r.setHours(12);t>i;)n[i++]=new Date(r),r.setDate(r.getDate()+1);return n}function s(e){var t=new Date(e);t.setDate(t.getDate()+4-(t.getDay()||7));var n=t.getTime();return t.setMonth(0),t.setDate(1),Math.floor(Math.round((n-t)/864e5)/7)+1}t.showWeeks=i.showWeeks,i.step={months:1},i.element=n;var l=[31,28,31,30,31,30,31,31,30,31,30,31];i._refreshView=function(){var n=i.activeDate.getFullYear(),r=i.activeDate.getMonth(),a=new Date(n,r,1),l=i.startingDay-a.getDay(),u=l>0?7-l:-l,c=new Date(a);u>0&&c.setDate(-u+1);for(var d=o(c,42),f=0;42>f;f++)d[f]=angular.extend(i.createDateObject(d[f],i.formatDay),{secondary:d[f].getMonth()!==r,uid:t.uniqueId+"-"+f});t.labels=new Array(7);for(var p=0;7>p;p++)t.labels[p]={abbr:e(d[p].date,i.formatDayHeader),full:e(d[p].date,"EEEE")};if(t.title=e(i.activeDate,i.formatDayTitle),t.rows=i.split(d,7),t.showWeeks){t.weekNumbers=[];for(var h=s(t.rows[0][0].date),g=t.rows.length;t.weekNumbers.push(h++)<g;);}},i.compare=function(e,t){return new Date(e.getFullYear(),e.getMonth(),e.getDate())-new Date(t.getFullYear(),t.getMonth(),t.getDate())},i.handleKeyDown=function(e,t){var n=i.activeDate.getDate();if("left"===e)n-=1;else if("up"===e)n-=7;else if("right"===e)n+=1;else if("down"===e)n+=7;else if("pageup"===e||"pagedown"===e){var r=i.activeDate.getMonth()+("pageup"===e?-1:1);i.activeDate.setMonth(r,1),n=Math.min(a(i.activeDate.getFullYear(),i.activeDate.getMonth()),n)}else"home"===e?n=1:"end"===e&&(n=a(i.activeDate.getFullYear(),i.activeDate.getMonth()));i.activeDate.setDate(n)},i.refreshView()}}}]).directive("monthpicker",["dateFilter",function(e){return{restrict:"EA",replace:!0,templateUrl:"template/datepicker/month.html",require:"^datepicker",link:function(t,n,r,i){i.step={years:1},i.element=n,i._refreshView=function(){for(var n=new Array(12),r=i.activeDate.getFullYear(),a=0;12>a;a++)n[a]=angular.extend(i.createDateObject(new Date(r,a,1),i.formatMonth),{uid:t.uniqueId+"-"+a});t.title=e(i.activeDate,i.formatMonthTitle),t.rows=i.split(n,3)},i.compare=function(e,t){return new Date(e.getFullYear(),e.getMonth())-new Date(t.getFullYear(),t.getMonth())},i.handleKeyDown=function(e,t){var n=i.activeDate.getMonth();if("left"===e)n-=1;else if("up"===e)n-=3;else if("right"===e)n+=1;else if("down"===e)n+=3;else if("pageup"===e||"pagedown"===e){var r=i.activeDate.getFullYear()+("pageup"===e?-1:1);i.activeDate.setFullYear(r)}else"home"===e?n=0:"end"===e&&(n=11);i.activeDate.setMonth(n)},i.refreshView()}}}]).directive("yearpicker",["dateFilter",function(e){return{restrict:"EA",replace:!0,templateUrl:"template/datepicker/year.html",require:"^datepicker",link:function(e,t,n,r){function i(e){return parseInt((e-1)/a,10)*a+1}var a=r.yearRange;r.step={years:a},r.element=t,r._refreshView=function(){for(var t=new Array(a),n=0,o=i(r.activeDate.getFullYear());a>n;n++)t[n]=angular.extend(r.createDateObject(new Date(o+n,0,1),r.formatYear),{uid:e.uniqueId+"-"+n});e.title=[t[0].label,t[a-1].label].join(" - "),e.rows=r.split(t,5)},r.compare=function(e,t){return e.getFullYear()-t.getFullYear()},r.handleKeyDown=function(e,t){var n=r.activeDate.getFullYear();"left"===e?n-=1:"up"===e?n-=5:"right"===e?n+=1:"down"===e?n+=5:"pageup"===e||"pagedown"===e?n+=("pageup"===e?-1:1)*r.step.years:"home"===e?n=i(r.activeDate.getFullYear()):"end"===e&&(n=i(r.activeDate.getFullYear())+a-1),r.activeDate.setFullYear(n)},r.refreshView()}}}]).constant("datepickerPopupConfig",{datepickerPopup:"yyyy-MM-dd",currentText:"Today",clearText:"Clear",closeText:"Done",closeOnDateSelection:!0,appendToBody:!1,showButtonBar:!0}).directive("datepickerPopup",["$compile","$parse","$document","$position","dateFilter","dateParser","datepickerPopupConfig",function(e,t,n,r,i,a,o){return{restrict:"EA",require:"ngModel",scope:{isOpen:"=?",currentText:"@",clearText:"@",closeText:"@",dateDisabled:"&"},link:function(s,l,u,c){function d(e){return e.replace(/([A-Z])/g,function(e){return"-"+e.toLowerCase()})}function f(e){if(e){if(angular.isDate(e)&&!isNaN(e))return c.$setValidity("date",!0),e;if(angular.isString(e)){var t=a.parse(e,p)||new Date(e);return isNaN(t)?void c.$setValidity("date",!1):(c.$setValidity("date",!0),t)}return void c.$setValidity("date",!1)}return c.$setValidity("date",!0),null}var p,h=angular.isDefined(u.closeOnDateSelection)?s.$parent.$eval(u.closeOnDateSelection):o.closeOnDateSelection,g=angular.isDefined(u.datepickerAppendToBody)?s.$parent.$eval(u.datepickerAppendToBody):o.appendToBody;s.showButtonBar=angular.isDefined(u.showButtonBar)?s.$parent.$eval(u.showButtonBar):o.showButtonBar,s.getText=function(e){return s[e+"Text"]||o[e+"Text"]},u.$observe("datepickerPopup",function(e){p=e||o.datepickerPopup,c.$render()});var m=angular.element("<div datepicker-popup-wrap><div datepicker></div></div>");m.attr({"ng-model":"date","ng-change":"dateSelection()"});var v=angular.element(m.children()[0]);u.datepickerOptions&&angular.forEach(s.$parent.$eval(u.datepickerOptions),function(e,t){v.attr(d(t),e)}),s.watchData={},angular.forEach(["minDate","maxDate","datepickerMode"],function(e){if(u[e]){var n=t(u[e]);if(s.$parent.$watch(n,function(t){s.watchData[e]=t}),v.attr(d(e),"watchData."+e),"datepickerMode"===e){var r=n.assign;s.$watch("watchData."+e,function(e,t){e!==t&&r(s.$parent,e)})}}}),u.dateDisabled&&v.attr("date-disabled","dateDisabled({ date: date, mode: mode })"),c.$parsers.unshift(f),s.dateSelection=function(e){angular.isDefined(e)&&(s.date=e),c.$setViewValue(s.date),c.$render(),h&&(s.isOpen=!1,l[0].focus())},l.bind("input change keyup",function(){s.$apply(function(){s.date=c.$modelValue})}),c.$render=function(){var e=c.$viewValue?i(c.$viewValue,p):"";l.val(e),s.date=f(c.$modelValue)};var y=function(e){s.isOpen&&e.target!==l[0]&&s.$apply(function(){s.isOpen=!1})},b=function(e,t){s.keydown(e)};l.bind("keydown",b),s.keydown=function(e){27===e.which?(e.preventDefault(),e.stopPropagation(),s.close()):40!==e.which||s.isOpen||(s.isOpen=!0)},s.$watch("isOpen",function(e){e?(s.$broadcast("datepicker.focus"),s.position=g?r.offset(l):r.position(l),s.position.top=s.position.top+l.prop("offsetHeight"),n.bind("click",y)):n.unbind("click",y)}),s.select=function(e){if("today"===e){var t=new Date;angular.isDate(c.$modelValue)?(e=new Date(c.$modelValue),e.setFullYear(t.getFullYear(),t.getMonth(),t.getDate())):e=new Date(t.setHours(0,0,0,0))}s.dateSelection(e)},s.close=function(){s.isOpen=!1,l[0].focus()};var w=e(m)(s);m.remove(),g?n.find("body").append(w):l.after(w),s.$on("$destroy",function(){w.remove(),l.unbind("keydown",b),n.unbind("click",y)})}}}]).directive("datepickerPopupWrap",function(){return{restrict:"EA",replace:!0,transclude:!0,templateUrl:"template/datepicker/popup.html",link:function(e,t,n){t.bind("click",function(e){e.preventDefault(),e.stopPropagation()})}}}),angular.module("ui.bootstrap.dropdown",[]).constant("dropdownConfig",{openClass:"open"}).service("dropdownService",["$document",function(e){var t=null;this.open=function(i){t||(e.bind("click",n),e.bind("keydown",r)),t&&t!==i&&(t.isOpen=!1),t=i},this.close=function(i){t===i&&(t=null,e.unbind("click",n),e.unbind("keydown",r))};var n=function(e){if(t){var n=t.getToggleElement();e&&n&&n[0].contains(e.target)||t.$apply(function(){t.isOpen=!1})}},r=function(e){27===e.which&&(t.focusToggleElement(),n())}}]).controller("DropdownController",["$scope","$attrs","$parse","dropdownConfig","dropdownService","$animate",function(e,t,n,r,i,a){var o,s=this,l=e.$new(),u=r.openClass,c=angular.noop,d=t.onToggle?n(t.onToggle):angular.noop;this.init=function(r){s.$element=r,t.isOpen&&(o=n(t.isOpen),c=o.assign,e.$watch(o,function(e){l.isOpen=!!e}))},this.toggle=function(e){return l.isOpen=arguments.length?!!e:!l.isOpen},this.isOpen=function(){return l.isOpen},l.getToggleElement=function(){return s.toggleElement},l.focusToggleElement=function(){s.toggleElement&&s.toggleElement[0].focus()},l.$watch("isOpen",function(t,n){a[t?"addClass":"removeClass"](s.$element,u),t?(l.focusToggleElement(),i.open(l)):i.close(l),c(e,t),angular.isDefined(t)&&t!==n&&d(e,{open:!!t})}),e.$on("$locationChangeSuccess",function(){l.isOpen=!1}),e.$on("$destroy",function(){l.$destroy()})}]).directive("dropdown",function(){return{controller:"DropdownController",link:function(e,t,n,r){r.init(t)}}}).directive("dropdownToggle",function(){return{require:"?^dropdown",link:function(e,t,n,r){if(r){r.toggleElement=t;var i=function(i){i.preventDefault(),t.hasClass("disabled")||n.disabled||e.$apply(function(){r.toggle()})};t.bind("click",i),t.attr({"aria-haspopup":!0,"aria-expanded":!1}),e.$watch(r.isOpen,function(e){
t.attr("aria-expanded",!!e)}),e.$on("$destroy",function(){t.unbind("click",i)})}}}}),angular.module("ui.bootstrap.modal",["ui.bootstrap.transition"]).factory("$$stackedMap",function(){return{createNew:function(){var e=[];return{add:function(t,n){e.push({key:t,value:n})},get:function(t){for(var n=0;n<e.length;n++)if(t==e[n].key)return e[n]},keys:function(){for(var t=[],n=0;n<e.length;n++)t.push(e[n].key);return t},top:function(){return e[e.length-1]},remove:function(t){for(var n=-1,r=0;r<e.length;r++)if(t==e[r].key){n=r;break}return e.splice(n,1)[0]},removeTop:function(){return e.splice(e.length-1,1)[0]},length:function(){return e.length}}}}}).directive("modalBackdrop",["$timeout",function(e){return{restrict:"EA",replace:!0,templateUrl:"template/modal/backdrop.html",link:function(t,n,r){t.backdropClass=r.backdropClass||"",t.animate=!1,e(function(){t.animate=!0})}}}]).directive("modalWindow",["$modalStack","$timeout",function(e,t){return{restrict:"EA",scope:{index:"@",animate:"="},replace:!0,transclude:!0,templateUrl:function(e,t){return t.templateUrl||"template/modal/window.html"},link:function(n,r,i){r.addClass(i.windowClass||""),n.size=i.size,r.on("click",function(e){n.close(e)}),t(function(){n.animate=!0,r[0].querySelectorAll("[autofocus]").length||r[0].focus()}),n.close=function(t){var n=e.getTop();n&&n.value.backdrop&&"static"!=n.value.backdrop&&t.target===t.currentTarget&&(t.preventDefault(),t.stopPropagation(),e.dismiss(n.key,"backdrop click"))}}}}]).directive("modalTransclude",function(){return{link:function(e,t,n,r,i){i(e.$parent,function(e){t.empty(),t.append(e)})}}}).factory("$modalStack",["$transition","$timeout","$document","$compile","$rootScope","$$stackedMap",function(e,t,n,r,i,a){function o(){for(var e=-1,t=p.keys(),n=0;n<t.length;n++)p.get(t[n]).value.backdrop&&(e=n);return e}function s(e){var t=n.find("body").eq(0),r=p.get(e).value;p.remove(e),u(r.modalDomEl,r.modalScope,300,function(){r.modalScope.$destroy(),t.toggleClass(f,p.length()>0),l()})}function l(){if(c&&-1==o()){var e=d;u(c,d,150,function(){e.$destroy(),e=null}),c=void 0,d=void 0}}function u(n,r,i,a){function o(){o.done||(o.done=!0,n.remove(),a&&a())}r.animate=!1;var s=e.transitionEndEventName;if(s){var l=t(o,i);n.bind(s,function(){t.cancel(l),o(),r.$apply()})}else t(o)}var c,d,f="modal-open",p=a.createNew(),h={};return i.$watch(o,function(e){d&&(d.index=e)}),n.bind("keydown",function(e){var t;27===e.which&&(t=p.top(),t&&t.value.keyboard&&(e.preventDefault(),i.$apply(function(){h.dismiss(t.key,"escape key press")})))}),h.open=function(e,t){p.add(e,{deferred:t.deferred,modalScope:t.scope,backdrop:t.backdrop,keyboard:t.keyboard});var a=n.find("body").eq(0),s=o();if(s>=0&&!c){d=i.$new(!0),d.index=s;var l=angular.element("<div modal-backdrop></div>");l.attr("backdrop-class",t.backdropClass),c=r(l)(d),a.append(c)}var u=angular.element("<div modal-window></div>");u.attr({"template-url":t.windowTemplateUrl,"window-class":t.windowClass,size:t.size,index:p.length()-1,animate:"animate"}).html(t.content);var h=r(u)(t.scope);p.top().value.modalDomEl=h,a.append(h),a.addClass(f)},h.close=function(e,t){var n=p.get(e);n&&(n.value.deferred.resolve(t),s(e))},h.dismiss=function(e,t){var n=p.get(e);n&&(n.value.deferred.reject(t),s(e))},h.dismissAll=function(e){for(var t=this.getTop();t;)this.dismiss(t.key,e),t=this.getTop()},h.getTop=function(){return p.top()},h}]).provider("$modal",function(){var e={options:{backdrop:!0,keyboard:!0},$get:["$injector","$rootScope","$q","$http","$templateCache","$controller","$modalStack",function(t,n,r,i,a,o,s){function l(e){return e.template?r.when(e.template):i.get(angular.isFunction(e.templateUrl)?e.templateUrl():e.templateUrl,{cache:a}).then(function(e){return e.data})}function u(e){var n=[];return angular.forEach(e,function(e){(angular.isFunction(e)||angular.isArray(e))&&n.push(r.when(t.invoke(e)))}),n}var c={};return c.open=function(t){var i=r.defer(),a=r.defer(),c={result:i.promise,opened:a.promise,close:function(e){s.close(c,e)},dismiss:function(e){s.dismiss(c,e)}};if(t=angular.extend({},e.options,t),t.resolve=t.resolve||{},!t.template&&!t.templateUrl)throw new Error("One of template or templateUrl options is required.");var d=r.all([l(t)].concat(u(t.resolve)));return d.then(function(e){var r=(t.scope||n).$new();r.$close=c.close,r.$dismiss=c.dismiss;var a,l={},u=1;t.controller&&(l.$scope=r,l.$modalInstance=c,angular.forEach(t.resolve,function(t,n){l[n]=e[u++]}),a=o(t.controller,l),t.controllerAs&&(r[t.controllerAs]=a)),s.open(c,{scope:r,deferred:i,content:e[0],backdrop:t.backdrop,keyboard:t.keyboard,backdropClass:t.backdropClass,windowClass:t.windowClass,windowTemplateUrl:t.windowTemplateUrl,size:t.size})},function(e){i.reject(e)}),d.then(function(){a.resolve(!0)},function(){a.reject(!1)}),c},c}]};return e}),angular.module("ui.bootstrap.pagination",[]).controller("PaginationController",["$scope","$attrs","$parse",function(e,t,n){var r=this,i={$setViewValue:angular.noop},a=t.numPages?n(t.numPages).assign:angular.noop;this.init=function(a,o){i=a,this.config=o,i.$render=function(){r.render()},t.itemsPerPage?e.$parent.$watch(n(t.itemsPerPage),function(t){r.itemsPerPage=parseInt(t,10),e.totalPages=r.calculateTotalPages()}):this.itemsPerPage=o.itemsPerPage},this.calculateTotalPages=function(){var t=this.itemsPerPage<1?1:Math.ceil(e.totalItems/this.itemsPerPage);return Math.max(t||0,1)},this.render=function(){e.page=parseInt(i.$viewValue,10)||1},e.selectPage=function(t){e.page!==t&&t>0&&t<=e.totalPages&&(i.$setViewValue(t),i.$render())},e.getText=function(t){return e[t+"Text"]||r.config[t+"Text"]},e.noPrevious=function(){return 1===e.page},e.noNext=function(){return e.page===e.totalPages},e.$watch("totalItems",function(){e.totalPages=r.calculateTotalPages()}),e.$watch("totalPages",function(t){a(e.$parent,t),e.page>t?e.selectPage(t):i.$render()})}]).constant("paginationConfig",{itemsPerPage:10,boundaryLinks:!1,directionLinks:!0,firstText:"First",previousText:"Previous",nextText:"Next",lastText:"Last",rotate:!0}).directive("pagination",["$parse","paginationConfig",function(e,t){return{restrict:"EA",scope:{totalItems:"=",firstText:"@",previousText:"@",nextText:"@",lastText:"@"},require:["pagination","?ngModel"],controller:"PaginationController",templateUrl:"template/pagination/pagination.html",replace:!0,link:function(n,r,i,a){function o(e,t,n){return{number:e,text:t,active:n}}function s(e,t){var n=[],r=1,i=t,a=angular.isDefined(c)&&t>c;a&&(d?(r=Math.max(e-Math.floor(c/2),1),i=r+c-1,i>t&&(i=t,r=i-c+1)):(r=(Math.ceil(e/c)-1)*c+1,i=Math.min(r+c-1,t)));for(var s=r;i>=s;s++){var l=o(s,s,s===e);n.push(l)}if(a&&!d){if(r>1){var u=o(r-1,"...",!1);n.unshift(u)}if(t>i){var f=o(i+1,"...",!1);n.push(f)}}return n}var l=a[0],u=a[1];if(u){var c=angular.isDefined(i.maxSize)?n.$parent.$eval(i.maxSize):t.maxSize,d=angular.isDefined(i.rotate)?n.$parent.$eval(i.rotate):t.rotate;n.boundaryLinks=angular.isDefined(i.boundaryLinks)?n.$parent.$eval(i.boundaryLinks):t.boundaryLinks,n.directionLinks=angular.isDefined(i.directionLinks)?n.$parent.$eval(i.directionLinks):t.directionLinks,l.init(u,t),i.maxSize&&n.$parent.$watch(e(i.maxSize),function(e){c=parseInt(e,10),l.render()});var f=l.render;l.render=function(){f(),n.page>0&&n.page<=n.totalPages&&(n.pages=s(n.page,n.totalPages))}}}}}]).constant("pagerConfig",{itemsPerPage:10,previousText:"« Previous",nextText:"Next »",align:!0}).directive("pager",["pagerConfig",function(e){return{restrict:"EA",scope:{totalItems:"=",previousText:"@",nextText:"@"},require:["pager","?ngModel"],controller:"PaginationController",templateUrl:"template/pagination/pager.html",replace:!0,link:function(t,n,r,i){var a=i[0],o=i[1];o&&(t.align=angular.isDefined(r.align)?t.$parent.$eval(r.align):e.align,a.init(o,e))}}}]),angular.module("ui.bootstrap.tooltip",["ui.bootstrap.position","ui.bootstrap.bindHtml"]).provider("$tooltip",function(){function e(e){var t=/[A-Z]/g,n="-";return e.replace(t,function(e,t){return(t?n:"")+e.toLowerCase()})}var t={placement:"top",animation:!0,popupDelay:0},n={mouseenter:"mouseleave",click:"click",focus:"blur"},r={};this.options=function(e){angular.extend(r,e)},this.setTriggers=function(e){angular.extend(n,e)},this.$get=["$window","$compile","$timeout","$document","$position","$interpolate",function(i,a,o,s,l,u){return function(i,c,d){function f(e){var t=e||p.trigger||d,r=n[t]||t;return{show:t,hide:r}}var p=angular.extend({},t,r),h=e(i),g=u.startSymbol(),m=u.endSymbol(),v="<div "+h+'-popup title="'+g+"title"+m+'" content="'+g+"content"+m+'" placement="'+g+"placement"+m+'" animation="animation" is-open="isOpen"></div>';return{restrict:"EA",compile:function(e,t){var n=a(v);return function(e,t,r){function a(){O.isOpen?d():u()}function u(){(!T||e.$eval(r[c+"Enable"]))&&(y(),O.popupDelay?_||(_=o(h,O.popupDelay,!1),_.then(function(e){e()})):h()())}function d(){e.$apply(function(){g()})}function h(){return _=null,E&&(o.cancel(E),E=null),O.content?(m(),x.css({top:0,left:0,display:"block"}),S?s.find("body").append(x):t.after(x),A(),O.isOpen=!0,O.$digest(),A):angular.noop}function g(){O.isOpen=!1,o.cancel(_),_=null,O.animation?E||(E=o(v,500)):v()}function m(){x&&v(),C=O.$new(),x=n(C,angular.noop)}function v(){E=null,x&&(x.remove(),x=null),C&&(C.$destroy(),C=null)}function y(){b(),w()}function b(){var e=r[c+"Placement"];O.placement=angular.isDefined(e)?e:p.placement}function w(){var e=r[c+"PopupDelay"],t=parseInt(e,10);O.popupDelay=isNaN(t)?p.popupDelay:t}function $(){var e=r[c+"Trigger"];R(),k=f(e),k.show===k.hide?t.bind(k.show,a):(t.bind(k.show,u),t.bind(k.hide,d))}var x,C,E,_,S=angular.isDefined(p.appendToBody)?p.appendToBody:!1,k=f(void 0),T=angular.isDefined(r[c+"Enable"]),O=e.$new(!0),A=function(){var e=l.positionElements(t,x,O.placement,S);e.top+="px",e.left+="px",x.css(e)};O.isOpen=!1,r.$observe(i,function(e){O.content=e,!e&&O.isOpen&&g()}),r.$observe("disabled",function(e){e&&O.isOpen&&g()}),r.$observe(c+"Title",function(e){O.title=e});var R=function(){t.unbind(k.show,u),t.unbind(k.hide,d)};$();var M=e.$eval(r[c+"Animation"]);O.animation=angular.isDefined(M)?!!M:p.animation;var N=e.$eval(r[c+"AppendToBody"]);S=angular.isDefined(N)?N:S,S&&e.$on("$locationChangeSuccess",function(){O.isOpen&&g()}),e.$on("$destroy",function(){o.cancel(E),o.cancel(_),R(),v(),O=null})}}}}}]}).directive("tooltipPopup",function(){return{restrict:"EA",replace:!0,scope:{content:"@",placement:"@",animation:"&",isOpen:"&"},templateUrl:"template/tooltip/tooltip-popup.html"}}).directive("tooltip",["$tooltip",function(e){return e("tooltip","tooltip","mouseenter")}]).directive("tooltipHtmlUnsafePopup",function(){return{restrict:"EA",replace:!0,scope:{content:"@",placement:"@",animation:"&",isOpen:"&"},templateUrl:"template/tooltip/tooltip-html-unsafe-popup.html"}}).directive("tooltipHtmlUnsafe",["$tooltip",function(e){return e("tooltipHtmlUnsafe","tooltip","mouseenter")}]),angular.module("ui.bootstrap.popover",["ui.bootstrap.tooltip"]).directive("popoverPopup",function(){return{restrict:"EA",replace:!0,scope:{title:"@",content:"@",placement:"@",animation:"&",isOpen:"&"},templateUrl:"template/popover/popover.html"}}).directive("popover",["$tooltip",function(e){return e("popover","popover","click")}]),angular.module("ui.bootstrap.progressbar",[]).constant("progressConfig",{animate:!0,max:100}).controller("ProgressController",["$scope","$attrs","progressConfig",function(e,t,n){var r=this,i=angular.isDefined(t.animate)?e.$parent.$eval(t.animate):n.animate;this.bars=[],e.max=angular.isDefined(t.max)?e.$parent.$eval(t.max):n.max,this.addBar=function(t,n){i||n.css({transition:"none"}),this.bars.push(t),t.$watch("value",function(n){t.percent=+(100*n/e.max).toFixed(2)}),t.$on("$destroy",function(){n=null,r.removeBar(t)})},this.removeBar=function(e){this.bars.splice(this.bars.indexOf(e),1)}}]).directive("progress",function(){return{restrict:"EA",replace:!0,transclude:!0,controller:"ProgressController",require:"progress",scope:{},templateUrl:"template/progressbar/progress.html"}}).directive("bar",function(){return{restrict:"EA",replace:!0,transclude:!0,require:"^progress",scope:{value:"=",type:"@"},templateUrl:"template/progressbar/bar.html",link:function(e,t,n,r){r.addBar(e,t)}}}).directive("progressbar",function(){return{restrict:"EA",replace:!0,transclude:!0,controller:"ProgressController",scope:{value:"=",type:"@"},templateUrl:"template/progressbar/progressbar.html",link:function(e,t,n,r){r.addBar(e,angular.element(t.children()[0]))}}}),angular.module("ui.bootstrap.rating",[]).constant("ratingConfig",{max:5,stateOn:null,stateOff:null}).controller("RatingController",["$scope","$attrs","ratingConfig",function(e,t,n){var r={$setViewValue:angular.noop};this.init=function(i){r=i,r.$render=this.render,this.stateOn=angular.isDefined(t.stateOn)?e.$parent.$eval(t.stateOn):n.stateOn,this.stateOff=angular.isDefined(t.stateOff)?e.$parent.$eval(t.stateOff):n.stateOff;var a=angular.isDefined(t.ratingStates)?e.$parent.$eval(t.ratingStates):new Array(angular.isDefined(t.max)?e.$parent.$eval(t.max):n.max);e.range=this.buildTemplateObjects(a)},this.buildTemplateObjects=function(e){for(var t=0,n=e.length;n>t;t++)e[t]=angular.extend({index:t},{stateOn:this.stateOn,stateOff:this.stateOff},e[t]);return e},e.rate=function(t){!e.readonly&&t>=0&&t<=e.range.length&&(r.$setViewValue(t),r.$render())},e.enter=function(t){e.readonly||(e.value=t),e.onHover({value:t})},e.reset=function(){e.value=r.$viewValue,e.onLeave()},e.onKeydown=function(t){/(37|38|39|40)/.test(t.which)&&(t.preventDefault(),t.stopPropagation(),e.rate(e.value+(38===t.which||39===t.which?1:-1)))},this.render=function(){e.value=r.$viewValue}}]).directive("rating",function(){return{restrict:"EA",require:["rating","ngModel"],scope:{readonly:"=?",onHover:"&",onLeave:"&"},controller:"RatingController",templateUrl:"template/rating/rating.html",replace:!0,link:function(e,t,n,r){var i=r[0],a=r[1];a&&i.init(a)}}}),angular.module("ui.bootstrap.tabs",[]).controller("TabsetController",["$scope",function(e){var t=this,n=t.tabs=e.tabs=[];t.select=function(e){angular.forEach(n,function(t){t.active&&t!==e&&(t.active=!1,t.onDeselect())}),e.active=!0,e.onSelect()},t.addTab=function(e){n.push(e),1===n.length?e.active=!0:e.active&&t.select(e)},t.removeTab=function(e){var i=n.indexOf(e);if(e.active&&n.length>1&&!r){var a=i==n.length-1?i-1:i+1;t.select(n[a])}n.splice(i,1)};var r;e.$on("$destroy",function(){r=!0})}]).directive("tabset",function(){return{restrict:"EA",transclude:!0,replace:!0,scope:{type:"@"},controller:"TabsetController",templateUrl:"template/tabs/tabset.html",link:function(e,t,n){e.vertical=angular.isDefined(n.vertical)?e.$parent.$eval(n.vertical):!1,e.justified=angular.isDefined(n.justified)?e.$parent.$eval(n.justified):!1}}}).directive("tab",["$parse",function(e){return{require:"^tabset",restrict:"EA",replace:!0,templateUrl:"template/tabs/tab.html",transclude:!0,scope:{active:"=?",heading:"@",onSelect:"&select",onDeselect:"&deselect"},controller:function(){},compile:function(t,n,r){return function(t,n,i,a){t.$watch("active",function(e){e&&a.select(t)}),t.disabled=!1,i.disabled&&t.$parent.$watch(e(i.disabled),function(e){t.disabled=!!e}),t.select=function(){t.disabled||(t.active=!0)},a.addTab(t),t.$on("$destroy",function(){a.removeTab(t)}),t.$transcludeFn=r}}}}]).directive("tabHeadingTransclude",[function(){return{restrict:"A",require:"^tab",link:function(e,t,n,r){e.$watch("headingElement",function(e){e&&(t.html(""),t.append(e))})}}}]).directive("tabContentTransclude",function(){function e(e){return e.tagName&&(e.hasAttribute("tab-heading")||e.hasAttribute("data-tab-heading")||"tab-heading"===e.tagName.toLowerCase()||"data-tab-heading"===e.tagName.toLowerCase())}return{restrict:"A",require:"^tabset",link:function(t,n,r){var i=t.$eval(r.tabContentTransclude);i.$transcludeFn(i.$parent,function(t){angular.forEach(t,function(t){e(t)?i.headingElement=t:n.append(t)})})}}}),angular.module("ui.bootstrap.timepicker",[]).constant("timepickerConfig",{hourStep:1,minuteStep:1,showMeridian:!0,meridians:null,readonlyInput:!1,mousewheel:!0}).controller("TimepickerController",["$scope","$attrs","$parse","$log","$locale","timepickerConfig",function(e,t,n,r,i,a){function o(){var t=parseInt(e.hours,10),n=e.showMeridian?t>0&&13>t:t>=0&&24>t;return n?(e.showMeridian&&(12===t&&(t=0),e.meridian===g[1]&&(t+=12)),t):void 0}function s(){var t=parseInt(e.minutes,10);return t>=0&&60>t?t:void 0}function l(e){return angular.isDefined(e)&&e.toString().length<2?"0"+e:e}function u(e){c(),h.$setViewValue(new Date(p)),d(e)}function c(){h.$setValidity("time",!0),e.invalidHours=!1,e.invalidMinutes=!1}function d(t){var n=p.getHours(),r=p.getMinutes();e.showMeridian&&(n=0===n||12===n?12:n%12),e.hours="h"===t?n:l(n),e.minutes="m"===t?r:l(r),e.meridian=p.getHours()<12?g[0]:g[1]}function f(e){var t=new Date(p.getTime()+6e4*e);p.setHours(t.getHours(),t.getMinutes()),u()}var p=new Date,h={$setViewValue:angular.noop},g=angular.isDefined(t.meridians)?e.$parent.$eval(t.meridians):a.meridians||i.DATETIME_FORMATS.AMPMS;this.init=function(n,r){h=n,h.$render=this.render;var i=r.eq(0),o=r.eq(1),s=angular.isDefined(t.mousewheel)?e.$parent.$eval(t.mousewheel):a.mousewheel;s&&this.setupMousewheelEvents(i,o),e.readonlyInput=angular.isDefined(t.readonlyInput)?e.$parent.$eval(t.readonlyInput):a.readonlyInput,this.setupInputEvents(i,o)};var m=a.hourStep;t.hourStep&&e.$parent.$watch(n(t.hourStep),function(e){m=parseInt(e,10)});var v=a.minuteStep;t.minuteStep&&e.$parent.$watch(n(t.minuteStep),function(e){v=parseInt(e,10)}),e.showMeridian=a.showMeridian,t.showMeridian&&e.$parent.$watch(n(t.showMeridian),function(t){if(e.showMeridian=!!t,h.$error.time){var n=o(),r=s();angular.isDefined(n)&&angular.isDefined(r)&&(p.setHours(n),u())}else d()}),this.setupMousewheelEvents=function(t,n){var r=function(e){e.originalEvent&&(e=e.originalEvent);var t=e.wheelDelta?e.wheelDelta:-e.deltaY;return e.detail||t>0};t.bind("mousewheel wheel",function(t){e.$apply(r(t)?e.incrementHours():e.decrementHours()),t.preventDefault()}),n.bind("mousewheel wheel",function(t){e.$apply(r(t)?e.incrementMinutes():e.decrementMinutes()),t.preventDefault()})},this.setupInputEvents=function(t,n){if(e.readonlyInput)return e.updateHours=angular.noop,void(e.updateMinutes=angular.noop);var r=function(t,n){h.$setViewValue(null),h.$setValidity("time",!1),angular.isDefined(t)&&(e.invalidHours=t),angular.isDefined(n)&&(e.invalidMinutes=n)};e.updateHours=function(){var e=o();angular.isDefined(e)?(p.setHours(e),u("h")):r(!0)},t.bind("blur",function(t){!e.invalidHours&&e.hours<10&&e.$apply(function(){e.hours=l(e.hours)})}),e.updateMinutes=function(){var e=s();angular.isDefined(e)?(p.setMinutes(e),u("m")):r(void 0,!0)},n.bind("blur",function(t){!e.invalidMinutes&&e.minutes<10&&e.$apply(function(){e.minutes=l(e.minutes)})})},this.render=function(){var e=h.$modelValue?new Date(h.$modelValue):null;isNaN(e)?(h.$setValidity("time",!1),r.error('Timepicker directive: "ng-model" value must be a Date object, a number of milliseconds since 01.01.1970 or a string representing an RFC2822 or ISO 8601 date.')):(e&&(p=e),c(),d())},e.incrementHours=function(){f(60*m)},e.decrementHours=function(){f(60*-m)},e.incrementMinutes=function(){f(v)},e.decrementMinutes=function(){f(-v)},e.toggleMeridian=function(){f(720*(p.getHours()<12?1:-1))}}]).directive("timepicker",function(){return{restrict:"EA",require:["timepicker","?^ngModel"],controller:"TimepickerController",replace:!0,scope:{},templateUrl:"template/timepicker/timepicker.html",link:function(e,t,n,r){var i=r[0],a=r[1];a&&i.init(a,t.find("input"))}}}),angular.module("ui.bootstrap.typeahead",["ui.bootstrap.position","ui.bootstrap.bindHtml"]).factory("typeaheadParser",["$parse",function(e){var t=/^\s*([\s\S]+?)(?:\s+as\s+([\s\S]+?))?\s+for\s+(?:([\$\w][\$\w\d]*))\s+in\s+([\s\S]+?)$/;return{parse:function(n){var r=n.match(t);if(!r)throw new Error('Expected typeahead specification in form of "_modelValue_ (as _label_)? for _item_ in _collection_" but got "'+n+'".');return{itemName:r[3],source:e(r[4]),viewMapper:e(r[2]||r[1]),modelMapper:e(r[1])}}}}]).directive("typeahead",["$compile","$parse","$q","$timeout","$document","$position","typeaheadParser",function(e,t,n,r,i,a,o){var s=[9,13,27,38,40];return{require:"ngModel",link:function(l,u,c,d){var f,p=l.$eval(c.typeaheadMinLength)||1,h=l.$eval(c.typeaheadWaitMs)||0,g=l.$eval(c.typeaheadEditable)!==!1,m=t(c.typeaheadLoading).assign||angular.noop,v=t(c.typeaheadOnSelect),y=c.typeaheadInputFormatter?t(c.typeaheadInputFormatter):void 0,b=c.typeaheadAppendToBody?l.$eval(c.typeaheadAppendToBody):!1,w=l.$eval(c.typeaheadFocusFirst)!==!1,$=t(c.ngModel).assign,x=o.parse(c.typeahead),C=l.$new();l.$on("$destroy",function(){C.$destroy()});var E="typeahead-"+C.$id+"-"+Math.floor(1e4*Math.random());u.attr({"aria-autocomplete":"list","aria-expanded":!1,"aria-owns":E});var _=angular.element("<div typeahead-popup></div>");_.attr({id:E,matches:"matches",active:"activeIdx",select:"select(activeIdx)",query:"query",position:"position"}),angular.isDefined(c.typeaheadTemplateUrl)&&_.attr("template-url",c.typeaheadTemplateUrl);var S=function(){C.matches=[],C.activeIdx=-1,u.attr("aria-expanded",!1)},k=function(e){return E+"-option-"+e};C.$watch("activeIdx",function(e){0>e?u.removeAttr("aria-activedescendant"):u.attr("aria-activedescendant",k(e))});var T=function(e){var t={$viewValue:e};m(l,!0),n.when(x.source(l,t)).then(function(n){var r=e===d.$viewValue;if(r&&f)if(n.length>0){C.activeIdx=w?0:-1,C.matches.length=0;for(var i=0;i<n.length;i++)t[x.itemName]=n[i],C.matches.push({id:k(i),label:x.viewMapper(C,t),model:n[i]});C.query=e,C.position=b?a.offset(u):a.position(u),C.position.top=C.position.top+u.prop("offsetHeight"),u.attr("aria-expanded",!0)}else S();r&&m(l,!1)},function(){S(),m(l,!1)})};S(),C.query=void 0;var O,A=function(e){O=r(function(){T(e)},h)},R=function(){O&&r.cancel(O)};d.$parsers.unshift(function(e){return f=!0,e&&e.length>=p?h>0?(R(),A(e)):T(e):(m(l,!1),R(),S()),g?e:e?void d.$setValidity("editable",!1):(d.$setValidity("editable",!0),e)}),d.$formatters.push(function(e){var t,n,r={};return y?(r.$model=e,y(l,r)):(r[x.itemName]=e,t=x.viewMapper(l,r),r[x.itemName]=void 0,n=x.viewMapper(l,r),t!==n?t:e)}),C.select=function(e){var t,n,i={};i[x.itemName]=n=C.matches[e].model,t=x.modelMapper(l,i),$(l,t),d.$setValidity("editable",!0),v(l,{$item:n,$model:t,$label:x.viewMapper(l,i)}),S(),r(function(){u[0].focus()},0,!1)},u.bind("keydown",function(e){0!==C.matches.length&&-1!==s.indexOf(e.which)&&(-1!=C.activeIdx||13!==e.which&&9!==e.which)&&(e.preventDefault(),40===e.which?(C.activeIdx=(C.activeIdx+1)%C.matches.length,C.$digest()):38===e.which?(C.activeIdx=(C.activeIdx>0?C.activeIdx:C.matches.length)-1,C.$digest()):13===e.which||9===e.which?C.$apply(function(){C.select(C.activeIdx)}):27===e.which&&(e.stopPropagation(),S(),C.$digest()))}),u.bind("blur",function(e){f=!1});var M=function(e){u[0]!==e.target&&(S(),C.$digest())};i.bind("click",M),l.$on("$destroy",function(){i.unbind("click",M),b&&N.remove()});var N=e(_)(C);b?i.find("body").append(N):u.after(N)}}}]).directive("typeaheadPopup",function(){return{restrict:"EA",scope:{matches:"=",query:"=",active:"=",position:"=",select:"&"},replace:!0,templateUrl:"template/typeahead/typeahead-popup.html",link:function(e,t,n){e.templateUrl=n.templateUrl,e.isOpen=function(){return e.matches.length>0},e.isActive=function(t){return e.active==t},e.selectActive=function(t){e.active=t},e.selectMatch=function(t){e.select({activeIdx:t})}}}}).directive("typeaheadMatch",["$http","$templateCache","$compile","$parse",function(e,t,n,r){return{restrict:"EA",scope:{index:"=",match:"=",query:"="},link:function(i,a,o){var s=r(o.templateUrl)(i.$parent)||"template/typeahead/typeahead-match.html";e.get(s,{cache:t}).success(function(e){a.replaceWith(n(e.trim())(i))})}}}]).filter("typeaheadHighlight",function(){function e(e){return e.replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1")}return function(t,n){return n?(""+t).replace(new RegExp(e(n),"gi"),"<strong>$&</strong>"):t}}),angular.module("template/accordion/accordion-group.html",[]).run(["$templateCache",function(e){e.put("template/accordion/accordion-group.html",'<div class="panel panel-default">\n  <div class="panel-heading">\n    <h4 class="panel-title">\n      <a href class="accordion-toggle" ng-click="toggleOpen()" accordion-transclude="heading"><span ng-class="{\'text-muted\': isDisabled}">{{heading}}</span></a>\n    </h4>\n  </div>\n  <div class="panel-collapse" collapse="!isOpen">\n	  <div class="panel-body" ng-transclude></div>\n  </div>\n</div>\n')}]),angular.module("template/accordion/accordion.html",[]).run(["$templateCache",function(e){e.put("template/accordion/accordion.html",'<div class="panel-group" ng-transclude></div>')}]),angular.module("template/alert/alert.html",[]).run(["$templateCache",function(e){e.put("template/alert/alert.html",'<div class="alert" ng-class="[\'alert-\' + (type || \'warning\'), closeable ? \'alert-dismissable\' : null]" role="alert">\n    <button ng-show="closeable" type="button" class="close" ng-click="close()">\n        <span aria-hidden="true">&times;</span>\n        <span class="sr-only">Close</span>\n    </button>\n    <div ng-transclude></div>\n</div>\n')}]),angular.module("template/carousel/carousel.html",[]).run(["$templateCache",function(e){e.put("template/carousel/carousel.html",'<div ng-mouseenter="pause()" ng-mouseleave="play()" class="carousel" ng-swipe-right="prev()" ng-swipe-left="next()">\n    <ol class="carousel-indicators" ng-show="slides.length > 1">\n        <li ng-repeat="slide in slides track by $index" ng-class="{active: isActive(slide)}" ng-click="select(slide)"></li>\n    </ol>\n    <div class="carousel-inner" ng-transclude></div>\n    <a class="left carousel-control" ng-click="prev()" ng-show="slides.length > 1"><span class="glyphicon glyphicon-chevron-left"></span></a>\n    <a class="right carousel-control" ng-click="next()" ng-show="slides.length > 1"><span class="glyphicon glyphicon-chevron-right"></span></a>\n</div>\n')}]),angular.module("template/carousel/slide.html",[]).run(["$templateCache",function(e){e.put("template/carousel/slide.html","<div ng-class=\"{\n    'active': leaving || (active && !entering),\n    'prev': (next || active) && direction=='prev',\n    'next': (next || active) && direction=='next',\n    'right': direction=='prev',\n    'left': direction=='next'\n  }\" class=\"item text-center\" ng-transclude></div>\n")}]),angular.module("template/datepicker/datepicker.html",[]).run(["$templateCache",function(e){e.put("template/datepicker/datepicker.html",'<div ng-switch="datepickerMode" role="application" ng-keydown="keydown($event)">\n  <daypicker ng-switch-when="day" tabindex="0"></daypicker>\n  <monthpicker ng-switch-when="month" tabindex="0"></monthpicker>\n  <yearpicker ng-switch-when="year" tabindex="0"></yearpicker>\n</div>')}]),angular.module("template/datepicker/day.html",[]).run(["$templateCache",function(e){e.put("template/datepicker/day.html",'<table role="grid" aria-labelledby="{{uniqueId}}-title" aria-activedescendant="{{activeDateId}}">\n  <thead>\n    <tr>\n      <th><button type="button" class="btn btn-default btn-sm pull-left" ng-click="move(-1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-left"></i></button></th>\n      <th colspan="{{5 + showWeeks}}"><button id="{{uniqueId}}-title" role="heading" aria-live="assertive" aria-atomic="true" type="button" class="btn btn-default btn-sm" ng-click="toggleMode()" tabindex="-1" style="width:100%;"><strong>{{title}}</strong></button></th>\n      <th><button type="button" class="btn btn-default btn-sm pull-right" ng-click="move(1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-right"></i></button></th>\n    </tr>\n    <tr>\n      <th ng-show="showWeeks" class="text-center"></th>\n      <th ng-repeat="label in labels track by $index" class="text-center"><small aria-label="{{label.full}}">{{label.abbr}}</small></th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr ng-repeat="row in rows track by $index">\n      <td ng-show="showWeeks" class="text-center h6"><em>{{ weekNumbers[$index] }}</em></td>\n      <td ng-repeat="dt in row track by dt.date" class="text-center" role="gridcell" id="{{dt.uid}}" aria-disabled="{{!!dt.disabled}}">\n        <button type="button" style="width:100%;" class="btn btn-default btn-sm" ng-class="{\'btn-info\': dt.selected, active: isActive(dt)}" ng-click="select(dt.date)" ng-disabled="dt.disabled" tabindex="-1"><span ng-class="{\'text-muted\': dt.secondary, \'text-info\': dt.current}">{{dt.label}}</span></button>\n      </td>\n    </tr>\n  </tbody>\n</table>\n')}]),angular.module("template/datepicker/month.html",[]).run(["$templateCache",function(e){e.put("template/datepicker/month.html",'<table role="grid" aria-labelledby="{{uniqueId}}-title" aria-activedescendant="{{activeDateId}}">\n  <thead>\n    <tr>\n      <th><button type="button" class="btn btn-default btn-sm pull-left" ng-click="move(-1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-left"></i></button></th>\n      <th><button id="{{uniqueId}}-title" role="heading" aria-live="assertive" aria-atomic="true" type="button" class="btn btn-default btn-sm" ng-click="toggleMode()" tabindex="-1" style="width:100%;"><strong>{{title}}</strong></button></th>\n      <th><button type="button" class="btn btn-default btn-sm pull-right" ng-click="move(1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-right"></i></button></th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr ng-repeat="row in rows track by $index">\n      <td ng-repeat="dt in row track by dt.date" class="text-center" role="gridcell" id="{{dt.uid}}" aria-disabled="{{!!dt.disabled}}">\n        <button type="button" style="width:100%;" class="btn btn-default" ng-class="{\'btn-info\': dt.selected, active: isActive(dt)}" ng-click="select(dt.date)" ng-disabled="dt.disabled" tabindex="-1"><span ng-class="{\'text-info\': dt.current}">{{dt.label}}</span></button>\n      </td>\n    </tr>\n  </tbody>\n</table>\n')}]),angular.module("template/datepicker/popup.html",[]).run(["$templateCache",function(e){e.put("template/datepicker/popup.html",'<ul class="dropdown-menu" ng-style="{display: (isOpen && \'block\') || \'none\', top: position.top+\'px\', left: position.left+\'px\'}" ng-keydown="keydown($event)">\n	<li ng-transclude></li>\n	<li ng-if="showButtonBar" style="padding:10px 9px 2px">\n		<span class="btn-group pull-left">\n			<button type="button" class="btn btn-sm btn-info" ng-click="select(\'today\')">{{ getText(\'current\') }}</button>\n			<button type="button" class="btn btn-sm btn-danger" ng-click="select(null)">{{ getText(\'clear\') }}</button>\n		</span>\n		<button type="button" class="btn btn-sm btn-success pull-right" ng-click="close()">{{ getText(\'close\') }}</button>\n	</li>\n</ul>\n')}]),angular.module("template/datepicker/year.html",[]).run(["$templateCache",function(e){e.put("template/datepicker/year.html",'<table role="grid" aria-labelledby="{{uniqueId}}-title" aria-activedescendant="{{activeDateId}}">\n  <thead>\n    <tr>\n      <th><button type="button" class="btn btn-default btn-sm pull-left" ng-click="move(-1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-left"></i></button></th>\n      <th colspan="3"><button id="{{uniqueId}}-title" role="heading" aria-live="assertive" aria-atomic="true" type="button" class="btn btn-default btn-sm" ng-click="toggleMode()" tabindex="-1" style="width:100%;"><strong>{{title}}</strong></button></th>\n      <th><button type="button" class="btn btn-default btn-sm pull-right" ng-click="move(1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-right"></i></button></th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr ng-repeat="row in rows track by $index">\n      <td ng-repeat="dt in row track by dt.date" class="text-center" role="gridcell" id="{{dt.uid}}" aria-disabled="{{!!dt.disabled}}">\n        <button type="button" style="width:100%;" class="btn btn-default" ng-class="{\'btn-info\': dt.selected, active: isActive(dt)}" ng-click="select(dt.date)" ng-disabled="dt.disabled" tabindex="-1"><span ng-class="{\'text-info\': dt.current}">{{dt.label}}</span></button>\n      </td>\n    </tr>\n  </tbody>\n</table>\n');
}]),angular.module("template/modal/backdrop.html",[]).run(["$templateCache",function(e){e.put("template/modal/backdrop.html",'<div class="modal-backdrop fade {{ backdropClass }}"\n     ng-class="{in: animate}"\n     ng-style="{\'z-index\': 1040 + (index && 1 || 0) + index*10}"\n></div>\n')}]),angular.module("template/modal/window.html",[]).run(["$templateCache",function(e){e.put("template/modal/window.html",'<div tabindex="-1" role="dialog" class="modal fade" ng-class="{in: animate}" ng-style="{\'z-index\': 1050 + index*10, display: \'block\'}">\n    <div class="modal-dialog" ng-class="{\'modal-sm\': size == \'sm\', \'modal-lg\': size == \'lg\'}"><div class="modal-content" modal-transclude></div></div>\n</div>')}]),angular.module("template/pagination/pager.html",[]).run(["$templateCache",function(e){e.put("template/pagination/pager.html",'<ul class="pager">\n  <li ng-class="{disabled: noPrevious(), previous: align}"><a href ng-click="selectPage(page - 1)">{{getText(\'previous\')}}</a></li>\n  <li ng-class="{disabled: noNext(), next: align}"><a href ng-click="selectPage(page + 1)">{{getText(\'next\')}}</a></li>\n</ul>')}]),angular.module("template/pagination/pagination.html",[]).run(["$templateCache",function(e){e.put("template/pagination/pagination.html",'<ul class="pagination">\n  <li ng-if="boundaryLinks" ng-class="{disabled: noPrevious()}"><a href ng-click="selectPage(1)">{{getText(\'first\')}}</a></li>\n  <li ng-if="directionLinks" ng-class="{disabled: noPrevious()}"><a href ng-click="selectPage(page - 1)">{{getText(\'previous\')}}</a></li>\n  <li ng-repeat="page in pages track by $index" ng-class="{active: page.active}"><a href ng-click="selectPage(page.number)">{{page.text}}</a></li>\n  <li ng-if="directionLinks" ng-class="{disabled: noNext()}"><a href ng-click="selectPage(page + 1)">{{getText(\'next\')}}</a></li>\n  <li ng-if="boundaryLinks" ng-class="{disabled: noNext()}"><a href ng-click="selectPage(totalPages)">{{getText(\'last\')}}</a></li>\n</ul>')}]),angular.module("template/tooltip/tooltip-html-unsafe-popup.html",[]).run(["$templateCache",function(e){e.put("template/tooltip/tooltip-html-unsafe-popup.html",'<div class="tooltip {{placement}}" ng-class="{ in: isOpen(), fade: animation() }">\n  <div class="tooltip-arrow"></div>\n  <div class="tooltip-inner" bind-html-unsafe="content"></div>\n</div>\n')}]),angular.module("template/tooltip/tooltip-popup.html",[]).run(["$templateCache",function(e){e.put("template/tooltip/tooltip-popup.html",'<div class="tooltip {{placement}}" ng-class="{ in: isOpen(), fade: animation() }">\n  <div class="tooltip-arrow"></div>\n  <div class="tooltip-inner" ng-bind="content"></div>\n</div>\n')}]),angular.module("template/popover/popover.html",[]).run(["$templateCache",function(e){e.put("template/popover/popover.html",'<div class="popover {{placement}}" ng-class="{ in: isOpen(), fade: animation() }">\n  <div class="arrow"></div>\n\n  <div class="popover-inner">\n      <h3 class="popover-title" ng-bind="title" ng-show="title"></h3>\n      <div class="popover-content" ng-bind="content"></div>\n  </div>\n</div>\n')}]),angular.module("template/progressbar/bar.html",[]).run(["$templateCache",function(e){e.put("template/progressbar/bar.html",'<div class="progress-bar" ng-class="type && \'progress-bar-\' + type" role="progressbar" aria-valuenow="{{value}}" aria-valuemin="0" aria-valuemax="{{max}}" ng-style="{width: percent + \'%\'}" aria-valuetext="{{percent | number:0}}%" ng-transclude></div>')}]),angular.module("template/progressbar/progress.html",[]).run(["$templateCache",function(e){e.put("template/progressbar/progress.html",'<div class="progress" ng-transclude></div>')}]),angular.module("template/progressbar/progressbar.html",[]).run(["$templateCache",function(e){e.put("template/progressbar/progressbar.html",'<div class="progress">\n  <div class="progress-bar" ng-class="type && \'progress-bar-\' + type" role="progressbar" aria-valuenow="{{value}}" aria-valuemin="0" aria-valuemax="{{max}}" ng-style="{width: percent + \'%\'}" aria-valuetext="{{percent | number:0}}%" ng-transclude></div>\n</div>')}]),angular.module("template/rating/rating.html",[]).run(["$templateCache",function(e){e.put("template/rating/rating.html",'<span ng-mouseleave="reset()" ng-keydown="onKeydown($event)" tabindex="0" role="slider" aria-valuemin="0" aria-valuemax="{{range.length}}" aria-valuenow="{{value}}">\n    <i ng-repeat="r in range track by $index" ng-mouseenter="enter($index + 1)" ng-click="rate($index + 1)" class="glyphicon" ng-class="$index < value && (r.stateOn || \'glyphicon-star\') || (r.stateOff || \'glyphicon-star-empty\')">\n        <span class="sr-only">({{ $index < value ? \'*\' : \' \' }})</span>\n    </i>\n</span>')}]),angular.module("template/tabs/tab.html",[]).run(["$templateCache",function(e){e.put("template/tabs/tab.html",'<li ng-class="{active: active, disabled: disabled}">\n  <a href ng-click="select()" tab-heading-transclude>{{heading}}</a>\n</li>\n')}]),angular.module("template/tabs/tabset.html",[]).run(["$templateCache",function(e){e.put("template/tabs/tabset.html",'<div>\n  <ul class="nav nav-{{type || \'tabs\'}}" ng-class="{\'nav-stacked\': vertical, \'nav-justified\': justified}" ng-transclude></ul>\n  <div class="tab-content">\n    <div class="tab-pane" \n         ng-repeat="tab in tabs" \n         ng-class="{active: tab.active}"\n         tab-content-transclude="tab">\n    </div>\n  </div>\n</div>\n')}]),angular.module("template/timepicker/timepicker.html",[]).run(["$templateCache",function(e){e.put("template/timepicker/timepicker.html",'<table>\n	<tbody>\n		<tr class="text-center">\n			<td><a ng-click="incrementHours()" class="btn btn-link"><span class="glyphicon glyphicon-chevron-up"></span></a></td>\n			<td>&nbsp;</td>\n			<td><a ng-click="incrementMinutes()" class="btn btn-link"><span class="glyphicon glyphicon-chevron-up"></span></a></td>\n			<td ng-show="showMeridian"></td>\n		</tr>\n		<tr>\n			<td style="width:50px;" class="form-group" ng-class="{\'has-error\': invalidHours}">\n				<input type="text" ng-model="hours" ng-change="updateHours()" class="form-control text-center" ng-mousewheel="incrementHours()" ng-readonly="readonlyInput" maxlength="2">\n			</td>\n			<td>:</td>\n			<td style="width:50px;" class="form-group" ng-class="{\'has-error\': invalidMinutes}">\n				<input type="text" ng-model="minutes" ng-change="updateMinutes()" class="form-control text-center" ng-readonly="readonlyInput" maxlength="2">\n			</td>\n			<td ng-show="showMeridian"><button type="button" class="btn btn-default text-center" ng-click="toggleMeridian()">{{meridian}}</button></td>\n		</tr>\n		<tr class="text-center">\n			<td><a ng-click="decrementHours()" class="btn btn-link"><span class="glyphicon glyphicon-chevron-down"></span></a></td>\n			<td>&nbsp;</td>\n			<td><a ng-click="decrementMinutes()" class="btn btn-link"><span class="glyphicon glyphicon-chevron-down"></span></a></td>\n			<td ng-show="showMeridian"></td>\n		</tr>\n	</tbody>\n</table>\n')}]),angular.module("template/typeahead/typeahead-match.html",[]).run(["$templateCache",function(e){e.put("template/typeahead/typeahead-match.html",'<a tabindex="-1" bind-html-unsafe="match.label | typeaheadHighlight:query"></a>')}]),angular.module("template/typeahead/typeahead-popup.html",[]).run(["$templateCache",function(e){e.put("template/typeahead/typeahead-popup.html",'<ul class="dropdown-menu" ng-show="isOpen()" ng-style="{top: position.top+\'px\', left: position.left+\'px\'}" style="display: block;" role="listbox" aria-hidden="{{!isOpen()}}">\n    <li ng-repeat="match in matches track by $index" ng-class="{active: isActive($index) }" ng-mouseenter="selectActive($index)" ng-click="selectMatch($index)" role="option" id="{{match.id}}">\n        <div typeahead-match index="$index" match="match" query="query" template-url="templateUrl"></div>\n    </li>\n</ul>\n')}])},function(e,t,n){/**
	 * AngularJS filter for Numeral.js: number formatting as a filter
	 * @version v1.1.6 - 2014-10-29
	 * @link https://github.com/baumandm/angular-numeraljs
	 * @author Dave Bauman <baumandm@gmail.com>
	 * @license MIT License, http://www.opensource.org/licenses/MIT
	 */
"use strict";angular.module("ngNumeraljs",[]).provider("$numeraljsConfig",function(){var e={};this.setFormat=function(t,n){e[t]=n},this.setDefaultFormat=function(e){numeral.defaultFormat(e)},this.setLanguage=function(e,t){numeral.language(e,t)},this.setCurrentLanguage=function(e){numeral.language(e)},this.$get=function(){return{customFormat:function(t){return e[t]||t}}}}).filter("numeraljs",["$numeraljsConfig",function(e){return function(t,n){return null==t?t:(n=e.customFormat(n),numeral(t).format(n))}}])},function(e,t,n){/**
	 * @license AngularJS v1.3.15
	 * (c) 2010-2014 Google, Inc. http://angularjs.org
	 * License: MIT
	 */
!function(e,t,n){"use strict";function r(){this.$get=["$$sanitizeUri",function(e){return function(t){var n=[];return o(t,u(n,function(t,n){return!/^unsafe/.test(e(t,n))})),n.join("")}}]}function i(e){var n=[],r=u(n,t.noop);return r.chars(e),n.join("")}function a(e){var t,n={},r=e.split(",");for(t=0;t<r.length;t++)n[r[t]]=!0;return n}function o(e,n){function r(e,r,a,o){if(r=t.lowercase(r),_[r])for(;b.last()&&S[b.last()];)i("",b.last());E[r]&&b.last()==r&&i("",r),o=$[r]||!!o,o||b.push(r);var l={};a.replace(p,function(e,t,n,r,i){var a=n||r||i||"";l[t]=s(a)}),n.start&&n.start(r,l,o)}function i(e,r){var i,a=0;if(r=t.lowercase(r))for(a=b.length-1;a>=0&&b[a]!=r;a--);if(a>=0){for(i=b.length-1;i>=a;i--)n.end&&n.end(b[i]);b.length=a}}"string"!=typeof e&&(e=null===e||"undefined"==typeof e?"":""+e);var a,o,l,u,b=[],w=e;for(b.last=function(){return b[b.length-1]};e;){if(u="",o=!0,b.last()&&T[b.last()]?(e=e.replace(new RegExp("([\\W\\w]*)<\\s*\\/\\s*"+b.last()+"[^>]*>","i"),function(e,t){return t=t.replace(m,"$1").replace(y,"$1"),n.chars&&n.chars(s(t)),""}),i("",b.last())):(0===e.indexOf("<!--")?(a=e.indexOf("--",4),a>=0&&e.lastIndexOf("-->",a)===a&&(n.comment&&n.comment(e.substring(4,a)),e=e.substring(a+3),o=!1)):v.test(e)?(l=e.match(v),l&&(e=e.replace(l[0],""),o=!1)):g.test(e)?(l=e.match(f),l&&(e=e.substring(l[0].length),l[0].replace(f,i),o=!1)):h.test(e)&&(l=e.match(d),l?(l[4]&&(e=e.substring(l[0].length),l[0].replace(d,r)),o=!1):(u+="<",e=e.substring(1))),o&&(a=e.indexOf("<"),u+=0>a?e:e.substring(0,a),e=0>a?"":e.substring(a),n.chars&&n.chars(s(u)))),e==w)throw c("badparse","The sanitizer was unable to parse the following block of html: {0}",e);w=e}i()}function s(e){return e?(D.innerHTML=e.replace(/</g,"&lt;"),D.textContent):""}function l(e){return e.replace(/&/g,"&amp;").replace(b,function(e){var t=e.charCodeAt(0),n=e.charCodeAt(1);return"&#"+(1024*(t-55296)+(n-56320)+65536)+";"}).replace(w,function(e){return"&#"+e.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}function u(e,n){var r=!1,i=t.bind(e,e.push);return{start:function(e,a,o){e=t.lowercase(e),!r&&T[e]&&(r=e),r||O[e]!==!0||(i("<"),i(e),t.forEach(a,function(r,a){var o=t.lowercase(a),s="img"===e&&"src"===o||"background"===o;N[o]!==!0||A[o]===!0&&!n(r,s)||(i(" "),i(a),i('="'),i(l(r)),i('"'))}),i(o?"/>":">"))},end:function(e){e=t.lowercase(e),r||O[e]!==!0||(i("</"),i(e),i(">")),e==r&&(r=!1)},chars:function(e){r||i(l(e))}}}var c=t.$$minErr("$sanitize"),d=/^<((?:[a-zA-Z])[\w:-]*)((?:\s+[\w:-]+(?:\s*=\s*(?:(?:"[^"]*")|(?:'[^']*')|[^>\s]+))?)*)\s*(\/?)\s*(>?)/,f=/^<\/\s*([\w:-]+)[^>]*>/,p=/([\w:-]+)(?:\s*=\s*(?:(?:"((?:[^"])*)")|(?:'((?:[^'])*)')|([^>\s]+)))?/g,h=/^</,g=/^<\//,m=/<!--(.*?)-->/g,v=/<!DOCTYPE([^>]*?)>/i,y=/<!\[CDATA\[(.*?)]]>/g,b=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,w=/([^\#-~| |!])/g,$=a("area,br,col,hr,img,wbr"),x=a("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),C=a("rp,rt"),E=t.extend({},C,x),_=t.extend({},x,a("address,article,aside,blockquote,caption,center,del,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,map,menu,nav,ol,pre,script,section,table,ul")),S=t.extend({},C,a("a,abbr,acronym,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,q,ruby,rp,rt,s,samp,small,span,strike,strong,sub,sup,time,tt,u,var")),k=a("animate,animateColor,animateMotion,animateTransform,circle,defs,desc,ellipse,font-face,font-face-name,font-face-src,g,glyph,hkern,image,linearGradient,line,marker,metadata,missing-glyph,mpath,path,polygon,polyline,radialGradient,rect,set,stop,svg,switch,text,title,tspan,use"),T=a("script,style"),O=t.extend({},$,_,S,E,k),A=a("background,cite,href,longdesc,src,usemap,xlink:href"),R=a("abbr,align,alt,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,coords,dir,face,headers,height,hreflang,hspace,ismap,lang,language,nohref,nowrap,rel,rev,rows,rowspan,rules,scope,scrolling,shape,size,span,start,summary,target,title,type,valign,value,vspace,width"),M=a("accent-height,accumulate,additive,alphabetic,arabic-form,ascent,attributeName,attributeType,baseProfile,bbox,begin,by,calcMode,cap-height,class,color,color-rendering,content,cx,cy,d,dx,dy,descent,display,dur,end,fill,fill-rule,font-family,font-size,font-stretch,font-style,font-variant,font-weight,from,fx,fy,g1,g2,glyph-name,gradientUnits,hanging,height,horiz-adv-x,horiz-origin-x,ideographic,k,keyPoints,keySplines,keyTimes,lang,marker-end,marker-mid,marker-start,markerHeight,markerUnits,markerWidth,mathematical,max,min,offset,opacity,orient,origin,overline-position,overline-thickness,panose-1,path,pathLength,points,preserveAspectRatio,r,refX,refY,repeatCount,repeatDur,requiredExtensions,requiredFeatures,restart,rotate,rx,ry,slope,stemh,stemv,stop-color,stop-opacity,strikethrough-position,strikethrough-thickness,stroke,stroke-dasharray,stroke-dashoffset,stroke-linecap,stroke-linejoin,stroke-miterlimit,stroke-opacity,stroke-width,systemLanguage,target,text-anchor,to,transform,type,u1,u2,underline-position,underline-thickness,unicode,unicode-range,units-per-em,values,version,viewBox,visibility,width,widths,x,x-height,x1,x2,xlink:actuate,xlink:arcrole,xlink:role,xlink:show,xlink:title,xlink:type,xml:base,xml:lang,xml:space,xmlns,xmlns:xlink,y,y1,y2,zoomAndPan"),N=t.extend({},A,M,R),D=document.createElement("pre");t.module("ngSanitize",[]).provider("$sanitize",r),t.module("ngSanitize").filter("linky",["$sanitize",function(e){var n=/((ftp|https?):\/\/|(www\.)|(mailto:)?[A-Za-z0-9._%+-]+@)\S*[^\s.;,(){}<>"”’]/,r=/^mailto:/;return function(a,o){function s(e){e&&p.push(i(e))}function l(e,n){p.push("<a "),t.isDefined(o)&&p.push('target="',o,'" '),p.push('href="',e.replace(/"/g,"&quot;"),'">'),s(n),p.push("</a>")}if(!a)return a;for(var u,c,d,f=a,p=[];u=f.match(n);)c=u[0],u[2]||u[4]||(c=(u[3]?"http://":"mailto:")+c),d=u.index,s(f.substr(0,d)),l(c,u[0].replace(r,"")),f=f.substring(d+u[0].length);return s(f),e(p.join(""))}}])}(window,window.angular)},function(e,t,n){n(220),e.exports="ngSanitize"},function(e,t,n){"use strict";function r(e,t){function n(e,n,s,l){var u=angular.extend({value:n.text()},t.codemirror||{},e.$eval(s.uiCodemirror),e.$eval(s.uiCodemirrorOpts)),c=r(n,u);i(c,s.uiCodemirror||s.uiCodemirrorOpts,e),a(c,l,e),o(c,s.uiRefresh,e),e.$on("CodeMirror",function(e,t){if(!angular.isFunction(t))throw new Error("the CodeMirror event requires a callback function");t(c)}),angular.isFunction(u.onLoad)&&u.onLoad(c)}function r(e,t){var n;return"TEXTAREA"===e[0].tagName?n=window.CodeMirror.fromTextArea(e[0],t):(e.html(""),n=new window.CodeMirror(function(t){e.append(t)},t)),n}function i(e,t,n){function r(t,n){angular.isObject(t)&&i.forEach(function(r){if(t.hasOwnProperty(r)){if(n&&t[r]===n[r])return;e.setOption(r,t[r])}})}if(t){var i=Object.keys(window.CodeMirror.defaults);n.$watch(t,r,!0)}}function a(e,t,n){t&&(t.$formatters.push(function(e){if(angular.isUndefined(e)||null===e)return"";if(angular.isObject(e)||angular.isArray(e))throw new Error("ui-codemirror cannot use an object or an array as a model");return e}),t.$render=function(){var n=t.$viewValue||"";e.setValue(n)},e.on("change",function(e){var r=e.getValue();r!==t.$viewValue&&n.$evalAsync(function(){t.$setViewValue(r)})}))}function o(t,n,r){n&&r.$watch(n,function(n,r){n!==r&&e(function(){t.refresh()})})}return{restrict:"EA",require:"?ngModel",compile:function(){if(angular.isUndefined(window.CodeMirror))throw new Error("ui-codemirror needs CodeMirror to work... (o rly?)");return n}}}angular.module("ui.codemirror",[]).constant("uiCodemirrorConfig",{}).directive("uiCodemirror",r),r.$inject=["$timeout","uiCodemirrorConfig"]},function(e,t,n){/**!
	 * AngularJS file upload/drop directive and service with progress and abort
	 * @author  Danial  <danial.farid@gmail.com>
	 * @version 5.0.5
	 */
var r=angular.module("ngFileUpload",[]);r.version="5.0.5",r.service("Upload",["$http","$q","$timeout",function(e,t,n){function r(e,t){window.XMLHttpRequest.prototype[e]=t(window.XMLHttpRequest.prototype[e])}function i(r){r.method=r.method||"POST",r.headers=r.headers||{};var i=t.defer(),a=i.promise;return r.headers.__setXHR_=function(){return function(e){e&&(r.__XHR=e,r.xhrFn&&r.xhrFn(e),e.upload.addEventListener("progress",function(e){e.config=r,i.notify?i.notify(e):a.progressFunc&&n(function(){a.progressFunc(e)})},!1),e.upload.addEventListener("load",function(e){e.lengthComputable&&(e.config=r,i.notify?i.notify(e):a.progressFunc&&n(function(){a.progressFunc(e)}))},!1))}},e(r).then(function(e){i.resolve(e)},function(e){i.reject(e)},function(e){i.notify(e)}),a.success=function(e){return a.then(function(t){e(t.data,t.status,t.headers,r)}),a},a.error=function(e){return a.then(null,function(t){e(t.data,t.status,t.headers,r)}),a},a.progress=function(e){return a.progressFunc=e,a.then(null,null,function(t){e(t)}),a},a.abort=function(){return r.__XHR&&n(function(){r.__XHR.abort()}),a},a.xhr=function(e){return r.xhrFn=function(t){return function(){t&&t.apply(a,arguments),e.apply(a,arguments)}}(r.xhrFn),a},a}window.XMLHttpRequest&&!window.XMLHttpRequest.__isFileAPIShim&&r("setRequestHeader",function(e){return function(t,n){if("__setXHR_"===t){var r=n(this);r instanceof Function&&r(this)}else e.apply(this,arguments)}}),this.upload=function(e){function t(n,r,i){if(void 0!==r)if(angular.isDate(r)&&(r=r.toISOString()),angular.isString(r))n.append(i,r);else if("form"===e.sendFieldsAs)if(angular.isObject(r))for(var a in r)r.hasOwnProperty(a)&&t(n,r[a],i+"["+a+"]");else n.append(i,r);else r=angular.isString(r)?r:JSON.stringify(r),"json-blob"===e.sendFieldsAs?n.append(i,new Blob([r],{type:"application/json"})):n.append(i,r)}return e.headers=e.headers||{},e.headers["Content-Type"]=void 0,e.transformRequest=e.transformRequest?angular.isArray(e.transformRequest)?e.transformRequest:[e.transformRequest]:[],e.transformRequest.push(function(n){var r,i=new FormData,a={};for(r in e.fields)e.fields.hasOwnProperty(r)&&(a[r]=e.fields[r]);n&&(a.data=n);for(r in a)if(a.hasOwnProperty(r)){var o=a[r];e.formDataAppender?e.formDataAppender(i,r,o):t(i,o,r)}if(null!=e.file){var s=e.fileFormDataName||"file";if(angular.isArray(e.file))for(var l=angular.isString(s),u=0;u<e.file.length;u++)i.append(l?s:s[u],e.file[u],e.fileName&&e.fileName[u]||e.file[u].name);else i.append(s,e.file,e.fileName||e.file.name)}return i}),i(e)},this.http=function(t){return t.transformRequest=t.transformRequest||function(t){return window.ArrayBuffer&&t instanceof window.ArrayBuffer?t:e.defaults.transformRequest[0](arguments)},i(t)}}]),function(){function e(e,r,a,o,s,l,u){function c(){return"input"===r[0].tagName.toLowerCase()&&a.type&&"file"===a.type.toLowerCase()}function d(t){if(!v){v=!0;try{for(var r=t.__files_||t.target&&t.target.files,u=[],c=[],d=0;d<r.length;d++){var f=r.item(d);n(e,s,a,f,t)?u.push(f):c.push(f)}i(s,l,e,o,a,a.ngfChange||a.ngfSelect,u,c,t),0===u.length&&(t.target.value=u)}finally{v=!1}}}function f(t){a.ngfMultiple&&t.attr("multiple",s(a.ngfMultiple)(e)),a.ngfCapture&&t.attr("capture",s(a.ngfCapture)(e)),a.accept&&t.attr("accept",a.accept);for(var n=0;n<r[0].attributes.length;n++){var i=r[0].attributes[n];(c()&&"type"!==i.name||"type"!==i.name&&"class"!==i.name&&"id"!==i.name&&"style"!==i.name)&&t.attr(i.name,i.value)}}function p(t,n){if(!r.attr("disabled")&&!m){if(!n&&(t||c()))return r.$$ngfRefElem||r;var i=angular.element('<input type="file">');return f(i),c()?(r.replaceWith(i),r=i,i.attr("__ngf_gen__",!0),u(r)(e)):(i.css("visibility","hidden").css("position","absolute").css("overflow","hidden").css("width","0px").css("height","0px").css("z-index","-100000").css("border","none").css("margin","0px").css("padding","0px").attr("tabindex","-1"),r.$$ngfRefElem&&r.$$ngfRefElem.remove(),r.$$ngfRefElem=i,document.body.appendChild(i[0])),i}}function h(t){i(s,l,e,o,a,a.ngfChange||a.ngfSelect,[],[],t,!0)}function g(n){function i(e){e&&l[0].click(),(c()||!e)&&r.bind("click touchend",g)}null!=n&&(n.preventDefault(),n.stopPropagation());var o=s(a.ngfResetOnClick)(e)!==!1,l=p(n,o);return l&&((!n||o)&&l.bind("change",d),n&&o&&s(a.ngfResetModelOnClick)(e)!==!1&&h(n),t(navigator.userAgent)?setTimeout(function(){i(n)},0):i(n)),!1}if(!r.attr("__ngf_gen__")){e.$on("$destroy",function(){r.$$ngfRefElem&&r.$$ngfRefElem.remove()});var m=!1;-1===a.ngfSelect.search(/\W+$files\W+/)&&e.$watch(a.ngfSelect,function(e){m=e===!1});var v=!1;window.FileAPI&&window.FileAPI.ngfFixIE?window.FileAPI.ngfFixIE(r,p,f,d):g()}}function t(e){var t=e.match(/Android[^\d]*(\d+)\.(\d+)/);return t&&t.length>2?parseInt(t[1])<4||4===parseInt(t[1])&&parseInt(t[2])<4:/.*Windows.*Safari.*/.test(e)}r.directive("ngfSelect",["$parse","$timeout","$compile",function(t,n,r){return{restrict:"AEC",require:"?ngModel",link:function(i,a,o,s){e(i,a,o,s,t,n,r)}}}]),r.validate=function(e,t,n,r,i){function a(e){if(e.length>2&&"/"===e[0]&&"/"===e[e.length-1])return e.substring(1,e.length-1);var t=e.split(","),n="";if(t.length>1)for(var r=0;r<t.length;r++)n+="("+a(t[r])+")",r<t.length-1&&(n+="|");else 0===e.indexOf(".")&&(e="*"+e),n="^"+e.replace(new RegExp("[.\\\\+*?\\[\\^\\]$(){}=!<>|:\\-]","g"),"\\$&")+"$",n=n.replace(/\\\*/g,".*").replace(/\\\?/g,".");return n}var o=t(n.ngfAccept)(e,{$file:r,$event:i}),s=t(n.ngfMaxSize)(e,{$file:r,$event:i})||9007199254740991,l=t(n.ngfMinSize)(e,{$file:r,$event:i})||-1;if(null!=o&&angular.isString(o)){var u=new RegExp(a(o),"gi");o=null!=r.type&&u.test(r.type.toLowerCase())||null!=r.name&&u.test(r.name.toLowerCase())}return(null==o||o)&&(null==r.size||r.size<s&&r.size>l)},r.updateModel=function(e,t,n,r,i,a,o,s,l,u){function c(){if(e(i.ngfKeep)(n)===!0){if(!o||!o.length)return;if(e(i.ngfKeepDistinct)(n)===!0){for(var u=(r.$modelValue||[]).slice(0),c=u.length,d=0;d<o.length;d++){for(var f=0;c>f&&o[d].name!==u[f].name;f++);f===c&&u.push(o[d])}if(c===u.length)return;o=[].concat(u)}else o=(r.$modelValue||[]).concat(o)}r&&(e(i.ngModel).assign(n,o),t(function(){r&&r.$setViewValue(null!=o&&0===o.length?null:o)})),i.ngModelRejected&&e(i.ngModelRejected).assign(n,s),a&&e(a)(n,{$files:o,$rejectedFiles:s,$event:l})}u?c():t(function(){c()})};var n=r.validate,i=r.updateModel}(),function(){function e(e,r,a,o,s,l,u){function c(e,t,r){var i=!0,a=r.dataTransfer.items;if(null!=a)for(var o=0;o<a.length&&i;o++)i=i&&("file"===a[o].kind||""===a[o].kind)&&n(e,s,t,a[o],r);var l=s(t.ngfDragOverClass)(e,{$event:r});return l&&(l.delay&&(v=l.delay),l.accept&&(l=i?l.accept:l.reject)),l||t.ngfDragOverClass||"dragover"}function d(t,r,i,o){function c(r){n(e,s,a,r,t)?f.push(r):p.push(r)}function d(e,t,n){if(null!=t)if(t.isDirectory){var r=(n||"")+t.name;c({name:t.name,type:"directory",path:r});var i=t.createReader(),a=[];g++;var o=function(){i.readEntries(function(r){try{if(r.length)a=a.concat(Array.prototype.slice.call(r||[],0)),o();else{for(var i=0;i<a.length;i++)d(e,a[i],(n?n:"")+t.name+"/");g--}}catch(s){g--,console.error(s)}},function(){g--})};o()}else g++,t.file(function(e){try{g--,e.path=(n?n:"")+e.name,c(e)}catch(t){g--,console.error(t)}},function(){g--})}var f=[],p=[],h=t.dataTransfer.items,g=0;if(h&&h.length>0&&"file"!==u.protocol())for(var m=0;m<h.length;m++){if(h[m].webkitGetAsEntry&&h[m].webkitGetAsEntry()&&h[m].webkitGetAsEntry().isDirectory){var v=h[m].webkitGetAsEntry();if(v.isDirectory&&!i)continue;null!=v&&d(f,v)}else{var y=h[m].getAsFile();null!=y&&c(y)}if(!o&&f.length>0)break}else{var b=t.dataTransfer.files;if(null!=b)for(var w=0;w<b.length&&(c(b.item(w)),o||!(f.length>0));w++);}var $=0;!function x(e){l(function(){if(g)10*$++<2e4&&x(10);else{if(!o&&f.length>1){for(m=0;"directory"===f[m].type;)m++;f=[f[m]]}r(f,p)}},e||0)}()}var f=t();if(a.dropAvailable&&l(function(){e[a.dropAvailable]?e[a.dropAvailable].value=f:e[a.dropAvailable]=f}),!f)return void(s(a.ngfHideOnDropNotAvailable)(e)===!0&&r.css("display","none"));var p=!1;-1===a.ngfDrop.search(/\W+$files\W+/)&&e.$watch(a.ngfDrop,function(e){p=e===!1});var h,g=null,m=s(a.ngfStopPropagation),v=1;r[0].addEventListener("dragover",function(t){if(!r.attr("disabled")&&!p){if(t.preventDefault(),m(e)&&t.stopPropagation(),navigator.userAgent.indexOf("Chrome")>-1){var n=t.dataTransfer.effectAllowed;t.dataTransfer.dropEffect="move"===n||"linkMove"===n?"move":"copy"}l.cancel(g),e.actualDragOverClass||(h=c(e,a,t)),r.addClass(h)}},!1),r[0].addEventListener("dragenter",function(t){r.attr("disabled")||p||(t.preventDefault(),m(e)&&t.stopPropagation())},!1),r[0].addEventListener("dragleave",function(){r.attr("disabled")||p||(g=l(function(){r.removeClass(h),h=null},v||1))},!1),r[0].addEventListener("drop",function(t){r.attr("disabled")||p||(t.preventDefault(),m(e)&&t.stopPropagation(),r.removeClass(h),h=null,d(t,function(n,r){i(s,l,e,o,a,a.ngfChange||a.ngfDrop,n,r,t)},s(a.ngfAllowDir)(e)!==!1,a.multiple||s(a.ngfMultiple)(e)))},!1)}function t(){var e=document.createElement("div");return"draggable"in e&&"ondrop"in e}var n=r.validate,i=r.updateModel;r.directive("ngfDrop",["$parse","$timeout","$location",function(t,n,r){return{restrict:"AEC",require:"?ngModel",link:function(i,a,o,s){e(i,a,o,s,t,n,r)}}}]),r.directive("ngfNoFileDrop",function(){return function(e,n){t()&&n.css("display","none")}}),r.directive("ngfDropAvailable",["$parse","$timeout",function(e,n){return function(r,i,a){if(t()){var o=e(a.ngfDropAvailable);n(function(){o(r),o.assign&&o.assign(r,!0)})}}}]),r.directive("ngfSrc",["$parse","$timeout",function(e,t){return{restrict:"AE",link:function(r,i,a){window.FileReader&&r.$watch(a.ngfSrc,function(o){o&&n(r,e,a,o,null)&&(!window.FileAPI||-1===navigator.userAgent.indexOf("MSIE 8")||o.size<2e4)&&(!window.FileAPI||-1===navigator.userAgent.indexOf("MSIE 9")||o.size<4e6)?t(function(){var e=window.URL||window.webkitURL;if(e&&e.createObjectURL)i.attr("src",e.createObjectURL(o));else{var n=new FileReader;n.readAsDataURL(o),n.onload=function(e){t(function(){i.attr("src",e.target.result)})}}}):i.attr("src",a.ngfDefaultSrc||"")})}}}])}()},function(e,t,n){e.exports=function(){function e(e){return function(){return function(n){return n?t[e].apply(this,arguments):void 0}}}var t=window&&window.inflection?window.inflection:n(225),r=window&&window.angular?window.angular:n(4),i=r.module("ngInflection",[]),a=["indexOf","pluralize","singularize","inflect","camelize","underscore","humanize","capitalize","dasherize","titleize","demodulize","tableize","classify","foreign_key","ordinalize"];for(var o in a)i.filter(a[o],e(a[o]));i.filter("transform",function(){return function(e,n){return e&&n?t.transform(e,n):void 0}})},e.exports()},function(e,t,n){var r,i,a;/*!
	 * inflection
	 * Copyright(c) 2011 Ben Lin <ben@dreamerslab.com>
	 * MIT Licensed
	 *
	 * @fileoverview
	 * A port of inflection-js to node.js module.
	 */
!function(n,o){i=[],r=o,a="function"==typeof r?r.apply(t,i):r,!(void 0!==a&&(e.exports=a))}(this,function(){var e=["equipment","information","rice","money","species","series","fish","sheep","moose","deer","news"],t=[[new RegExp("(m)en$","gi")],[new RegExp("(pe)ople$","gi")],[new RegExp("(child)ren$","gi")],[new RegExp("([ti])a$","gi")],[new RegExp("((a)naly|(b)a|(d)iagno|(p)arenthe|(p)rogno|(s)ynop|(t)he)ses$","gi")],[new RegExp("(hive)s$","gi")],[new RegExp("(tive)s$","gi")],[new RegExp("(curve)s$","gi")],[new RegExp("([lr])ves$","gi")],[new RegExp("([^fo])ves$","gi")],[new RegExp("([^aeiouy]|qu)ies$","gi")],[new RegExp("(s)eries$","gi")],[new RegExp("(m)ovies$","gi")],[new RegExp("(x|ch|ss|sh)es$","gi")],[new RegExp("([m|l])ice$","gi")],[new RegExp("(bus)es$","gi")],[new RegExp("(o)es$","gi")],[new RegExp("(shoe)s$","gi")],[new RegExp("(cris|ax|test)es$","gi")],[new RegExp("(octop|vir)i$","gi")],[new RegExp("(alias|status)es$","gi")],[new RegExp("^(ox)en","gi")],[new RegExp("(vert|ind)ices$","gi")],[new RegExp("(matr)ices$","gi")],[new RegExp("^feet$","gi")],[new RegExp("^teeth$","gi")],[new RegExp("^geese$","gi")],[new RegExp("(quiz)zes$","gi")],[new RegExp("(m)an$","gi"),"$1en"],[new RegExp("(pe)rson$","gi"),"$1ople"],[new RegExp("(child)$","gi"),"$1ren"],[new RegExp("^(ox)$","gi"),"$1en"],[new RegExp("(ax|test)is$","gi"),"$1es"],[new RegExp("(octop|vir)us$","gi"),"$1i"],[new RegExp("(alias|status)$","gi"),"$1es"],[new RegExp("(bu)s$","gi"),"$1ses"],[new RegExp("(buffal|tomat|potat)o$","gi"),"$1oes"],[new RegExp("([ti])um$","gi"),"$1a"],[new RegExp("sis$","gi"),"ses"],[new RegExp("(?:([^f])fe|([lr])f)$","gi"),"$1$2ves"],[new RegExp("(hive)$","gi"),"$1s"],[new RegExp("([^aeiouy]|qu)y$","gi"),"$1ies"],[new RegExp("(x|ch|ss|sh)$","gi"),"$1es"],[new RegExp("(matr|vert|ind)ix|ex$","gi"),"$1ices"],[new RegExp("([m|l])ouse$","gi"),"$1ice"],[new RegExp("^foot$","gi"),"feet"],[new RegExp("^tooth$","gi"),"teeth"],[new RegExp("^goose$","gi"),"geese"],[new RegExp("(quiz)$","gi"),"$1zes"],[new RegExp("s$","gi"),"s"],[new RegExp("$","gi"),"s"]],n=[[new RegExp("(m)an$","gi")],[new RegExp("(pe)rson$","gi")],[new RegExp("(child)$","gi")],[new RegExp("^(ox)$","gi")],[new RegExp("(ax|test)is$","gi")],[new RegExp("(octop|vir)us$","gi")],[new RegExp("(alias|status)$","gi")],[new RegExp("(bu)s$","gi")],[new RegExp("(buffal|tomat|potat)o$","gi")],[new RegExp("([ti])um$","gi")],[new RegExp("sis$","gi")],[new RegExp("(?:([^f])fe|([lr])f)$","gi")],[new RegExp("(hive)$","gi")],[new RegExp("([^aeiouy]|qu)y$","gi")],[new RegExp("(x|ch|ss|sh)$","gi")],[new RegExp("(matr|vert|ind)ix|ex$","gi")],[new RegExp("([m|l])ouse$","gi")],[new RegExp("^foot$","gi")],[new RegExp("^tooth$","gi")],[new RegExp("^goose$","gi")],[new RegExp("(quiz)$","gi")],[new RegExp("(m)en$","gi"),"$1an"],[new RegExp("(pe)ople$","gi"),"$1rson"],[new RegExp("(child)ren$","gi"),"$1"],[new RegExp("([ti])a$","gi"),"$1um"],[new RegExp("((a)naly|(b)a|(d)iagno|(p)arenthe|(p)rogno|(s)ynop|(t)he)ses$","gi"),"$1$2sis"],[new RegExp("(hive)s$","gi"),"$1"],[new RegExp("(tive)s$","gi"),"$1"],[new RegExp("(curve)s$","gi"),"$1"],[new RegExp("([lr])ves$","gi"),"$1f"],[new RegExp("([^fo])ves$","gi"),"$1fe"],[new RegExp("(m)ovies$","gi"),"$1ovie"],[new RegExp("([^aeiouy]|qu)ies$","gi"),"$1y"],[new RegExp("(s)eries$","gi"),"$1eries"],[new RegExp("(x|ch|ss|sh)es$","gi"),"$1"],[new RegExp("([m|l])ice$","gi"),"$1ouse"],[new RegExp("(bus)es$","gi"),"$1"],[new RegExp("(o)es$","gi"),"$1"],[new RegExp("(shoe)s$","gi"),"$1"],[new RegExp("(cris|ax|test)es$","gi"),"$1is"],[new RegExp("(octop|vir)i$","gi"),"$1us"],[new RegExp("(alias|status)es$","gi"),"$1"],[new RegExp("^(ox)en","gi"),"$1"],[new RegExp("(vert|ind)ices$","gi"),"$1ex"],[new RegExp("(matr)ices$","gi"),"$1ix"],[new RegExp("^feet$","gi"),"foot"],[new RegExp("^teeth$","gi"),"tooth"],[new RegExp("^geese$","gi"),"goose"],[new RegExp("(quiz)zes$","gi"),"$1"],[new RegExp("ss$","gi"),"ss"],[new RegExp("s$","gi"),""]],r=["and","or","nor","a","an","the","so","but","to","of","at","by","from","into","on","onto","off","out","in","over","with","for"],i=new RegExp("(_ids|_id)$","g"),a=new RegExp("_","g"),o=new RegExp("[ _]","g"),s=new RegExp("([A-Z])","g"),l=new RegExp("^_"),u={_apply_rules:function(e,t,n,r){if(r)e=r;else{var i=u.indexOf(n,e.toLowerCase())>-1;if(!i)for(var a=0,o=t.length;o>a;a++)if(e.match(t[a][0])){void 0!==t[a][1]&&(e=e.replace(t[a][0],t[a][1]));break}}return e},indexOf:function(e,t,n,r){n||(n=-1);for(var i=-1,a=n,o=e.length;o>a;a++)if(e[a]===t||r&&r(e[a],t)){i=a;break}return i},pluralize:function(n,r){return u._apply_rules(n,t,e,r)},singularize:function(t,r){return u._apply_rules(t,n,e,r)},inflect:function(r,i,a,o){return i=parseInt(i,10),isNaN(i)?r:0===i||i>1?u._apply_rules(r,t,e,o):u._apply_rules(r,n,e,a)},camelize:function(e,t){for(var n,r,i,a,o=e.split("/"),s=0,l=o.length;l>s;s++){for(n=o[s].split("_"),r=0,i=n.length;i>r;r++)0!==r&&(n[r]=n[r].toLowerCase()),a=n[r].charAt(0),a=t&&0===s&&0===r?a.toLowerCase():a.toUpperCase(),n[r]=a+n[r].substring(1);o[s]=n.join("")}return o.join("::")},underscore:function(e,t){if(t&&e===e.toUpperCase())return e;for(var n=e.split("::"),r=0,i=n.length;i>r;r++)n[r]=n[r].replace(s,"_$1"),n[r]=n[r].replace(l,"");return n.join("/").toLowerCase()},humanize:function(e,t){return e=e.toLowerCase(),e=e.replace(i,""),e=e.replace(a," "),t||(e=u.capitalize(e)),e},capitalize:function(e){return e=e.toLowerCase(),e.substring(0,1).toUpperCase()+e.substring(1)},dasherize:function(e){return e.replace(o,"-")},titleize:function(e){e=e.toLowerCase().replace(a," ");for(var t,n,i,o=e.split(" "),s=0,l=o.length;l>s;s++){for(t=o[s].split("-"),n=0,i=t.length;i>n;n++)u.indexOf(r,t[n].toLowerCase())<0&&(t[n]=u.capitalize(t[n]));o[s]=t.join("-")}return e=o.join(" "),e=e.substring(0,1).toUpperCase()+e.substring(1)},demodulize:function(e){var t=e.split("::");return t[t.length-1]},tableize:function(e){return e=u.underscore(e),e=u.pluralize(e)},classify:function(e){return e=u.camelize(e),e=u.singularize(e)},foreign_key:function(e,t){return e=u.demodulize(e),e=u.underscore(e)+(t?"":"_")+"id"},ordinalize:function(e){for(var t=e.split(" "),n=0,r=t.length;r>n;n++){var i=parseInt(t[n],10);if(!isNaN(i)){var a=t[n].substring(t[n].length-2),o=t[n].substring(t[n].length-1),s="th";"11"!=a&&"12"!=a&&"13"!=a&&("1"===o?s="st":"2"===o?s="nd":"3"===o&&(s="rd")),t[n]+=s}}return t.join(" ")},transform:function(e,t){for(var n=0,r=t.length;r>n;n++){var i=t[n];this.hasOwnProperty(i)&&(e=this[i](e))}return e}};return u.version="1.4.2",u})},function(e,t,n){var r,i;/*!
	 * numeral.js
	 * version : 1.5.3
	 * author : Adam Draper
	 * license : MIT
	 * http://adamwdraper.github.com/Numeral-js/
	 */
(function(){function n(e){this._value=e}function a(e,t,n,r){var i,a,o=Math.pow(10,t);return a=(n(e*o)/o).toFixed(t),r&&(i=new RegExp("0{1,"+r+"}$"),a=a.replace(i,"")),a}function o(e,t,n){var r;return r=t.indexOf("$")>-1?l(e,t,n):t.indexOf("%")>-1?u(e,t,n):t.indexOf(":")>-1?c(e,t):f(e._value,t,n)}function s(e,t){var n,r,i,a,o,s=t,l=["KB","MB","GB","TB","PB","EB","ZB","YB"],u=!1;if(t.indexOf(":")>-1)e._value=d(t);else if(t===w)e._value=0;else{for("."!==y[b].delimiters.decimal&&(t=t.replace(/\./g,"").replace(y[b].delimiters.decimal,".")),n=new RegExp("[^a-zA-Z]"+y[b].abbreviations.thousand+"(?:\\)|(\\"+y[b].currency.symbol+")?(?:\\))?)?$"),r=new RegExp("[^a-zA-Z]"+y[b].abbreviations.million+"(?:\\)|(\\"+y[b].currency.symbol+")?(?:\\))?)?$"),i=new RegExp("[^a-zA-Z]"+y[b].abbreviations.billion+"(?:\\)|(\\"+y[b].currency.symbol+")?(?:\\))?)?$"),a=new RegExp("[^a-zA-Z]"+y[b].abbreviations.trillion+"(?:\\)|(\\"+y[b].currency.symbol+")?(?:\\))?)?$"),o=0;o<=l.length&&!(u=t.indexOf(l[o])>-1?Math.pow(1024,o+1):!1);o++);e._value=(u?u:1)*(s.match(n)?Math.pow(10,3):1)*(s.match(r)?Math.pow(10,6):1)*(s.match(i)?Math.pow(10,9):1)*(s.match(a)?Math.pow(10,12):1)*(t.indexOf("%")>-1?.01:1)*((t.split("-").length+Math.min(t.split("(").length-1,t.split(")").length-1))%2?1:-1)*Number(t.replace(/[^0-9\.]+/g,"")),e._value=u?Math.ceil(e._value):e._value}return e._value}function l(e,t,n){var r,i,a=t.indexOf("$"),o=t.indexOf("("),s=t.indexOf("-"),l="";return t.indexOf(" $")>-1?(l=" ",t=t.replace(" $","")):t.indexOf("$ ")>-1?(l=" ",t=t.replace("$ ","")):t=t.replace("$",""),i=f(e._value,t,n),1>=a?i.indexOf("(")>-1||i.indexOf("-")>-1?(i=i.split(""),r=1,(o>a||s>a)&&(r=0),i.splice(r,0,y[b].currency.symbol+l),i=i.join("")):i=y[b].currency.symbol+l+i:i.indexOf(")")>-1?(i=i.split(""),i.splice(-1,0,l+y[b].currency.symbol),i=i.join("")):i=i+l+y[b].currency.symbol,i}function u(e,t,n){var r,i="",a=100*e._value;return t.indexOf(" %")>-1?(i=" ",t=t.replace(" %","")):t=t.replace("%",""),r=f(a,t,n),r.indexOf(")")>-1?(r=r.split(""),r.splice(-1,0,i+"%"),r=r.join("")):r=r+i+"%",r}function c(e){var t=Math.floor(e._value/60/60),n=Math.floor((e._value-60*t*60)/60),r=Math.round(e._value-60*t*60-60*n);return t+":"+(10>n?"0"+n:n)+":"+(10>r?"0"+r:r)}function d(e){var t=e.split(":"),n=0;return 3===t.length?(n+=60*Number(t[0])*60,n+=60*Number(t[1]),n+=Number(t[2])):2===t.length&&(n+=60*Number(t[0]),n+=Number(t[1])),Number(n)}function f(e,t,n){var r,i,o,s,l,u,c=!1,d=!1,f=!1,p="",h=!1,g=!1,m=!1,v=!1,$=!1,x="",C="",E=Math.abs(e),_=["B","KB","MB","GB","TB","PB","EB","ZB","YB"],S="",k=!1;if(0===e&&null!==w)return w;if(t.indexOf("(")>-1?(c=!0,t=t.slice(1,-1)):t.indexOf("+")>-1&&(d=!0,t=t.replace(/\+/g,"")),t.indexOf("a")>-1&&(h=t.indexOf("aK")>=0,g=t.indexOf("aM")>=0,m=t.indexOf("aB")>=0,v=t.indexOf("aT")>=0,$=h||g||m||v,t.indexOf(" a")>-1?(p=" ",t=t.replace(" a","")):t=t.replace("a",""),E>=Math.pow(10,12)&&!$||v?(p+=y[b].abbreviations.trillion,e/=Math.pow(10,12)):E<Math.pow(10,12)&&E>=Math.pow(10,9)&&!$||m?(p+=y[b].abbreviations.billion,e/=Math.pow(10,9)):E<Math.pow(10,9)&&E>=Math.pow(10,6)&&!$||g?(p+=y[b].abbreviations.million,e/=Math.pow(10,6)):(E<Math.pow(10,6)&&E>=Math.pow(10,3)&&!$||h)&&(p+=y[b].abbreviations.thousand,e/=Math.pow(10,3))),t.indexOf("b")>-1)for(t.indexOf(" b")>-1?(x=" ",t=t.replace(" b","")):t=t.replace("b",""),o=0;o<=_.length;o++)if(r=Math.pow(1024,o),i=Math.pow(1024,o+1),e>=r&&i>e){x+=_[o],r>0&&(e/=r);break}return t.indexOf("o")>-1&&(t.indexOf(" o")>-1?(C=" ",t=t.replace(" o","")):t=t.replace("o",""),C+=y[b].ordinal(e)),t.indexOf("[.]")>-1&&(f=!0,t=t.replace("[.]",".")),s=e.toString().split(".")[0],l=t.split(".")[1],u=t.indexOf(","),l?(l.indexOf("[")>-1?(l=l.replace("]",""),l=l.split("["),S=a(e,l[0].length+l[1].length,n,l[1].length)):S=a(e,l.length,n),s=S.split(".")[0],S=S.split(".")[1].length?y[b].delimiters.decimal+S.split(".")[1]:"",f&&0===Number(S.slice(1))&&(S="")):s=a(e,null,n),s.indexOf("-")>-1&&(s=s.slice(1),k=!0),u>-1&&(s=s.toString().replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1"+y[b].delimiters.thousands)),0===t.indexOf(".")&&(s=""),(c&&k?"(":"")+(!c&&k?"-":"")+(!k&&d?"+":"")+s+S+(C?C:"")+(p?p:"")+(x?x:"")+(c&&k?")":"")}function p(e,t){y[e]=t}function h(e){var t=e.toString().split(".");return t.length<2?1:Math.pow(10,t[1].length)}function g(){var e=Array.prototype.slice.call(arguments);return e.reduce(function(e,t){var n=h(e),r=h(t);return n>r?n:r},-(1/0))}var m,v="1.5.3",y={},b="en",w=null,$="0,0",x="undefined"!=typeof e&&e.exports;m=function(e){return m.isNumeral(e)?e=e.value():0===e||"undefined"==typeof e?e=0:Number(e)||(e=m.fn.unformat(e)),new n(Number(e))},m.version=v,m.isNumeral=function(e){return e instanceof n},m.language=function(e,t){if(!e)return b;if(e&&!t){if(!y[e])throw new Error("Unknown language : "+e);b=e}return(t||!y[e])&&p(e,t),m},m.languageData=function(e){if(!e)return y[b];if(!y[e])throw new Error("Unknown language : "+e);return y[e]},m.language("en",{delimiters:{thousands:",",decimal:"."},abbreviations:{thousand:"k",million:"m",billion:"b",trillion:"t"},ordinal:function(e){var t=e%10;return 1===~~(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th"},currency:{symbol:"$"}}),m.zeroFormat=function(e){w="string"==typeof e?e:null},m.defaultFormat=function(e){$="string"==typeof e?e:"0.0"},"function"!=typeof Array.prototype.reduce&&(Array.prototype.reduce=function(e,t){"use strict";if(null===this||"undefined"==typeof this)throw new TypeError("Array.prototype.reduce called on null or undefined");if("function"!=typeof e)throw new TypeError(e+" is not a function");var n,r,i=this.length>>>0,a=!1;for(1<arguments.length&&(r=t,a=!0),n=0;i>n;++n)this.hasOwnProperty(n)&&(a?r=e(r,this[n],n,this):(r=this[n],a=!0));if(!a)throw new TypeError("Reduce of empty array with no initial value");return r}),m.fn=n.prototype={clone:function(){return m(this)},format:function(e,t){return o(this,e?e:$,void 0!==t?t:Math.round)},unformat:function(e){return"[object Number]"===Object.prototype.toString.call(e)?e:s(this,e?e:$)},value:function(){return this._value},valueOf:function(){return this._value},set:function(e){return this._value=Number(e),this},add:function(e){function t(e,t,r,i){return e+n*t}var n=g.call(null,this._value,e);return this._value=[this._value,e].reduce(t,0)/n,this},subtract:function(e){function t(e,t,r,i){return e-n*t}var n=g.call(null,this._value,e);return this._value=[e].reduce(t,this._value*n)/n,this},multiply:function(e){function t(e,t,n,r){var i=g(e,t);return e*i*t*i/(i*i)}return this._value=[this._value,e].reduce(t,1),this},divide:function(e){function t(e,t,n,r){var i=g(e,t);return e*i/(t*i)}return this._value=[this._value,e].reduce(t),this},difference:function(e){return Math.abs(m(this._value).subtract(e).value())}},x&&(e.exports=m),"undefined"==typeof ender&&(this.numeral=m),r=[],i=function(){return m}.apply(t,r),!(void 0!==i&&(e.exports=i))}).call(this)},function(e,t,n){var r,i,a;!function(o,s){i=[n(209)],r=o,a="function"==typeof r?r.apply(t,i):r,!(void 0!==a&&(e.exports=a))}(function(e){return e.createModule("SaveRestore",["WrappedRange"],function(e,t){function n(e,t){return(t||document).getElementById(e)}function r(e,t){var n,r="selectionBoundary_"+ +new Date+"_"+(""+Math.random()).slice(2),i=h.getDocument(e.startContainer),a=e.cloneRange();return a.collapse(t),n=i.createElement("span"),n.id=r,n.style.lineHeight="0",n.style.display="none",n.className="rangySelectionBoundary",n.appendChild(i.createTextNode(v)),a.insertNode(n),n}function i(e,r,i,a){var o=n(i,e);o?(r[a?"setStartBefore":"setEndBefore"](o),g(o)):t.warn("Marker element has been removed. Cannot restore selection.")}function a(e,t){return t.compareBoundaryPoints(e.START_TO_START,e)}function o(t,n){var i,a,o=e.DomRange.getRangeDocument(t),s=t.toString(),l=m(n);return t.collapsed?(a=r(t,!1),{document:o,markerId:a.id,collapsed:!0}):(a=r(t,!1),i=r(t,!0),{document:o,startMarkerId:i.id,endMarkerId:a.id,collapsed:!1,backward:l,toString:function(){return"original text: '"+s+"', new text: '"+t.toString()+"'"}})}function s(r,a){var o=r.document;"undefined"==typeof a&&(a=!0);var s=e.createRange(o);if(r.collapsed){var l=n(r.markerId,o);if(l){l.style.display="inline";var u=l.previousSibling;u&&3==u.nodeType?(g(l),s.collapseToPoint(u,u.length)):(s.collapseBefore(l),g(l))}else t.warn("Marker element has been removed. Cannot restore selection.")}else i(o,s,r.startMarkerId,!0),i(o,s,r.endMarkerId,!1);return a&&s.normalizeBoundaries(),s}function l(t,r){var i,s,l=[],u=m(r);t=t.slice(0),t.sort(a);for(var c=0,d=t.length;d>c;++c)l[c]=o(t[c],u);for(c=d-1;c>=0;--c)i=t[c],s=e.DomRange.getRangeDocument(i),i.collapsed?i.collapseAfter(n(l[c].markerId,s)):(i.setEndBefore(n(l[c].endMarkerId,s)),i.setStartAfter(n(l[c].startMarkerId,s)));return l}function u(n){if(!e.isSelectionValid(n))return t.warn("Cannot save selection. This usually happens when the selection is collapsed and the selection document has lost focus."),null;var r=e.getSelection(n),i=r.getAllRanges(),a=1==i.length&&r.isBackward(),o=l(i,a);return a?r.setSingleRange(i[0],a):r.setRanges(i),{win:n,rangeInfos:o,restored:!1}}function c(e){for(var t=[],n=e.length,r=n-1;r>=0;r--)t[r]=s(e[r],!0);return t}function d(t,n){if(!t.restored){var r=t.rangeInfos,i=e.getSelection(t.win),a=c(r),o=r.length;1==o&&n&&e.features.selectionHasExtend&&r[0].backward?(i.removeAllRanges(),i.addRange(a[0],!0)):i.setRanges(a),t.restored=!0}}function f(e,t){var r=n(t,e);r&&g(r)}function p(e){for(var t,n=e.rangeInfos,r=0,i=n.length;i>r;++r)t=n[r],t.collapsed?f(e.doc,t.markerId):(f(e.doc,t.startMarkerId),f(e.doc,t.endMarkerId))}var h=e.dom,g=h.removeNode,m=e.Selection.isDirectionBackward,v="\ufeff";e.util.extend(e,{saveRange:o,restoreRange:s,saveRanges:l,restoreRanges:c,saveSelection:u,restoreSelection:d,removeMarkerElement:f,removeMarkers:p})}),e},this)},function(e,t,n){!function(e,t){t["true"]=e,/*
	@license textAngular
	Author : Austin Anderson
	License : 2013 MIT
	Version 1.3.7
	
	See README.md or https://github.com/fraywing/textAngular/wiki for requirements and use.
	*/
angular.module("textAngularSetup",[]).value("taOptions",{toolbar:[["h1","h2","h3","h4","h5","h6","p","pre","quote"],["bold","italics","underline","strikeThrough","ul","ol","redo","undo","clear"],["justifyLeft","justifyCenter","justifyRight","indent","outdent"],["html","insertImage","insertLink","insertVideo","wordcount","charcount"]],classes:{focussed:"focussed",toolbar:"btn-toolbar",toolbarGroup:"btn-group",toolbarButton:"btn btn-default",toolbarButtonActive:"active",disabled:"disabled",textEditor:"form-control",htmlEditor:"form-control"},defaultTagAttributes:{a:{target:""}},setup:{textEditorSetup:function(){},htmlEditorSetup:function(){}},defaultFileDropHandler:function(e,t){var n=new FileReader;return"image"===e.type.substring(0,5)?(n.onload=function(){""!==n.result&&t("insertImage",n.result,!0)},n.readAsDataURL(e),!0):!1}}).value("taSelectableElements",["a","img"]).value("taCustomRenderers",[{selector:"img",customAttribute:"ta-insert-video",renderLogic:function(e){var t=angular.element("<iframe></iframe>"),n=e.prop("attributes");angular.forEach(n,function(e){t.attr(e.name,e.value)}),t.attr("src",t.attr("ta-insert-video")),e.replaceWith(t)}}]).value("taTranslations",{html:{tooltip:"Toggle html / Rich Text"},heading:{tooltip:"Heading "},p:{tooltip:"Paragraph"},pre:{tooltip:"Preformatted text"},ul:{tooltip:"Unordered List"},ol:{tooltip:"Ordered List"},quote:{tooltip:"Quote/unquote selection or paragraph"},undo:{tooltip:"Undo"},redo:{tooltip:"Redo"},bold:{tooltip:"Bold"},italic:{tooltip:"Italic"},underline:{tooltip:"Underline"},strikeThrough:{tooltip:"Strikethrough"},justifyLeft:{tooltip:"Align text left"},justifyRight:{tooltip:"Align text right"},justifyCenter:{tooltip:"Center"},indent:{tooltip:"Increase indent"},outdent:{tooltip:"Decrease indent"},clear:{tooltip:"Clear formatting"},insertImage:{dialogPrompt:"Please enter an image URL to insert",tooltip:"Insert image",hotkey:"the - possibly language dependent hotkey ... for some future implementation"},insertVideo:{tooltip:"Insert video",dialogPrompt:"Please enter a youtube URL to embed"},insertLink:{tooltip:"Insert / edit link",dialogPrompt:"Please enter a URL to insert"},editLink:{reLinkButton:{tooltip:"Relink"},unLinkButton:{tooltip:"Unlink"},targetToggle:{buttontext:"Open in New Window"}},wordcount:{tooltip:"Display words Count"},charcount:{tooltip:"Display characters Count"}}).run(["taRegisterTool","$window","taTranslations","taSelection",function(e,t,n,r){e("html",{iconclass:"fa fa-code",tooltiptext:n.html.tooltip,action:function(){this.$editor().switchView()},activeState:function(){return this.$editor().showHtml}});var i=function(e){return function(){return this.$editor().queryFormatBlockState(e)}},a=function(){return this.$editor().wrapSelection("formatBlock","<"+this.name.toUpperCase()+">")};angular.forEach(["h1","h2","h3","h4","h5","h6"],function(t){e(t.toLowerCase(),{buttontext:t.toUpperCase(),tooltiptext:n.heading.tooltip+t.charAt(1),action:a,activeState:i(t.toLowerCase())})}),e("p",{buttontext:"P",tooltiptext:n.p.tooltip,action:function(){return this.$editor().wrapSelection("formatBlock","<P>")},activeState:function(){return this.$editor().queryFormatBlockState("p")}}),e("pre",{buttontext:"pre",tooltiptext:n.pre.tooltip,action:function(){return this.$editor().wrapSelection("formatBlock","<PRE>")},activeState:function(){return this.$editor().queryFormatBlockState("pre")}}),e("ul",{iconclass:"fa fa-list-ul",tooltiptext:n.ul.tooltip,action:function(){return this.$editor().wrapSelection("insertUnorderedList",null)},activeState:function(){return this.$editor().queryCommandState("insertUnorderedList")}}),e("ol",{iconclass:"fa fa-list-ol",tooltiptext:n.ol.tooltip,action:function(){return this.$editor().wrapSelection("insertOrderedList",null)},activeState:function(){return this.$editor().queryCommandState("insertOrderedList")}}),e("quote",{iconclass:"fa fa-quote-right",tooltiptext:n.quote.tooltip,action:function(){return this.$editor().wrapSelection("formatBlock","<BLOCKQUOTE>")},activeState:function(){return this.$editor().queryFormatBlockState("blockquote")}}),e("undo",{iconclass:"fa fa-undo",tooltiptext:n.undo.tooltip,action:function(){return this.$editor().wrapSelection("undo",null)}}),e("redo",{iconclass:"fa fa-repeat",tooltiptext:n.redo.tooltip,action:function(){return this.$editor().wrapSelection("redo",null)}}),e("bold",{iconclass:"fa fa-bold",tooltiptext:n.bold.tooltip,action:function(){return this.$editor().wrapSelection("bold",null)},activeState:function(){return this.$editor().queryCommandState("bold")},commandKeyCode:98}),e("justifyLeft",{iconclass:"fa fa-align-left",tooltiptext:n.justifyLeft.tooltip,action:function(){return this.$editor().wrapSelection("justifyLeft",null)},activeState:function(e){var t=!1;return e&&(t="left"===e.css("text-align")||"left"===e.attr("align")||"right"!==e.css("text-align")&&"center"!==e.css("text-align")&&"justify"!==e.css("text-align")&&!this.$editor().queryCommandState("justifyRight")&&!this.$editor().queryCommandState("justifyCenter")&&!this.$editor().queryCommandState("justifyFull")),t=t||this.$editor().queryCommandState("justifyLeft")}}),e("justifyRight",{iconclass:"fa fa-align-right",tooltiptext:n.justifyRight.tooltip,action:function(){return this.$editor().wrapSelection("justifyRight",null)},activeState:function(e){var t=!1;return e&&(t="right"===e.css("text-align")),t=t||this.$editor().queryCommandState("justifyRight")}}),e("justifyCenter",{iconclass:"fa fa-align-center",tooltiptext:n.justifyCenter.tooltip,action:function(){return this.$editor().wrapSelection("justifyCenter",null)},activeState:function(e){var t=!1;return e&&(t="center"===e.css("text-align")),t=t||this.$editor().queryCommandState("justifyCenter")}}),e("indent",{iconclass:"fa fa-indent",tooltiptext:n.indent.tooltip,action:function(){return this.$editor().wrapSelection("indent",null)},activeState:function(){return this.$editor().queryFormatBlockState("blockquote")}}),e("outdent",{iconclass:"fa fa-outdent",tooltiptext:n.outdent.tooltip,action:function(){return this.$editor().wrapSelection("outdent",null)},activeState:function(){return!1}}),e("italics",{iconclass:"fa fa-italic",tooltiptext:n.italic.tooltip,action:function(){return this.$editor().wrapSelection("italic",null)},activeState:function(){return this.$editor().queryCommandState("italic")},commandKeyCode:105}),e("underline",{iconclass:"fa fa-underline",tooltiptext:n.underline.tooltip,action:function(){return this.$editor().wrapSelection("underline",null)},activeState:function(){return this.$editor().queryCommandState("underline")},commandKeyCode:117}),e("strikeThrough",{iconclass:"fa fa-strikethrough",tooltiptext:n.strikeThrough.tooltip,action:function(){return this.$editor().wrapSelection("strikeThrough",null)},activeState:function(){return document.queryCommandState("strikeThrough")}}),e("clear",{iconclass:"fa fa-ban",tooltiptext:n.clear.tooltip,action:function(e,t){var n;this.$editor().wrapSelection("removeFormat",null);var i=angular.element(r.getSelectionElement()),a=function(e){e=angular.element(e);var t=e;angular.forEach(e.children(),function(e){var n=angular.element("<p></p>");n.html(angular.element(e).html()),t.after(n),t=n}),e.remove()};if(angular.forEach(i.find("ul"),a),angular.forEach(i.find("ol"),a),"li"===i[0].tagName.toLowerCase()){var o=i[0].parentNode.childNodes,s=[],l=[],u=!1;for(n=0;n<o.length;n++)o[n]===i[0]?u=!0:u?l.push(o[n]):s.push(o[n]);var c=angular.element(i[0].parentNode),d=angular.element("<p></p>");if(d.html(angular.element(i[0]).html()),0===s.length||0===l.length)0===l.length?c.after(d):c[0].parentNode.insertBefore(d[0],c[0]),0===s.length&&0===l.length?c.remove():angular.element(i[0]).remove();else{var f=angular.element("<"+c[0].tagName+"></"+c[0].tagName+">"),p=angular.element("<"+c[0].tagName+"></"+c[0].tagName+">");for(n=0;n<s.length;n++)f.append(angular.element(s[n]));for(n=0;n<l.length;n++)p.append(angular.element(l[n]));c.after(p),c.after(d),c.after(f),c.remove()}r.setSelectionToElementEnd(d[0])}var h=this.$editor(),g=function(e){e=angular.element(e),e[0]!==h.displayElements.text[0]&&e.removeAttr("class"),angular.forEach(e.children(),g)};angular.forEach(i,g),"li"!==i[0].tagName.toLowerCase()&&"ol"!==i[0].tagName.toLowerCase()&&"ul"!==i[0].tagName.toLowerCase()&&this.$editor().wrapSelection("formatBlock","default"),t()}});var o=function(e,t,n){var r=function(){n.updateTaBindtaTextElement(),n.hidePopover()};e.preventDefault(),n.displayElements.popover.css("width","375px");var i=n.displayElements.popoverContainer;i.empty();var a=angular.element('<div class="btn-group" style="padding-right: 6px;">'),o=angular.element('<button type="button" class="btn btn-default btn-sm btn-small" unselectable="on" tabindex="-1">100% </button>');o.on("click",function(e){e.preventDefault(),t.css({width:"100%",height:""}),r()});var s=angular.element('<button type="button" class="btn btn-default btn-sm btn-small" unselectable="on" tabindex="-1">50% </button>');s.on("click",function(e){e.preventDefault(),t.css({width:"50%",height:""}),r()});var l=angular.element('<button type="button" class="btn btn-default btn-sm btn-small" unselectable="on" tabindex="-1">25% </button>');l.on("click",function(e){e.preventDefault(),t.css({width:"25%",height:""}),r()});var u=angular.element('<button type="button" class="btn btn-default btn-sm btn-small" unselectable="on" tabindex="-1">Reset</button>');u.on("click",function(e){e.preventDefault(),t.css({width:"",height:""}),r()}),a.append(o),a.append(s),a.append(l),a.append(u),i.append(a),a=angular.element('<div class="btn-group" style="padding-right: 6px;">');var c=angular.element('<button type="button" class="btn btn-default btn-sm btn-small" unselectable="on" tabindex="-1"><i class="fa fa-align-left"></i></button>');c.on("click",function(e){e.preventDefault(),t.css("float","left"),t.css("cssFloat","left"),t.css("styleFloat","left"),r()});var d=angular.element('<button type="button" class="btn btn-default btn-sm btn-small" unselectable="on" tabindex="-1"><i class="fa fa-align-right"></i></button>');d.on("click",function(e){e.preventDefault(),t.css("float","right"),t.css("cssFloat","right"),t.css("styleFloat","right"),r()});var f=angular.element('<button type="button" class="btn btn-default btn-sm btn-small" unselectable="on" tabindex="-1"><i class="fa fa-align-justify"></i></button>');f.on("click",function(e){e.preventDefault(),t.css("float",""),t.css("cssFloat",""),t.css("styleFloat",""),r()}),a.append(c),a.append(f),a.append(d),i.append(a),a=angular.element('<div class="btn-group">');var p=angular.element('<button type="button" class="btn btn-default btn-sm btn-small" unselectable="on" tabindex="-1"><i class="fa fa-trash-o"></i></button>');p.on("click",function(e){e.preventDefault(),t.remove(),r()}),a.append(p),i.append(a),n.showPopover(t),n.showResizeOverlay(t)};e("insertImage",{iconclass:"fa fa-picture-o",tooltiptext:n.insertImage.tooltip,action:function(){var e;return e=t.prompt(n.insertImage.dialogPrompt,"http://"),e&&""!==e&&"http://"!==e?this.$editor().wrapSelection("insertImage",e,!0):void 0},onElementSelect:{element:"img",action:o}}),e("insertVideo",{iconclass:"fa fa-youtube-play",tooltiptext:n.insertVideo.tooltip,action:function(){var e;if(e=t.prompt(n.insertVideo.dialogPrompt,"https://"),e&&""!==e&&"https://"!==e){var r=e.match(/(\?|&)v=[^&]*/);if(r&&r.length>0){var i="https://www.youtube.com/embed/"+r[0].substring(3),a='<img class="ta-insert-video" src="https://img.youtube.com/vi/'+r[0].substring(3)+'/hqdefault.jpg" ta-insert-video="'+i+'" contenteditable="false" allowfullscreen="true" frameborder="0" />';return this.$editor().wrapSelection("insertHTML",a,!0)}}},onElementSelect:{element:"img",onlyWithAttrs:["ta-insert-video"],action:o}}),e("insertLink",{tooltiptext:n.insertLink.tooltip,iconclass:"fa fa-link",action:function(){var e;return e=t.prompt(n.insertLink.dialogPrompt,"http://"),e&&""!==e&&"http://"!==e?this.$editor().wrapSelection("createLink",e,!0):void 0},activeState:function(e){return e?"A"===e[0].tagName:!1},onElementSelect:{element:"a",action:function(e,r,i){e.preventDefault(),i.displayElements.popover.css("width","436px");var a=i.displayElements.popoverContainer;a.empty(),a.css("line-height","28px");var o=angular.element('<a href="'+r.attr("href")+'" target="_blank">'+r.attr("href")+"</a>");o.css({display:"inline-block","max-width":"200px",overflow:"hidden","text-overflow":"ellipsis","white-space":"nowrap","vertical-align":"middle"}),a.append(o);var s=angular.element('<div class="btn-group pull-right">'),l=angular.element('<button type="button" class="btn btn-default btn-sm btn-small" tabindex="-1" unselectable="on" title="'+n.editLink.reLinkButton.tooltip+'"><i class="fa fa-edit icon-edit"></i></button>');l.on("click",function(e){e.preventDefault();var a=t.prompt(n.insertLink.dialogPrompt,r.attr("href"));a&&""!==a&&"http://"!==a&&(r.attr("href",a),i.updateTaBindtaTextElement()),i.hidePopover()}),s.append(l);var u=angular.element('<button type="button" class="btn btn-default btn-sm btn-small" tabindex="-1" unselectable="on" title="'+n.editLink.unLinkButton.tooltip+'"><i class="fa fa-unlink icon-unlink"></i></button>');u.on("click",function(e){e.preventDefault(),r.replaceWith(r.contents()),i.updateTaBindtaTextElement(),i.hidePopover()}),s.append(u);var c=angular.element('<button type="button" class="btn btn-default btn-sm btn-small" tabindex="-1" unselectable="on">'+n.editLink.targetToggle.buttontext+"</button>");"_blank"===r.attr("target")&&c.addClass("active"),c.on("click",function(e){e.preventDefault(),r.attr("target","_blank"===r.attr("target")?"":"_blank"),c.toggleClass("active"),i.updateTaBindtaTextElement()}),s.append(c),a.append(s),i.showPopover(r)}}}),e("wordcount",{display:'<div id="toolbarWC" style="display:block; min-width:100px;">Words: <span ng-bind="wordcount"></span></div>',disabled:!0,wordcount:0,activeState:function(){var e=this.$editor().displayElements.text,t=e[0].innerHTML||"",n=0;return""!==t.replace(/\s*<[^>]*?>\s*/g,"")&&(n=t.replace(/<\/?(b|i|em|strong|span|u|strikethrough|a|img|small|sub|sup|label)( [^>*?])?>/gi,"").replace(/(<[^>]*?>\s*<[^>]*?>)/gi," ").replace(/(<[^>]*?>)/gi,"").replace(/\s+/gi," ").match(/\S+/g).length),this.wordcount=n,this.$editor().wordcount=n,!1}}),e("charcount",{display:'<div id="toolbarCC" style="display:block; min-width:120px;">Characters: <span ng-bind="charcount"></span></div>',disabled:!0,charcount:0,activeState:function(){var e=this.$editor().displayElements.text,t=e[0].innerText||e[0].textContent,n=t.replace(/(\r\n|\n|\r)/gm,"").replace(/^\s+/g," ").replace(/\s+$/g," ").length;return this.charcount=n,this.$editor().charcount=n,!1}})}]),/*
	@license textAngular
	Author : Austin Anderson
	License : 2013 MIT
	Version 1.4.1
	
	See README.md or https://github.com/fraywing/textAngular/wiki for requirements and use.
	*/
function(){"use strict";function e(e){try{return 0!==angular.element(e).length}catch(t){return!1}}function t(t,n){if(!t||""===t||v.hasOwnProperty(t))throw"textAngular Error: A unique name is required for a Tool Definition";if(n.display&&(""===n.display||!e(n.display))||!n.display&&!n.buttontext&&!n.iconclass)throw'textAngular Error: Tool Definition for "'+t+'" does not have a valid display/iconclass/buttontext value';v[t]=n}var n={ie:function(){for(var e,t=3,n=document.createElement("div"),r=n.getElementsByTagName("i");n.innerHTML="<!--[if gt IE "+ ++t+"]><i></i><![endif]-->",r[0];);return t>4?t:e}(),webkit:/AppleWebKit\/([\d.]+)/i.test(navigator.userAgent)},r=!1;n.webkit&&(document.addEventListener("mousedown",function(e){var t=e||window.event,n=t.target;if(r&&null!==n){for(var i=!1,a=n;null!==a&&"html"!==a.tagName.toLowerCase()&&!i;)i="true"===a.contentEditable,a=a.parentNode;i||(document.getElementById("textAngular-editableFix-010203040506070809").setSelectionRange(0,0),n.focus(),n.select&&n.select())}r=!1},!1),angular.element(document).ready(function(){angular.element(document.body).append(angular.element('<input id="textAngular-editableFix-010203040506070809" class="ta-hidden-input" unselectable="on" tabIndex="-1">'))}));var i=/^(address|article|aside|audio|blockquote|canvas|dd|div|dl|fieldset|figcaption|figure|footer|form|h1|h2|h3|h4|h5|h6|header|hgroup|hr|noscript|ol|output|p|pre|section|table|tfoot|ul|video)$/i,a=/^(ul|li|ol)$/i,o=/^(address|article|aside|audio|blockquote|canvas|dd|div|dl|fieldset|figcaption|figure|footer|form|h1|h2|h3|h4|h5|h6|header|hgroup|hr|noscript|ol|output|p|pre|section|table|tfoot|ul|video|li)$/i;String.prototype.trim||(String.prototype.trim=function(){return this.replace(/^\s+|\s+$/g,"")});var s,l,u,c,d,f;if(n.ie>8||void 0===n.ie){for(var p=document.styleSheets,h=0;h<p.length;h++)if((0===p[h].media.length||p[h].media.mediaText.match(/(all|screen)/gi))&&p[h].href&&p[h].href.match(/textangular\.(min\.|)css/gi)){s=p[h];break}s||(s=function(){var e=document.createElement("style");return n.webkit&&e.appendChild(document.createTextNode("")),document.getElementsByTagName("head")[0].appendChild(e),e.sheet}()),l=function(e,t){return c(s,e,t)},c=function(e,t,n){var r,i;return e.cssRules?r=Math.max(e.cssRules.length-1,0):e.rules&&(r=Math.max(e.rules.length-1,0)),e.insertRule?e.insertRule(t+"{"+n+"}",r):e.addRule(t,n,r),s.rules?i=s.rules[r]:s.cssRules&&(i=s.cssRules[r]),i},f=function(e,t){var n,r;for(n=0;n<t.length;n++)if(t[n].cssText===e.cssText){r=n;break}return r},u=function(e){d(s,e)},d=function(e,t){var n=e.cssRules||e.rules;if(n){var r=f(t,n);e.removeRule?e.removeRule(r):e.deleteRule(r)}}}angular.module("textAngular.factories",[]).factory("taBrowserTag",[function(){return function(e){return e?""===e?void 0===n.ie?"div":n.ie<=8?"P":"p":n.ie<=8?e.toUpperCase():e:n.ie<=8?"P":"p"}}]).factory("taApplyCustomRenderers",["taCustomRenderers","taDOM",function(e,t){return function(n){var r=angular.element("<div></div>");return r[0].innerHTML=n,angular.forEach(e,function(e){var n=[];e.selector&&""!==e.selector?n=r.find(e.selector):e.customAttribute&&""!==e.customAttribute&&(n=t.getByAttribute(r,e.customAttribute)),angular.forEach(n,function(t){t=angular.element(t),e.selector&&""!==e.selector&&e.customAttribute&&""!==e.customAttribute?void 0!==t.attr(e.customAttribute)&&e.renderLogic(t):e.renderLogic(t)})}),r[0].innerHTML}}]).factory("taFixChrome",function(){var e=function(e){if(!e||!angular.isString(e)||e.length<=0)return e;for(var t,n,r,i=/<([^>\/]+?)style=("([^"]+)"|'([^']+)')([^>]*)>/gi,a="",o=0;t=i.exec(e);)n=t[3]||t[4],n&&n.match(/line-height: 1.[0-9]{3,12};|color: inherit; line-height: 1.1;/i)&&(n=n.replace(/( |)font-family: inherit;|( |)line-height: 1.[0-9]{3,12};|( |)color: inherit;/gi,""),r="<"+t[1].trim(),n.trim().length>0&&(r+=" style="+t[2].substring(0,1)+n+t[2].substring(0,1)),r+=t[5].trim()+">",a+=e.substring(o,t.index)+r,o=t.index+t[0].length);return a+=e.substring(o),o>0?a.replace(/<span\s?>(.*?)<\/span>(<br(\/|)>|)/gi,"$1"):e};return e}).factory("taSanitize",["$sanitize",function(e){function t(e,t){for(var n,r=0,i=0,a=/<[^>]*>/gi;n=a.exec(e);)if(i=n.index,"/"===n[0].substr(1,1)){if(0===r)break;r--}else r++;return t+e.substring(0,i)+angular.element(t)[0].outerHTML.substring(t.length)+e.substring(i)}function n(e){if(!e||!angular.isString(e)||e.length<=0)return e;for(var r,a,o,s,l,c,d=/<([^>\/]+?)style=("([^"]+)"|'([^']+)')([^>]*)>/gi,f="",p="",h=0;a=d.exec(e);){s=a[3]||a[4];var g=new RegExp(u,"i");if(angular.isString(s)&&g.test(s)){l="";for(var m=new RegExp(u,"ig");o=m.exec(s);)for(r=0;r<i.length;r++)o[2*r+2]&&(l+="<"+i[r].tag+">");c=n(e.substring(h,a.index)),p+=f.length>0?t(c,f):c,s=s.replace(new RegExp(u,"ig"),""),p+="<"+a[1].trim(),s.length>0&&(p+=' style="'+s+'"'),p+=a[5]+">",h=a.index+a[0].length,f=l}}return p+=f.length>0?t(e.substring(h),f):e.substring(h)}function r(e){if(!e||!angular.isString(e)||e.length<=0)return e;for(var t,n=/<([^>\/]+?)align=("([^"]+)"|'([^']+)')([^>]*)>/gi,r="",i=0;t=n.exec(e);){r+=e.substring(i,t.index),i=t.index+t[0].length;var a="<"+t[1]+t[5];/style=("([^"]+)"|'([^']+)')/gi.test(a)?a=a.replace(/style=("([^"]+)"|'([^']+)')/i,'style="$2$3 text-align:'+(t[3]||t[4])+';"'):a+=' style="text-align:'+(t[3]||t[4])+';"',a+=">",r+=a}return r+e.substring(i)}for(var i=[{property:"font-weight",values:["bold"],tag:"b"},{property:"font-style",values:["italic"],tag:"i"}],a=[],o=0;o<i.length;o++){for(var s="("+i[o].property+":\\s*(",l=0;l<i[o].values.length;l++)l>0&&(s+="|"),s+=i[o].values[l];s+=");)",a.push(s)}var u="("+a.join("|")+")";return function(t,i,a){if(!a)try{t=n(t)}catch(o){}t=r(t);var s;try{s=e(t),a&&(s=t)}catch(o){s=i||""}var l,u=s.match(/(<pre[^>]*>.*?<\/pre[^>]*>)/gi),c=s.replace(/(&#(9|10);)*/gi,""),d=/<pre[^>]*>.*?<\/pre[^>]*>/gi,f=0,p=0;for(s="";null!==(l=d.exec(c))&&f<u.length;)s+=c.substring(p,l.index)+u[f],p=l.index+l[0].length,f++;return s+c.substring(p)}}]).factory("taToolExecuteAction",["$q","$log",function(e,t){return function(n){void 0!==n&&(this.$editor=function(){return n});var r,i=e.defer(),a=i.promise,o=this.$editor();try{r=this.action(i,o.startAction()),a["finally"](function(){o.endAction.call(o)})}catch(s){t.error(s)}(r||void 0===r)&&i.resolve()}}]),angular.module("textAngular.DOM",["textAngular.factories"]).factory("taExecCommand",["taSelection","taBrowserTag","$document",function(e,t,n){var r=function(t,n){var r,i,a=t.find("li");for(i=a.length-1;i>=0;i--)r=angular.element("<"+n+">"+a[i].innerHTML+"</"+n+">"),t.after(r);t.remove(),e.setSelectionToElementEnd(r[0])},o=function(t){/(<br(|\/)>)$/i.test(t.innerHTML.trim())?e.setSelectionBeforeElement(angular.element(t).find("br")[0]):e.setSelectionToElementEnd(t)},s=function(e,t){var n=angular.element("<"+t+">"+e[0].innerHTML+"</"+t+">");e.after(n),e.remove(),o(n.find("li")[0])},l=function(e,n,r){for(var i="",a=0;a<e.length;a++)i+="<"+t("li")+">"+e[a].innerHTML+"</"+t("li")+">";var s=angular.element("<"+r+">"+i+"</"+r+">");n.after(s),n.remove(),o(s.find("li")[0])};return function(o,u){return o=t(o),function(c,d,f,p){var h,g,m,v,y,b,w,$=angular.element("<"+o+">");try{w=e.getSelectionElement()}catch(x){}var C=angular.element(w);if(void 0!==w){var E=w.tagName.toLowerCase();if("insertorderedlist"===c.toLowerCase()||"insertunorderedlist"===c.toLowerCase()){var _=t("insertorderedlist"===c.toLowerCase()?"ol":"ul");if(E===_)return r(C,o);if("li"===E&&C.parent()[0].tagName.toLowerCase()===_&&1===C.parent().children().length)return r(C.parent(),o);if("li"===E&&C.parent()[0].tagName.toLowerCase()!==_&&1===C.parent().children().length)return s(C.parent(),_);if(E.match(i)&&!C.hasClass("ta-bind")){if("ol"===E||"ul"===E)return s(C,_);var S=!1;return angular.forEach(C.children(),function(e){e.tagName.match(i)&&(S=!0)}),S?l(C.children(),C,_):l([angular.element("<div>"+w.innerHTML+"</div>")[0]],C,_)}if(E.match(i)){if(v=e.getOnlySelectedElements(),0===v.length)g=angular.element("<"+_+"><li>"+w.innerHTML+"</li></"+_+">"),C.html(""),C.append(g);else{if(1===v.length&&("ol"===v[0].tagName.toLowerCase()||"ul"===v[0].tagName.toLowerCase()))return v[0].tagName.toLowerCase()===_?r(angular.element(v[0]),o):s(angular.element(v[0]),_);m="";var k=[];for(h=0;h<v.length;h++)if(3!==v[h].nodeType){var T=angular.element(v[h]);if("li"===v[h].tagName.toLowerCase())continue;m+="ol"===v[h].tagName.toLowerCase()||"ul"===v[h].tagName.toLowerCase()?T[0].innerHTML:"span"!==v[h].tagName.toLowerCase()||"ol"!==v[h].childNodes[0].tagName.toLowerCase()&&"ul"!==v[h].childNodes[0].tagName.toLowerCase()?"<"+t("li")+">"+T[0].innerHTML+"</"+t("li")+">":T[0].childNodes[0].innerHTML,k.unshift(T)}g=angular.element("<"+_+">"+m+"</"+_+">"),k.pop().replaceWith(g),angular.forEach(k,function(e){e.remove()})}return void e.setSelectionToElementEnd(g[0])}}else{if("formatblock"===c.toLowerCase()){for(b=f.toLowerCase().replace(/[<>]/gi,""),"default"===b.trim()&&(b=o,f="<"+o+">"),g="li"===E?C.parent():C;!g[0].tagName||!g[0].tagName.match(i)&&!g.parent().attr("contenteditable");)g=g.parent(),E=(g[0].tagName||"").toLowerCase();if(E===b){v=g.children();var O=!1;for(h=0;h<v.length;h++)O=O||v[h].tagName.match(i);O?(g.after(v),y=g.next(),g.remove(),g=y):($.append(g[0].childNodes),g.after($),g.remove(),g=$)}else if(g.parent()[0].tagName.toLowerCase()!==b||g.parent().hasClass("ta-bind"))if(E.match(a))g.wrap(f);else{for(v=e.getOnlySelectedElements(),0===v.length&&(v=[g[0]]),h=0;h<v.length;h++)if(3===v[h].nodeType||!v[h].tagName.match(i))for(;3===v[h].nodeType||!v[h].tagName||!v[h].tagName.match(i);)v[h]=v[h].parentNode;if(angular.element(v[0]).hasClass("ta-bind"))g=angular.element(f),g[0].innerHTML=v[0].innerHTML,v[0].innerHTML=g[0].outerHTML;else if("blockquote"===b){for(m="",h=0;h<v.length;h++)m+=v[h].outerHTML;for(g=angular.element(f),g[0].innerHTML=m,v[0].parentNode.insertBefore(g[0],v[0]),h=v.length-1;h>=0;h--)v[h].parentNode&&v[h].parentNode.removeChild(v[h])}else for(h=0;h<v.length;h++)g=angular.element(f),g[0].innerHTML=v[h].innerHTML,v[h].parentNode.insertBefore(g[0],v[h]),v[h].parentNode.removeChild(v[h])}else{var A=g.parent(),R=A.contents();for(h=0;h<R.length;h++)A.parent().hasClass("ta-bind")&&3===R[h].nodeType&&($=angular.element("<"+o+">"),$[0].innerHTML=R[h].outerHTML,R[h]=$[0]),A.parent()[0].insertBefore(R[h],A[0]);A.remove()}return void e.setSelectionToElementEnd(g[0])}if("createlink"===c.toLowerCase()){var M='<a href="'+f+'" target="'+(p.a.target?p.a.target:"")+'">',N="</a>",D=e.getSelection();if(D.collapsed)e.insertHtml(M+f+N,u);else if(rangy.getSelection().getRangeAt(0).canSurroundContents()){var L=angular.element(M+N)[0];rangy.getSelection().getRangeAt(0).surroundContents(L)}return}if("inserthtml"===c.toLowerCase())return void e.insertHtml(f,u)}}try{n[0].execCommand(c,d,f)}catch(x){}}}}]).service("taSelection",["$window","$document","taDOM",function(e,t,n){var r=t[0],a=e.rangy,s=function(e,t){return e.tagName&&e.tagName.match(/^br$/i)&&0===t&&!e.previousSibling?{element:e.parentNode,offset:0}:{element:e,offset:t}},l={getSelection:function(){var e=a.getSelection().getRangeAt(0),t=e.commonAncestorContainer,n={start:s(e.startContainer,e.startOffset),end:s(e.endContainer,e.endOffset),collapsed:e.collapsed};return t=3===t.nodeType?t.parentNode:t,n.container=t.parentNode===n.start.element||t.parentNode===n.end.element?t.parentNode:t,n},getOnlySelectedElements:function(){var e=a.getSelection().getRangeAt(0),t=e.commonAncestorContainer;return t=3===t.nodeType?t.parentNode:t,e.getNodes([1],function(e){return e.parentNode===t})},getSelectionElement:function(){return l.getSelection().container},setSelection:function(e,t,n){var r=a.createRange();r.setStart(e,t),r.setEnd(e,n),a.getSelection().setSingleRange(r)},setSelectionBeforeElement:function(e){var t=a.createRange();t.selectNode(e),t.collapse(!0),a.getSelection().setSingleRange(t)},setSelectionAfterElement:function(e){var t=a.createRange();t.selectNode(e),t.collapse(!1),a.getSelection().setSingleRange(t)},setSelectionToElementStart:function(e){var t=a.createRange();t.selectNodeContents(e),t.collapse(!0),a.getSelection().setSingleRange(t)},setSelectionToElementEnd:function(e){var t=a.createRange();t.selectNodeContents(e),t.collapse(!1),e.childNodes&&e.childNodes[e.childNodes.length-1]&&"br"===e.childNodes[e.childNodes.length-1].nodeName&&(t.startOffset=t.endOffset=t.startOffset-1),a.getSelection().setSingleRange(t)},insertHtml:function(e,t){var s,u,c,d,f,p,h,g=angular.element("<div>"+e+"</div>"),m=a.getSelection().getRangeAt(0),v=r.createDocumentFragment(),y=g[0].childNodes,b=!0;if(y.length>0){for(d=[],c=0;c<y.length;c++)"p"===y[c].nodeName.toLowerCase()&&""===y[c].innerHTML.trim()||3===y[c].nodeType&&""===y[c].nodeValue.trim()||(b=b&&!i.test(y[c].nodeName),d.push(y[c]));for(var w=0;w<d.length;w++)p=v.appendChild(d[w]);!b&&m.collapsed&&/^(|<br(|\/)>)$/i.test(m.startContainer.innerHTML)&&m.selectNode(m.startContainer)}else b=!0,p=v=r.createTextNode(e);if(b)m.deleteContents();else if(m.collapsed&&m.startContainer!==t)if(m.startContainer.innerHTML&&m.startContainer.innerHTML.match(/^<[^>]*>$/i))s=m.startContainer,1===m.startOffset?(m.setStartAfter(s),m.setEndAfter(s)):(m.setStartBefore(s),m.setEndBefore(s));else{if(3===m.startContainer.nodeType&&m.startContainer.parentNode!==t)for(s=m.startContainer.parentNode,u=s.cloneNode(),n.splitNodes(s.childNodes,s,u,m.startContainer,m.startOffset);!o.test(s.nodeName);){angular.element(s).after(u),s=s.parentNode;var $=u;u=s.cloneNode(),n.splitNodes(s.childNodes,s,u,$)}else s=m.startContainer,u=s.cloneNode(),n.splitNodes(s.childNodes,s,u,void 0,void 0,m.startOffset);if(angular.element(s).after(u),m.setStartAfter(s),m.setEndAfter(s),/^(|<br(|\/)>)$/i.test(s.innerHTML.trim())&&(m.setStartBefore(s),m.setEndBefore(s),angular.element(s).remove()),/^(|<br(|\/)>)$/i.test(u.innerHTML.trim())&&angular.element(u).remove(),"li"===s.nodeName.toLowerCase()){for(h=r.createDocumentFragment(),f=0;f<v.childNodes.length;f++)g=angular.element("<li>"),n.transferChildNodes(v.childNodes[f],g[0]),n.transferNodeAttributes(v.childNodes[f],g[0]),h.appendChild(g[0]);v=h,p&&(p=v.childNodes[v.childNodes.length-1],p=p.childNodes[p.childNodes.length-1])}}else m.deleteContents();m.insertNode(v),p&&l.setSelectionToElementEnd(p)}};return l}]).service("taDOM",function(){var e={getByAttribute:function(t,n){var r=[],i=t.children();return i.length&&angular.forEach(i,function(t){r=r.concat(e.getByAttribute(angular.element(t),n))}),void 0!==t.attr(n)&&r.push(t),r},transferChildNodes:function(e,t){for(t.innerHTML="";e.childNodes.length>0;)t.appendChild(e.childNodes[0]);return t},splitNodes:function(t,n,r,i,a,o){if(!i&&isNaN(o))throw new Error("taDOM.splitNodes requires a splitNode or splitIndex");for(var s=document.createDocumentFragment(),l=document.createDocumentFragment(),u=0;t.length>0&&(isNaN(o)||o!==u)&&t[0]!==i;)s.appendChild(t[0]),u++;for(!isNaN(a)&&a>=0&&t[0]&&(s.appendChild(document.createTextNode(t[0].nodeValue.substring(0,a))),t[0].nodeValue=t[0].nodeValue.substring(a));t.length>0;)l.appendChild(t[0]);e.transferChildNodes(s,n),e.transferChildNodes(l,r)},transferNodeAttributes:function(e,t){for(var n=0;n<e.attributes.length;n++)t.setAttribute(e.attributes[n].name,e.attributes[n].value);return t}};return e}),angular.module("textAngular.validators",[]).directive("taMaxText",function(){return{restrict:"A",require:"ngModel",link:function(e,t,n,r){var i=parseInt(e.$eval(n.taMaxText));if(isNaN(i))throw"Max text must be an integer";n.$observe("taMaxText",function(e){if(i=parseInt(e),isNaN(i))throw"Max text must be an integer";r.$dirty&&r.$validate()}),r.$validators.taMaxText=function(e){var t=angular.element("<div/>");return t.html(e),t.text().length<=i}}}}).directive("taMinText",function(){return{restrict:"A",require:"ngModel",link:function(e,t,n,r){var i=parseInt(e.$eval(n.taMinText));if(isNaN(i))throw"Min text must be an integer";n.$observe("taMinText",function(e){if(i=parseInt(e),isNaN(i))throw"Min text must be an integer";r.$dirty&&r.$validate()}),r.$validators.taMinText=function(e){var t=angular.element("<div/>");return t.html(e),!t.text().length||t.text().length>=i}}}}),angular.module("textAngular.taBind",["textAngular.factories","textAngular.DOM"]).service("_taBlankTest",[function(){var e=/<(a|abbr|acronym|bdi|bdo|big|cite|code|del|dfn|img|ins|kbd|label|map|mark|q|ruby|rp|rt|s|samp|time|tt|var)[^>]*(>|$)/i;return function(t){return function(n){if(!n)return!0;var r,i=/(^[^<]|>)[^<]/i.exec(n);return i?r=i.index:(n=n.toString().replace(/="[^"]*"/i,"").replace(/="[^"]*"/i,"").replace(/="[^"]*"/i,"").replace(/="[^"]*"/i,""),r=n.indexOf(">")),n=n.trim().substring(r,r+100),/^[^<>]+$/i.test(n)?!1:0===n.length||n===t||/^>(\s|&nbsp;)*<\/[^>]+>$/gi.test(n)?!0:/>\s*[^\s<]/i.test(n)||e.test(n)?!1:!0}}}]).directive("taButton",[function(){return{link:function(e,t){t.attr("unselectable","on"),t.on("mousedown",function(e,t){return t&&angular.extend(e,t),e.preventDefault(),!1})}}}]).directive("taBind",["taSanitize","$timeout","$window","$document","taFixChrome","taBrowserTag","taSelection","taSelectableElements","taApplyCustomRenderers","taOptions","_taBlankTest","$parse","taDOM",function(e,t,a,s,c,d,f,p,h,m,v,y,b){return{priority:2,require:["ngModel","?ngModelOptions"],link:function(d,w,$,x){var C,E,_,S,k=x[0],T=x[1]||{},O=void 0!==w.attr("contenteditable")&&w.attr("contenteditable"),A=O||"textarea"===w[0].tagName.toLowerCase()||"input"===w[0].tagName.toLowerCase(),R=!1,M=!1,N=!1,D=$.taUnsafeSanitizer||m.disableSanitizer,L=/^(9|19|20|27|33|34|35|36|37|38|39|40|45|112|113|114|115|116|117|118|119|120|121|122|123|144|145)$/i,P=/^(8|13|32|46|59|61|107|109|186|187|188|189|190|191|192|219|220|221|222)$/i;void 0===$.taDefaultWrap&&($.taDefaultWrap="p"),""===$.taDefaultWrap?(_="",S=void 0===n.ie?"<div><br></div>":n.ie>=11?"<p><br></p>":n.ie<=8?"<P>&nbsp;</P>":"<p>&nbsp;</p>"):(_=void 0===n.ie||n.ie>=11?"<"+$.taDefaultWrap+"><br></"+$.taDefaultWrap+">":n.ie<=8?"<"+$.taDefaultWrap.toUpperCase()+"></"+$.taDefaultWrap.toUpperCase()+">":"<"+$.taDefaultWrap+"></"+$.taDefaultWrap+">",S=void 0===n.ie||n.ie>=11?"<"+$.taDefaultWrap+"><br></"+$.taDefaultWrap+">":n.ie<=8?"<"+$.taDefaultWrap.toUpperCase()+">&nbsp;</"+$.taDefaultWrap.toUpperCase()+">":"<"+$.taDefaultWrap+">&nbsp;</"+$.taDefaultWrap+">"),T.$options||(T.$options={});var I=v(S),F=function(e){if(I(e))return e;var t=angular.element("<div>"+e+"</div>");if(0===t.children().length)e="<"+$.taDefaultWrap+">"+e+"</"+$.taDefaultWrap+">";else{var n,r=t[0].childNodes,a=!1;for(n=0;n<r.length&&!(a=r[n].nodeName.toLowerCase().match(i));n++);if(a)for(e="",n=0;n<r.length;n++)if(r[n].nodeName.toLowerCase().match(i))e+=r[n].outerHTML;else{var o=r[n].outerHTML||r[n].nodeValue;e+=""!==o.trim()?"<"+$.taDefaultWrap+">"+o+"</"+$.taDefaultWrap+">":o}else e="<"+$.taDefaultWrap+">"+e+"</"+$.taDefaultWrap+">"}return e};$.taPaste&&(E=y($.taPaste)),w.addClass("ta-bind");var j;d["$undoManager"+($.id||"")]=k.$undoManager={_stack:[],_index:0,_max:1e3,push:function(e){return"undefined"==typeof e||null===e||"undefined"!=typeof this.current()&&null!==this.current()&&e===this.current()?e:(this._index<this._stack.length-1&&(this._stack=this._stack.slice(0,this._index+1)),this._stack.push(e),j&&t.cancel(j),this._stack.length>this._max&&this._stack.shift(),this._index=this._stack.length-1,e)},undo:function(){return this.setToIndex(this._index-1)},redo:function(){return this.setToIndex(this._index+1)},setToIndex:function(e){return 0>e||e>this._stack.length-1?void 0:(this._index=e,this.current())},current:function(){return this._stack[this._index]}};var H,B=d["$undoTaBind"+($.id||"")]=function(){if(!R&&O){var e=k.$undoManager.undo();"undefined"!=typeof e&&null!==e&&(ne(e),z(e,!1),H&&t.cancel(H),H=t(function(){w[0].focus(),f.setSelectionToElementEnd(w[0])},1))}},V=d["$redoTaBind"+($.id||"")]=function(){if(!R&&O){var e=k.$undoManager.redo();"undefined"!=typeof e&&null!==e&&(ne(e),z(e,!1),H&&t.cancel(H),H=t(function(){w[0].focus(),f.setSelectionToElementEnd(w[0])},1))}},U=function(){if(O)return w[0].innerHTML;if(A)return w.val();throw"textAngular Error: attempting to update non-editable taBind"},z=function(e,t,n){N=n||!1,("undefined"==typeof t||null===t)&&(t=!0&&O),("undefined"==typeof e||null===e)&&(e=U()),I(e)?(""!==k.$viewValue&&k.$setViewValue(""),t&&""!==k.$undoManager.current()&&k.$undoManager.push("")):(te(),k.$viewValue!==e&&(k.$setViewValue(e),t&&k.$undoManager.push(e))),k.$render()};d["updateTaBind"+($.id||"")]=function(){R||z(void 0,void 0,!0)};var q=function(t){return k.$oldViewValue=e(c(t),k.$oldViewValue,D)};if(w.attr("required")&&(k.$validators.required=function(e,t){return!I(e||t)}),k.$parsers.push(q),k.$parsers.unshift(F),k.$formatters.push(q),k.$formatters.unshift(F),k.$formatters.unshift(function(e){return k.$undoManager.push(e||"")}),A)if(d.events={},O){var W=!1,G=function(n){if(n&&n.trim().length){if(n.match(/class=["']*Mso(Normal|List)/i)){var r=n.match(/<!--StartFragment-->([\s\S]*?)<!--EndFragment-->/i);r=r?r[1]:n,r=r.replace(/<o:p>[\s\S]*?<\/o:p>/gi,"").replace(/class=(["']|)MsoNormal(["']|)/gi,"");var i=angular.element("<div>"+r+"</div>"),a=angular.element("<div></div>"),o={element:null,lastIndent:[],lastLi:null,isUl:!1};o.lastIndent.peek=function(){var e=this.length;return e>0?this[e-1]:void 0};for(var s=function(e){o.isUl=e,o.element=angular.element(e?"<ul>":"<ol>"),o.lastIndent=[],o.lastIndent.peek=function(){var e=this.length;return e>0?this[e-1]:void 0},o.lastLevelMatch=null},l=0;l<=i[0].childNodes.length;l++)if(i[0].childNodes[l]&&"#text"!==i[0].childNodes[l].nodeName&&"p"===i[0].childNodes[l].tagName.toLowerCase()){var u=angular.element(i[0].childNodes[l]),c=(u.attr("class")||"").match(/MsoList(Bullet|Number|Paragraph)(CxSp(First|Middle|Last)|)/i);if(c){if(u[0].childNodes.length<2||u[0].childNodes[1].childNodes.length<1)continue;var p="bullet"===c[1].toLowerCase()||"number"!==c[1].toLowerCase()&&!(/^[^0-9a-z<]*[0-9a-z]+[^0-9a-z<>]</i.test(u[0].childNodes[1].innerHTML)||/^[^0-9a-z<]*[0-9a-z]+[^0-9a-z<>]</i.test(u[0].childNodes[1].childNodes[0].innerHTML)),h=(u.attr("style")||"").match(/margin-left:([\-\.0-9]*)/i),g=parseFloat(h?h[1]:0),m=(u.attr("style")||"").match(/mso-list:l([0-9]+) level([0-9]+) lfo[0-9+]($|;)/i);if(m&&m[2]&&(g=parseInt(m[2])),m&&(!o.lastLevelMatch||m[1]!==o.lastLevelMatch[1])||!c[3]||"first"===c[3].toLowerCase()||null===o.lastIndent.peek()||o.isUl!==p&&o.lastIndent.peek()===g)s(p),a.append(o.element);else if(null!=o.lastIndent.peek()&&o.lastIndent.peek()<g)o.element=angular.element(p?"<ul>":"<ol>"),o.lastLi.append(o.element);else if(null!=o.lastIndent.peek()&&o.lastIndent.peek()>g){for(;null!=o.lastIndent.peek()&&o.lastIndent.peek()>g;)if("li"!==o.element.parent()[0].tagName.toLowerCase()){if(!/[uo]l/i.test(o.element.parent()[0].tagName.toLowerCase()))break;o.element=o.element.parent(),o.lastIndent.pop()}else o.element=o.element.parent();o.isUl="ul"===o.element[0].tagName.toLowerCase(),p!==o.isUl&&(s(p),a.append(o.element))}o.lastLevelMatch=m,g!==o.lastIndent.peek()&&o.lastIndent.push(g),o.lastLi=angular.element("<li>"),o.element.append(o.lastLi),o.lastLi.html(u.html().replace(/<!(--|)\[if !supportLists\](--|)>[\s\S]*?<!(--|)\[endif\](--|)>/gi,"")),u.remove()}else s(!1),a.append(u)}var v=function(e){e=angular.element(e);for(var t=e[0].childNodes.length-1;t>=0;t--)e.after(e[0].childNodes[t]);e.remove()};angular.forEach(a.find("span"),function(e){e.removeAttribute("lang"),e.attributes.length<=0&&v(e)}),angular.forEach(a.find("font"),v),n=a.html()}else{if(n=n.replace(/<(|\/)meta[^>]*?>/gi,""),n.match(/<[^>]*?(ta-bind)[^>]*?>/)){if(n.match(/<[^>]*?(text-angular)[^>]*?>/)){var y=angular.element("<div>"+n+"</div>");y.find("textarea").remove();for(var $=b.getByAttribute(y,"ta-bind"),x=0;x<$.length;x++){for(var C=$[x][0].parentNode.parentNode,_=0;_<$[x][0].childNodes.length;_++)C.parentNode.insertBefore($[x][0].childNodes[_],C);C.parentNode.removeChild(C)}n=y.html().replace('<br class="Apple-interchange-newline">',"")}}else n.match(/^<span/)&&(n=n.replace(/<(|\/)span[^>]*?>/gi,""));n=n.replace(/<br class="Apple-interchange-newline"[^>]*?>/gi,"").replace(/<span class="Apple-converted-space">( |&nbsp;)<\/span>/gi,"&nbsp;")}/<li(\s.*)?>/i.test(n)&&/(<ul(\s.*)?>|<ol(\s.*)?>).*<li(\s.*)?>/i.test(n)===!1&&(n=n.replace(/<li(\s.*)?>.*<\/li(\s.*)?>/i,"<ul>$&</ul>")),E&&(n=E(d,{$html:n})||n),n=e(n,"",D),f.insertHtml(n,w[0]),t(function(){k.$setViewValue(U()),W=!1,w.removeClass("processing-paste")},0)}else W=!1,w.removeClass("processing-paste")};w.on("paste",d.events.paste=function(e,n){if(n&&angular.extend(e,n),R||W)return e.stopPropagation(),e.preventDefault(),!1;W=!0,w.addClass("processing-paste");var r,i=(e.originalEvent||e).clipboardData;if(i&&i.getData&&i.types.length>0){for(var o="",l=0;l<i.types.length;l++)o+=" "+i.types[l];return/text\/html/i.test(o)?r=i.getData("text/html"):/text\/plain/i.test(o)&&(r=i.getData("text/plain")),G(r),e.stopPropagation(),e.preventDefault(),!1}var u=a.rangy.saveSelection(),c=angular.element('<div class="ta-hidden-input" contenteditable="true"></div>');s.find("body").append(c),c[0].focus(),t(function(){a.rangy.restoreSelection(u),G(c[0].innerHTML),w[0].focus(),c.remove()},0)}),w.on("cut",d.events.cut=function(e){R?e.preventDefault():t(function(){k.$setViewValue(U())},0)}),w.on("keydown",d.events.keydown=function(e,t){if(t&&angular.extend(e,t),!R)if(e.altKey||!e.metaKey&&!e.ctrlKey){if(13===e.keyCode&&!e.shiftKey){var n,r=f.getSelectionElement();if(!r.tagName.match(o))return;var i=angular.element(_);if(/^<br(|\/)>$/i.test(r.innerHTML.trim())&&"blockquote"===r.parentNode.tagName.toLowerCase()&&!r.nextSibling){n=angular.element(r);var a=n.parent();a.after(i),n.remove(),0===a.children().length&&a.remove(),f.setSelectionToElementStart(i[0]),e.preventDefault()}else/^<[^>]+><br(|\/)><\/[^>]+>$/i.test(r.innerHTML.trim())&&"blockquote"===r.tagName.toLowerCase()&&(n=angular.element(r),n.after(i),n.remove(),f.setSelectionToElementStart(i[0]),e.preventDefault())}}else 90!==e.keyCode||e.shiftKey?(90===e.keyCode&&e.shiftKey||89===e.keyCode&&!e.shiftKey)&&(V(),e.preventDefault()):(B(),e.preventDefault())});var K;if(w.on("keyup",d.events.keyup=function(e,n){if(n&&angular.extend(e,n),9===e.keyCode){var r=f.getSelection();return void(r.start.element===w[0]&&w.children().length&&f.setSelectionToElementStart(w.children()[0]))}if(j&&t.cancel(j),!R&&!L.test(e.keyCode)){if(""!==_&&13===e.keyCode&&!e.shiftKey){for(var i=f.getSelectionElement();!i.tagName.match(o)&&i!==w[0];)i=i.parentNode;if(i.tagName.toLowerCase()!==$.taDefaultWrap&&"li"!==i.tagName.toLowerCase()&&(""===i.innerHTML.trim()||"<br>"===i.innerHTML.trim())){var s=angular.element(_);angular.element(i).replaceWith(s),f.setSelectionToElementStart(s[0])}}var l=U();if(""!==_&&""===l.trim())ne(_),f.setSelectionToElementStart(w.children()[0]);else if("<"!==l.substring(0,1)&&""!==$.taDefaultWrap){var u=a.rangy.saveSelection();l=U(),l="<"+$.taDefaultWrap+">"+l+"</"+$.taDefaultWrap+">",ne(l),a.rangy.restoreSelection(u)}var c=C!==e.keyCode&&P.test(e.keyCode);K&&t.cancel(K),K=t(function(){z(l,c,!0)},T.$options.debounce||400),c||(j=t(function(){k.$undoManager.push(l)},250)),C=e.keyCode}}),w.on("blur",d.events.blur=function(){M=!1,R?(N=!0,k.$render()):z(void 0,void 0,!0)}),$.placeholder&&(n.ie>8||void 0===n.ie)){var Y;if(!$.id)throw"textAngular Error: An unique ID is required for placeholders to work";Y=l("#"+$.id+".placeholder-text:before",'content: "'+$.placeholder+'"'),d.$on("$destroy",function(){u(Y)})}w.on("focus",d.events.focus=function(){M=!0,w.removeClass("placeholder-text")}),w.on("mouseup",d.events.mouseup=function(){var e=f.getSelection();e.start.element===w[0]&&w.children().length&&f.setSelectionToElementStart(w.children()[0])}),w.on("mousedown",d.events.mousedown=function(e,t){t&&angular.extend(e,t),e.stopPropagation()})}else{w.on("change blur",d.events.change=d.events.blur=function(){R||k.$setViewValue(U())}),w.on("keydown",d.events.keydown=function(e,t){if(t&&angular.extend(e,t),9===e.keyCode){var n=this.selectionStart,r=this.selectionEnd,i=w.val();if(e.shiftKey){var a=i.lastIndexOf("\n",n),o=i.lastIndexOf("	",n);-1!==o&&o>=a&&(w.val(i.substring(0,o)+i.substring(o+1)),this.selectionStart=this.selectionEnd=n-1)}else w.val(i.substring(0,n)+"	"+i.substring(r)),this.selectionStart=this.selectionEnd=n+1;e.preventDefault()}});var X=function(e,t){for(var n="",r=0;t>r;r++)n+=e;return n},Q=function(e,t){var n="",r=e.childNodes;t++,n+=X("	",t-1)+e.outerHTML.substring(0,e.outerHTML.indexOf("<li"));for(var i=0;i<r.length;i++)r[i].outerHTML&&(n+="ul"===r[i].nodeName.toLowerCase()||"ol"===r[i].nodeName.toLowerCase()?"\n"+Q(r[i],t):"\n"+X("	",t)+r[i].outerHTML);return n+="\n"+X("	",t-1)+e.outerHTML.substring(e.outerHTML.lastIndexOf("<"))};k.$formatters.unshift(function(e){var t=angular.element("<div>"+e+"</div>")[0].childNodes;if(t.length>0){e="";for(var n=0;n<t.length;n++)t[n].outerHTML&&(e.length>0&&(e+="\n"),e+="ul"===t[n].nodeName.toLowerCase()||"ol"===t[n].nodeName.toLowerCase()?""+Q(t[n],0):""+t[n].outerHTML)}return e})}var J,Z=function(e){return d.$emit("ta-element-select",this),e.preventDefault(),!1},ee=function(e,n){if(n&&angular.extend(e,n),!g&&!R){g=!0;var r;r=e.originalEvent?e.originalEvent.dataTransfer:e.dataTransfer,d.$emit("ta-drop-event",this,e,r),t(function(){g=!1,z(void 0,void 0,!0)},100)}},te=d["reApplyOnSelectorHandlers"+($.id||"")]=function(){R||angular.forEach(p,function(e){w.find(e).off("click",Z).on("click",Z)})},ne=function(e){w[0].innerHTML=e},re=!1;k.$render=function(){if(!re){re=!0;var e=k.$viewValue||"";N||(O&&M&&(w.removeClass("placeholder-text"),J&&t.cancel(J),J=t(function(){M||(w[0].focus(),f.setSelectionToElementEnd(w.children()[w.children().length-1])),J=void 0},1)),O?(ne($.placeholder?""===e?_:e:""===e?_:e),R?w.off("drop",ee):(te(),w.on("drop",ee))):"textarea"!==w[0].tagName.toLowerCase()&&"input"!==w[0].tagName.toLowerCase()?ne(h(e)):w.val(e)),O&&$.placeholder&&(""===e?M?w.removeClass("placeholder-text"):w.addClass("placeholder-text"):w.removeClass("placeholder-text")),re=N=!1}},$.taReadonly&&(R=d.$eval($.taReadonly),R?(w.addClass("ta-readonly"),("textarea"===w[0].tagName.toLowerCase()||"input"===w[0].tagName.toLowerCase())&&w.attr("disabled","disabled"),void 0!==w.attr("contenteditable")&&w.attr("contenteditable")&&w.removeAttr("contenteditable")):(w.removeClass("ta-readonly"),"textarea"===w[0].tagName.toLowerCase()||"input"===w[0].tagName.toLowerCase()?w.removeAttr("disabled"):O&&w.attr("contenteditable","true")),d.$watch($.taReadonly,function(e,t){t!==e&&(e?(w.addClass("ta-readonly"),("textarea"===w[0].tagName.toLowerCase()||"input"===w[0].tagName.toLowerCase())&&w.attr("disabled","disabled"),void 0!==w.attr("contenteditable")&&w.attr("contenteditable")&&w.removeAttr("contenteditable"),angular.forEach(p,function(e){w.find(e).on("click",Z)}),w.off("drop",ee)):(w.removeClass("ta-readonly"),"textarea"===w[0].tagName.toLowerCase()||"input"===w[0].tagName.toLowerCase()?w.removeAttr("disabled"):O&&w.attr("contenteditable","true"),angular.forEach(p,function(e){w.find(e).off("click",Z)}),w.on("drop",ee)),R=e)})),O&&!R&&(angular.forEach(p,function(e){w.find(e).on("click",Z)}),w.on("drop",ee),w.on("blur",function(){n.webkit&&(r=!0)}))}}}]);var g=!1,m=angular.module("textAngular",["ngSanitize","textAngularSetup","textAngular.factories","textAngular.DOM","textAngular.validators","textAngular.taBind"]),v={};m.constant("taRegisterTool",t),m.value("taTools",v),m.config([function(){angular.forEach(v,function(e,t){delete v[t]})}]),m.run([function(){if(!window.rangy)throw"rangy-core.js and rangy-selectionsaverestore.js are required for textAngular to work correctly, rangy-core is not yet loaded.";if(window.rangy.init(),!window.rangy.saveSelection)throw"rangy-selectionsaverestore.js is required for textAngular to work correctly."}]),m.directive("textAngular",["$compile","$timeout","taOptions","taSelection","taExecCommand","textAngularManager","$window","$document","$animate","$log","$q","$parse",function(e,t,n,r,i,a,o,s,l,u,c,d){return{require:"?ngModel",scope:{},restrict:"EA",
priority:2,link:function(f,p,h,g){var m,v,y,b,w,$,x,C,E,_,S,k=h.serial?h.serial:Math.floor(1e16*Math.random());f._name=h.name?h.name:"textAngularEditor"+k;var T=function(e,n,r){t(function(){var t=function(){e.off(n,t),r.apply(this,arguments)};e.on(n,t)},100)};if(E=i(h.taDefaultWrap),angular.extend(f,angular.copy(n),{wrapSelection:function(e,t,n){"undo"===e.toLowerCase()?f["$undoTaBindtaTextElement"+k]():"redo"===e.toLowerCase()?f["$redoTaBindtaTextElement"+k]():(E(e,!1,t,f.defaultTagAttributes),n&&f["reApplyOnSelectorHandlerstaTextElement"+k](),f.displayElements.text[0].focus())},showHtml:f.$eval(h.taShowHtml)||!1}),h.taFocussedClass&&(f.classes.focussed=h.taFocussedClass),h.taTextEditorClass&&(f.classes.textEditor=h.taTextEditorClass),h.taHtmlEditorClass&&(f.classes.htmlEditor=h.taHtmlEditorClass),h.taDefaultTagAttributes)try{angular.extend(f.defaultTagAttributes,angular.fromJson(h.taDefaultTagAttributes))}catch(O){u.error(O)}h.taTextEditorSetup&&(f.setup.textEditorSetup=f.$parent.$eval(h.taTextEditorSetup)),h.taHtmlEditorSetup&&(f.setup.htmlEditorSetup=f.$parent.$eval(h.taHtmlEditorSetup)),f.fileDropHandler=h.taFileDrop?f.$parent.$eval(h.taFileDrop):f.defaultFileDropHandler,x=p[0].innerHTML,p[0].innerHTML="",f.displayElements={forminput:angular.element("<input type='hidden' tabindex='-1' style='display: none;'>"),html:angular.element("<textarea></textarea>"),text:angular.element("<div></div>"),scrollWindow:angular.element("<div class='ta-scroll-window'></div>"),popover:angular.element('<div class="popover fade bottom" style="max-width: none; width: 305px;"></div>'),popoverArrow:angular.element('<div class="arrow"></div>'),popoverContainer:angular.element('<div class="popover-content"></div>'),resize:{overlay:angular.element('<div class="ta-resizer-handle-overlay"></div>'),background:angular.element('<div class="ta-resizer-handle-background"></div>'),anchors:[angular.element('<div class="ta-resizer-handle-corner ta-resizer-handle-corner-tl"></div>'),angular.element('<div class="ta-resizer-handle-corner ta-resizer-handle-corner-tr"></div>'),angular.element('<div class="ta-resizer-handle-corner ta-resizer-handle-corner-bl"></div>'),angular.element('<div class="ta-resizer-handle-corner ta-resizer-handle-corner-br"></div>')],info:angular.element('<div class="ta-resizer-handle-info"></div>')}},f.displayElements.popover.append(f.displayElements.popoverArrow),f.displayElements.popover.append(f.displayElements.popoverContainer),f.displayElements.scrollWindow.append(f.displayElements.popover),f.displayElements.popover.on("mousedown",function(e,t){return t&&angular.extend(e,t),e.preventDefault(),!1}),f.showPopover=function(e){f.displayElements.popover.css("display","block"),f.reflowPopover(e),l.addClass(f.displayElements.popover,"in"),T(s.find("body"),"click keyup",function(){f.hidePopover()})},f.reflowPopover=function(e){f.displayElements.text[0].offsetHeight-51>e[0].offsetTop?(f.displayElements.popover.css("top",e[0].offsetTop+e[0].offsetHeight+f.displayElements.scrollWindow[0].scrollTop+"px"),f.displayElements.popover.removeClass("top").addClass("bottom")):(f.displayElements.popover.css("top",e[0].offsetTop-54+f.displayElements.scrollWindow[0].scrollTop+"px"),f.displayElements.popover.removeClass("bottom").addClass("top"));var t=f.displayElements.text[0].offsetWidth-f.displayElements.popover[0].offsetWidth,n=e[0].offsetLeft+e[0].offsetWidth/2-f.displayElements.popover[0].offsetWidth/2;f.displayElements.popover.css("left",Math.max(0,Math.min(t,n))+"px"),f.displayElements.popoverArrow.css("margin-left",Math.min(n,Math.max(0,n-t))-11+"px")},f.hidePopover=function(){var e=function(){f.displayElements.popover.css("display",""),f.displayElements.popoverContainer.attr("style",""),f.displayElements.popoverContainer.attr("class","popover-content")};c.when(l.removeClass(f.displayElements.popover,"in",e)).then(e)},f.displayElements.resize.overlay.append(f.displayElements.resize.background),angular.forEach(f.displayElements.resize.anchors,function(e){f.displayElements.resize.overlay.append(e)}),f.displayElements.resize.overlay.append(f.displayElements.resize.info),f.displayElements.scrollWindow.append(f.displayElements.resize.overlay),f.reflowResizeOverlay=function(e){e=angular.element(e)[0],f.displayElements.resize.overlay.css({display:"block",left:e.offsetLeft-5+"px",top:e.offsetTop-5+"px",width:e.offsetWidth+10+"px",height:e.offsetHeight+10+"px"}),f.displayElements.resize.info.text(e.offsetWidth+" x "+e.offsetHeight)},f.showResizeOverlay=function(e){var t=s.find("body");_=function(n){var r={width:parseInt(e.attr("width")),height:parseInt(e.attr("height")),x:n.clientX,y:n.clientY};(void 0===r.width||isNaN(r.width))&&(r.width=e[0].offsetWidth),(void 0===r.height||isNaN(r.height))&&(r.height=e[0].offsetHeight),f.hidePopover();var i=r.height/r.width,a=function(t){var n={x:Math.max(0,r.width+(t.clientX-r.x)),y:Math.max(0,r.height+(t.clientY-r.y))};if(t.shiftKey){var a=n.y/n.x;n.x=i>a?n.x:n.y/i,n.y=i>a?n.x*i:n.y}var o=angular.element(e);o.attr("height",Math.max(0,n.y)),o.attr("width",Math.max(0,n.x)),f.reflowResizeOverlay(e)};t.on("mousemove",a),T(t,"mouseup",function(n){n.preventDefault(),n.stopPropagation(),t.off("mousemove",a),f.showPopover(e)}),n.stopPropagation(),n.preventDefault()},f.displayElements.resize.anchors[3].on("mousedown",_),f.reflowResizeOverlay(e),T(t,"click",function(){f.hideResizeOverlay()})},f.hideResizeOverlay=function(){f.displayElements.resize.anchors[3].off("mousedown",_),f.displayElements.resize.overlay.css("display","")},f.setup.htmlEditorSetup(f.displayElements.html),f.setup.textEditorSetup(f.displayElements.text),f.displayElements.html.attr({id:"taHtmlElement"+k,"ng-show":"showHtml","ta-bind":"ta-bind","ng-model":"html","ng-model-options":p.attr("ng-model-options")}),f.displayElements.text.attr({id:"taTextElement"+k,contentEditable:"true","ta-bind":"ta-bind","ng-model":"html","ng-model-options":p.attr("ng-model-options")}),f.displayElements.scrollWindow.attr({"ng-hide":"showHtml"}),h.taDefaultWrap&&f.displayElements.text.attr("ta-default-wrap",h.taDefaultWrap),h.taUnsafeSanitizer&&(f.displayElements.text.attr("ta-unsafe-sanitizer",h.taUnsafeSanitizer),f.displayElements.html.attr("ta-unsafe-sanitizer",h.taUnsafeSanitizer)),f.displayElements.scrollWindow.append(f.displayElements.text),p.append(f.displayElements.scrollWindow),p.append(f.displayElements.html),f.displayElements.forminput.attr("name",f._name),p.append(f.displayElements.forminput),h.tabindex&&(p.removeAttr("tabindex"),f.displayElements.text.attr("tabindex",h.tabindex),f.displayElements.html.attr("tabindex",h.tabindex)),h.placeholder&&(f.displayElements.text.attr("placeholder",h.placeholder),f.displayElements.html.attr("placeholder",h.placeholder)),h.taDisabled&&(f.displayElements.text.attr("ta-readonly","disabled"),f.displayElements.html.attr("ta-readonly","disabled"),f.disabled=f.$parent.$eval(h.taDisabled),f.$parent.$watch(h.taDisabled,function(e){f.disabled=e,f.disabled?p.addClass(f.classes.disabled):p.removeClass(f.classes.disabled)})),h.taPaste&&(f._pasteHandler=function(e){return d(h.taPaste)(f.$parent,{$html:e})},f.displayElements.text.attr("ta-paste","_pasteHandler($html)")),e(f.displayElements.scrollWindow)(f),e(f.displayElements.html)(f),f.updateTaBindtaTextElement=f["updateTaBindtaTextElement"+k],f.updateTaBindtaHtmlElement=f["updateTaBindtaHtmlElement"+k],p.addClass("ta-root"),f.displayElements.scrollWindow.addClass("ta-text ta-editor "+f.classes.textEditor),f.displayElements.html.addClass("ta-html ta-editor "+f.classes.htmlEditor),f._actionRunning=!1;var A=!1;if(f.startAction=function(){return f._actionRunning=!0,A=o.rangy.saveSelection(),function(){A&&o.rangy.restoreSelection(A)}},f.endAction=function(){f._actionRunning=!1,A&&(f.showHtml?f.displayElements.html[0].focus():f.displayElements.text[0].focus(),o.rangy.restoreSelection(A),o.rangy.removeMarkers(A)),A=!1,f.updateSelectedStyles(),f.showHtml||f["updateTaBindtaTextElement"+k]()},w=function(){f.focussed=!0,p.addClass(f.classes.focussed),C.focus(),p.triggerHandler("focus")},f.displayElements.html.on("focus",w),f.displayElements.text.on("focus",w),$=function(e){return f._actionRunning||s[0].activeElement===f.displayElements.html[0]||s[0].activeElement===f.displayElements.text[0]||(p.removeClass(f.classes.focussed),C.unfocus(),t(function(){f._bUpdateSelectedStyles=!1,p.triggerHandler("blur"),f.focussed=!1},0)),e.preventDefault(),!1},f.displayElements.html.on("blur",$),f.displayElements.text.on("blur",$),f.displayElements.text.on("paste",function(e){p.triggerHandler("paste",e)}),f.queryFormatBlockState=function(e){return!f.showHtml&&e.toLowerCase()===s[0].queryCommandValue("formatBlock").toLowerCase()},f.queryCommandState=function(e){return f.showHtml?"":s[0].queryCommandState(e)},f.switchView=function(){f.showHtml=!f.showHtml,l.enabled(!1,f.displayElements.html),l.enabled(!1,f.displayElements.text),f.showHtml?t(function(){return l.enabled(!0,f.displayElements.html),l.enabled(!0,f.displayElements.text),f.displayElements.html[0].focus()},100):t(function(){return l.enabled(!0,f.displayElements.html),l.enabled(!0,f.displayElements.text),f.displayElements.text[0].focus()},100)},h.ngModel){var R=!0;g.$render=function(){if(R){R=!1;var e=f.$parent.$eval(h.ngModel);void 0!==e&&null!==e||!x||""===x||g.$setViewValue(x)}f.displayElements.forminput.val(g.$viewValue),f.html=g.$viewValue||""},p.attr("required")&&(g.$validators.required=function(e,t){var n=e||t;return!(!n||""===n.trim())})}else f.displayElements.forminput.val(x),f.html=x;if(f.$watch("html",function(e,t){e!==t&&(h.ngModel&&g.$viewValue!==e&&g.$setViewValue(e),f.displayElements.forminput.val(e))}),h.taTargetToolbars)C=a.registerEditor(f._name,f,h.taTargetToolbars.split(","));else{var M=angular.element('<div text-angular-toolbar name="textAngularToolbar'+k+'">');h.taToolbar&&M.attr("ta-toolbar",h.taToolbar),h.taToolbarClass&&M.attr("ta-toolbar-class",h.taToolbarClass),h.taToolbarGroupClass&&M.attr("ta-toolbar-group-class",h.taToolbarGroupClass),h.taToolbarButtonClass&&M.attr("ta-toolbar-button-class",h.taToolbarButtonClass),h.taToolbarActiveButtonClass&&M.attr("ta-toolbar-active-button-class",h.taToolbarActiveButtonClass),h.taFocussedClass&&M.attr("ta-focussed-class",h.taFocussedClass),p.prepend(M),e(M)(f.$parent),C=a.registerEditor(f._name,f,["textAngularToolbar"+k])}f.$on("$destroy",function(){a.unregisterEditor(f._name)}),f.$on("ta-element-select",function(e,t){C.triggerElementSelect(e,t)&&f["reApplyOnSelectorHandlerstaTextElement"+k]()}),f.$on("ta-drop-event",function(e,n,r,i){f.displayElements.text[0].focus(),i&&i.files&&i.files.length>0?(angular.forEach(i.files,function(e){try{c.when(f.fileDropHandler(e,f.wrapSelection)||f.fileDropHandler!==f.defaultFileDropHandler&&c.when(f.defaultFileDropHandler(e,f.wrapSelection))).then(function(){f["updateTaBindtaTextElement"+k]()})}catch(t){u.error(t)}}),r.preventDefault(),r.stopPropagation()):t(function(){f["updateTaBindtaTextElement"+k]()},0)}),f._bUpdateSelectedStyles=!1,angular.element(window).on("blur",function(){f._bUpdateSelectedStyles=!1,f.focussed=!1}),f.updateSelectedStyles=function(){var e;S&&t.cancel(S),void 0!==(e=r.getSelectionElement())&&e.parentNode!==f.displayElements.text[0]?C.updateSelectedStyles(angular.element(e)):C.updateSelectedStyles(),f._bUpdateSelectedStyles&&(S=t(f.updateSelectedStyles,200))},m=function(){return f.focussed?void(f._bUpdateSelectedStyles||(f._bUpdateSelectedStyles=!0,f.$apply(function(){f.updateSelectedStyles()}))):void(f._bUpdateSelectedStyles=!1)},f.displayElements.html.on("keydown",m),f.displayElements.text.on("keydown",m),v=function(){f._bUpdateSelectedStyles=!1},f.displayElements.html.on("keyup",v),f.displayElements.text.on("keyup",v),y=function(e,t){t&&angular.extend(e,t),f.$apply(function(){return C.sendKeyCommand(e)?(f._bUpdateSelectedStyles||f.updateSelectedStyles(),e.preventDefault(),!1):void 0})},f.displayElements.html.on("keypress",y),f.displayElements.text.on("keypress",y),b=function(){f._bUpdateSelectedStyles=!1,f.$apply(function(){f.updateSelectedStyles()})},f.displayElements.html.on("mouseup",b),f.displayElements.text.on("mouseup",b)}}}]),m.service("textAngularManager",["taToolExecuteAction","taTools","taRegisterTool",function(e,t,n){var r={},i={};return{registerEditor:function(n,a,o){if(!n||""===n)throw"textAngular Error: An editor requires a name";if(!a)throw"textAngular Error: An editor requires a scope";if(i[n])throw'textAngular Error: An Editor with name "'+n+'" already exists';var s=[];return angular.forEach(o,function(e){r[e]&&s.push(r[e])}),i[n]={scope:a,toolbars:o,_registerToolbar:function(e){this.toolbars.indexOf(e.name)>=0&&s.push(e)},editorFunctions:{disable:function(){angular.forEach(s,function(e){e.disabled=!0})},enable:function(){angular.forEach(s,function(e){e.disabled=!1})},focus:function(){angular.forEach(s,function(e){e._parent=a,e.disabled=!1,e.focussed=!0,a.focussed=!0})},unfocus:function(){angular.forEach(s,function(e){e.disabled=!0,e.focussed=!1}),a.focussed=!1},updateSelectedStyles:function(e){angular.forEach(s,function(t){angular.forEach(t.tools,function(n){n.activeState&&(t._parent=a,n.active=n.activeState(e))})})},sendKeyCommand:function(n){var r=!1;return(n.ctrlKey||n.metaKey)&&angular.forEach(t,function(t,i){if(t.commandKeyCode&&t.commandKeyCode===n.which)for(var o=0;o<s.length;o++)if(void 0!==s[o].tools[i]){e.call(s[o].tools[i],a),r=!0;break}}),r},triggerElementSelect:function(e,n){var r=function(e,t){for(var n=!0,r=0;r<t.length;r++)n=n&&e.attr(t[r]);return n},i=[],o={},l=!1;n=angular.element(n);var u=!1;if(angular.forEach(t,function(e,t){e.onElementSelect&&e.onElementSelect.element&&e.onElementSelect.element.toLowerCase()===n[0].tagName.toLowerCase()&&(!e.onElementSelect.filter||e.onElementSelect.filter(n))&&(u=u||angular.isArray(e.onElementSelect.onlyWithAttrs)&&r(n,e.onElementSelect.onlyWithAttrs),(!e.onElementSelect.onlyWithAttrs||r(n,e.onElementSelect.onlyWithAttrs))&&(o[t]=e))}),u?(angular.forEach(o,function(e,t){e.onElementSelect.onlyWithAttrs&&r(n,e.onElementSelect.onlyWithAttrs)&&i.push({name:t,tool:e})}),i.sort(function(e,t){return t.tool.onElementSelect.onlyWithAttrs.length-e.tool.onElementSelect.onlyWithAttrs.length})):angular.forEach(o,function(e,t){i.push({name:t,tool:e})}),i.length>0)for(var c=0;c<i.length;c++){for(var d=i[c].tool,f=i[c].name,p=0;p<s.length;p++)if(void 0!==s[p].tools[f]){d.onElementSelect.action.call(s[p].tools[f],e,n,a),l=!0;break}if(l)break}return l}}},i[n].editorFunctions},retrieveEditor:function(e){return i[e]},unregisterEditor:function(e){delete i[e]},registerToolbar:function(e){if(!e)throw"textAngular Error: A toolbar requires a scope";if(!e.name||""===e.name)throw"textAngular Error: A toolbar requires a name";if(r[e.name])throw'textAngular Error: A toolbar with name "'+e.name+'" already exists';r[e.name]=e,angular.forEach(i,function(t){t._registerToolbar(e)})},retrieveToolbar:function(e){return r[e]},retrieveToolbarsViaEditor:function(e){var t=[],n=this;return angular.forEach(this.retrieveEditor(e).toolbars,function(e){t.push(n.retrieveToolbar(e))}),t},unregisterToolbar:function(e){delete r[e]},updateToolsDisplay:function(e){var t=this;angular.forEach(e,function(e,n){t.updateToolDisplay(n,e)})},resetToolsDisplay:function(){var e=this;angular.forEach(t,function(t,n){e.resetToolDisplay(n)})},updateToolDisplay:function(e,t){var n=this;angular.forEach(r,function(r,i){n.updateToolbarToolDisplay(i,e,t)})},resetToolDisplay:function(e){var t=this;angular.forEach(r,function(n,r){t.resetToolbarToolDisplay(r,e)})},updateToolbarToolDisplay:function(e,t,n){if(!r[e])throw'textAngular Error: No Toolbar with name "'+e+'" exists';r[e].updateToolDisplay(t,n)},resetToolbarToolDisplay:function(e,n){if(!r[e])throw'textAngular Error: No Toolbar with name "'+e+'" exists';r[e].updateToolDisplay(n,t[n],!0)},removeTool:function(e){delete t[e],angular.forEach(r,function(t){delete t.tools[e];for(var n=0;n<t.toolbar.length;n++){for(var r,i=0;i<t.toolbar[n].length;i++){if(t.toolbar[n][i]===e){r={group:n,index:i};break}if(void 0!==r)break}void 0!==r&&(t.toolbar[r.group].slice(r.index,1),t._$element.children().eq(r.group).children().eq(r.index).remove())}})},addTool:function(e,t,i,a){n(e,t),angular.forEach(r,function(n){n.addTool(e,t,i,a)})},addToolToToolbar:function(e,t,i,a,o){n(e,t),r[i].addTool(e,t,a,o)},refreshEditor:function(e){if(!i[e])throw'textAngular Error: No Editor with name "'+e+'" exists';i[e].scope.updateTaBindtaTextElement(),i[e].scope.$$phase||i[e].scope.$digest()}}}]),m.directive("textAngularToolbar",["$compile","textAngularManager","taOptions","taTools","taToolExecuteAction","$window",function(e,t,n,r,i,a){return{scope:{name:"@"},restrict:"EA",link:function(o,s,l){if(!o.name||""===o.name)throw"textAngular Error: A toolbar requires a name";angular.extend(o,angular.copy(n)),l.taToolbar&&(o.toolbar=o.$parent.$eval(l.taToolbar)),l.taToolbarClass&&(o.classes.toolbar=l.taToolbarClass),l.taToolbarGroupClass&&(o.classes.toolbarGroup=l.taToolbarGroupClass),l.taToolbarButtonClass&&(o.classes.toolbarButton=l.taToolbarButtonClass),l.taToolbarActiveButtonClass&&(o.classes.toolbarButtonActive=l.taToolbarActiveButtonClass),l.taFocussedClass&&(o.classes.focussed=l.taFocussedClass),o.disabled=!0,o.focussed=!1,o._$element=s,s[0].innerHTML="",s.addClass("ta-toolbar "+o.classes.toolbar),o.$watch("focussed",function(){o.focussed?s.addClass(o.classes.focussed):s.removeClass(o.classes.focussed)});var u=function(t,n){var r;if(r=angular.element(t&&t.display?t.display:"<button type='button'>"),r.addClass(t&&t["class"]?t["class"]:o.classes.toolbarButton),r.attr("name",n.name),r.attr("ta-button","ta-button"),r.attr("ng-disabled","isDisabled()"),r.attr("tabindex","-1"),r.attr("ng-click","executeAction()"),r.attr("ng-class","displayActiveToolClass(active)"),t&&t.tooltiptext&&r.attr("title",t.tooltiptext),t&&!t.display&&!n._display&&(r[0].innerHTML="",t.buttontext&&(r[0].innerHTML=t.buttontext),t.iconclass)){var i=angular.element("<i>"),a=r[0].innerHTML;i.addClass(t.iconclass),r[0].innerHTML="",r.append(i),a&&""!==a&&r.append("&nbsp;"+a)}return n._lastToolDefinition=angular.copy(t),e(r)(n)};o.tools={},o._parent={disabled:!0,showHtml:!1,queryFormatBlockState:function(){return!1},queryCommandState:function(){return!1}};var c={$window:a,$editor:function(){return o._parent},isDisabled:function(){return"function"!=typeof this.$eval("disabled")&&this.$eval("disabled")||this.$eval("disabled()")||"html"!==this.name&&this.$editor().showHtml||this.$parent.disabled||this.$editor().disabled},displayActiveToolClass:function(e){return e?o.classes.toolbarButtonActive:""},executeAction:i};angular.forEach(o.toolbar,function(e){var t=angular.element("<div>");t.addClass(o.classes.toolbarGroup),angular.forEach(e,function(e){o.tools[e]=angular.extend(o.$new(!0),r[e],c,{name:e}),o.tools[e].$element=u(r[e],o.tools[e]),t.append(o.tools[e].$element)}),s.append(t)}),o.updateToolDisplay=function(e,t,n){var r=o.tools[e];if(r){if(r._lastToolDefinition&&!n&&(t=angular.extend({},r._lastToolDefinition,t)),null===t.buttontext&&null===t.iconclass&&null===t.display)throw'textAngular Error: Tool Definition for updating "'+e+'" does not have a valid display/iconclass/buttontext value';null===t.buttontext&&delete t.buttontext,null===t.iconclass&&delete t.iconclass,null===t.display&&delete t.display;var i=u(t,r);r.$element.replaceWith(i),r.$element=i}},o.addTool=function(e,t,n,i){o.tools[e]=angular.extend(o.$new(!0),r[e],c,{name:e}),o.tools[e].$element=u(r[e],o.tools[e]);var a;void 0===n&&(n=o.toolbar.length-1),a=angular.element(s.children()[n]),void 0===i?(a.append(o.tools[e].$element),o.toolbar[n][o.toolbar[n].length-1]=e):(a.children().eq(i).after(o.tools[e].$element),o.toolbar[n][i]=e)},t.registerToolbar(o),o.$on("$destroy",function(){t.unregisterToolbar(o.name)})}}}])}()}({},function(){return this}())},function(e,t,n){/*!
	 * ui-select
	 * http://github.com/angular-ui/ui-select
	 * Version: 0.11.2 - 2015-03-17T04:08:46.474Z
	 * License: MIT
	 */
!function(){"use strict";var e={TAB:9,ENTER:13,ESC:27,SPACE:32,LEFT:37,UP:38,RIGHT:39,DOWN:40,SHIFT:16,CTRL:17,ALT:18,PAGE_UP:33,PAGE_DOWN:34,HOME:36,END:35,BACKSPACE:8,DELETE:46,COMMAND:91,MAP:{91:"COMMAND",8:"BACKSPACE",9:"TAB",13:"ENTER",16:"SHIFT",17:"CTRL",18:"ALT",19:"PAUSEBREAK",20:"CAPSLOCK",27:"ESC",32:"SPACE",33:"PAGE_UP",34:"PAGE_DOWN",35:"END",36:"HOME",37:"LEFT",38:"UP",39:"RIGHT",40:"DOWN",43:"+",44:"PRINTSCREEN",45:"INSERT",46:"DELETE",48:"0",49:"1",50:"2",51:"3",52:"4",53:"5",54:"6",55:"7",56:"8",57:"9",59:";",61:"=",65:"A",66:"B",67:"C",68:"D",69:"E",70:"F",71:"G",72:"H",73:"I",74:"J",75:"K",76:"L",77:"M",78:"N",79:"O",80:"P",81:"Q",82:"R",83:"S",84:"T",85:"U",86:"V",87:"W",88:"X",89:"Y",90:"Z",96:"0",97:"1",98:"2",99:"3",100:"4",101:"5",102:"6",103:"7",104:"8",105:"9",106:"*",107:"+",109:"-",110:".",111:"/",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NUMLOCK",145:"SCROLLLOCK",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},isControl:function(t){var n=t.which;switch(n){case e.COMMAND:case e.SHIFT:case e.CTRL:case e.ALT:return!0}return t.metaKey?!0:!1},isFunctionKey:function(e){return e=e.which?e.which:e,e>=112&&123>=e},isVerticalMovement:function(t){return~[e.UP,e.DOWN].indexOf(t)},isHorizontalMovement:function(t){return~[e.LEFT,e.RIGHT,e.BACKSPACE,e.DELETE].indexOf(t)}};void 0===angular.element.prototype.querySelectorAll&&(angular.element.prototype.querySelectorAll=function(e){return angular.element(this[0].querySelectorAll(e))}),void 0===angular.element.prototype.closest&&(angular.element.prototype.closest=function(e){for(var t=this[0],n=t.matches||t.webkitMatchesSelector||t.mozMatchesSelector||t.msMatchesSelector;t;){if(n.bind(t)(e))return t;t=t.parentElement}return!1});var t=0,n=angular.module("ui.select",[]).constant("uiSelectConfig",{theme:"bootstrap",searchEnabled:!0,sortable:!1,placeholder:"",refreshDelay:1e3,closeOnSelect:!0,generateId:function(){return t++},appendToBody:!1}).service("uiSelectMinErr",function(){var e=angular.$$minErr("ui.select");return function(){var t=e.apply(this,arguments),n=t.message.replace(new RegExp("\nhttp://errors.angularjs.org/.*"),"");return new Error(n)}}).directive("uisTranscludeAppend",function(){return{link:function(e,t,n,r,i){i(e,function(e){t.append(e)})}}}).filter("highlight",function(){function e(e){return e.replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1")}return function(t,n){return n&&t?t.replace(new RegExp(e(n),"gi"),'<span class="ui-select-highlight">$&</span>'):t}}).factory("uisOffset",["$document","$window",function(e,t){return function(n){var r=n[0].getBoundingClientRect();return{width:r.width||n.prop("offsetWidth"),height:r.height||n.prop("offsetHeight"),top:r.top+(t.pageYOffset||e[0].documentElement.scrollTop),left:r.left+(t.pageXOffset||e[0].documentElement.scrollLeft)}}}]);n.directive("uiSelectChoices",["uiSelectConfig","uisRepeatParser","uiSelectMinErr","$compile",function(e,t,n,r){return{restrict:"EA",require:"^uiSelect",replace:!0,transclude:!0,templateUrl:function(t){var n=t.parent().attr("theme")||e.theme;return n+"/choices.tpl.html"},compile:function(i,a){if(!a.repeat)throw n("repeat","Expected 'repeat' expression.");return function(i,a,o,s,l){var u=o.groupBy;if(s.parseRepeatAttr(o.repeat,u),s.disableChoiceExpression=o.uiDisableChoice,s.onHighlightCallback=o.onHighlight,u){var c=a.querySelectorAll(".ui-select-choices-group");if(1!==c.length)throw n("rows","Expected 1 .ui-select-choices-group but got '{0}'.",c.length);c.attr("ng-repeat",t.getGroupNgRepeatExpression())}var d=a.querySelectorAll(".ui-select-choices-row");if(1!==d.length)throw n("rows","Expected 1 .ui-select-choices-row but got '{0}'.",d.length);d.attr("ng-repeat",t.getNgRepeatExpression(s.parserResult.itemName,"$select.items",s.parserResult.trackByExp,u)).attr("ng-if","$select.open").attr("ng-mouseenter","$select.setActiveItem("+s.parserResult.itemName+")").attr("ng-click","$select.select("+s.parserResult.itemName+",false,$event)");var f=a.querySelectorAll(".ui-select-choices-row-inner");if(1!==f.length)throw n("rows","Expected 1 .ui-select-choices-row-inner but got '{0}'.",f.length);f.attr("uis-transclude-append",""),r(a,l)(i),i.$watch("$select.search",function(e){e&&!s.open&&s.multiple&&s.activate(!1,!0),s.activeIndex=s.tagging.isActivated?-1:0,s.refresh(o.refresh)}),o.$observe("refreshDelay",function(){var t=i.$eval(o.refreshDelay);s.refreshDelay=void 0!==t?t:e.refreshDelay})}}}}]),n.controller("uiSelectCtrl",["$scope","$element","$timeout","$filter","uisRepeatParser","uiSelectMinErr","uiSelectConfig",function(t,n,r,i,a,o,s){function l(){(d.resetSearchInput||void 0===d.resetSearchInput&&s.resetSearchInput)&&(d.search=f,d.selected&&d.items.length&&!d.multiple&&(d.activeIndex=d.items.indexOf(d.selected)))}function u(t){var n=!0;switch(t){case e.DOWN:!d.open&&d.multiple?d.activate(!1,!0):d.activeIndex<d.items.length-1&&d.activeIndex++;break;case e.UP:!d.open&&d.multiple?d.activate(!1,!0):(d.activeIndex>0||0===d.search.length&&d.tagging.isActivated&&d.activeIndex>-1)&&d.activeIndex--;break;case e.TAB:(!d.multiple||d.open)&&d.select(d.items[d.activeIndex],!0);break;case e.ENTER:d.open&&d.activeIndex>=0?d.select(d.items[d.activeIndex]):d.activate(!1,!0);break;case e.ESC:d.close();break;default:n=!1}return n}function c(){var e=n.querySelectorAll(".ui-select-choices-content"),t=e.querySelectorAll(".ui-select-choices-row");if(t.length<1)throw o("choices","Expected multiple .ui-select-choices-row but got '{0}'.",t.length);if(!(d.activeIndex<0)){var r=t[d.activeIndex],i=r.offsetTop+r.clientHeight-e[0].scrollTop,a=e[0].offsetHeight;i>a?e[0].scrollTop+=i-a:i<r.clientHeight&&(d.isGrouped&&0===d.activeIndex?e[0].scrollTop=0:e[0].scrollTop-=r.clientHeight-i)}}var d=this,f="";if(d.placeholder=s.placeholder,d.searchEnabled=s.searchEnabled,d.sortable=s.sortable,d.refreshDelay=s.refreshDelay,d.removeSelected=!1,d.closeOnSelect=!0,d.search=f,d.activeIndex=0,d.items=[],d.open=!1,d.focus=!1,d.disabled=!1,d.selected=void 0,d.focusser=void 0,d.resetSearchInput=!0,d.multiple=void 0,d.disableChoiceExpression=void 0,d.tagging={isActivated:!1,fct:void 0},d.taggingTokens={isActivated:!1,tokens:void 0},d.lockChoiceExpression=void 0,d.clickTriggeredSelect=!1,d.$filter=i,d.searchInput=n.querySelectorAll("input.ui-select-search"),1!==d.searchInput.length)throw o("searchInput","Expected 1 input.ui-select-search but got '{0}'.",d.searchInput.length);d.isEmpty=function(){return angular.isUndefined(d.selected)||null===d.selected||""===d.selected},d.activate=function(e,n){d.disabled||d.open||(n||l(),t.$broadcast("uis:activate"),d.open=!0,d.activeIndex=d.activeIndex>=d.items.length?0:d.activeIndex,-1===d.activeIndex&&d.taggingLabel!==!1&&(d.activeIndex=0),r(function(){d.search=e||d.search,d.searchInput[0].focus()}))},d.findGroupByName=function(e){return d.groups&&d.groups.filter(function(t){return t.name===e})[0]},d.parseRepeatAttr=function(e,n){function r(e){d.groups=[],angular.forEach(e,function(e){var r=t.$eval(n),i=angular.isFunction(r)?r(e):e[r],a=d.findGroupByName(i);a?a.items.push(e):d.groups.push({name:i,items:[e]})}),d.items=[],d.groups.forEach(function(e){d.items=d.items.concat(e.items)})}function i(e){d.items=e}d.setItemsFn=n?r:i,d.parserResult=a.parse(e),d.isGrouped=!!n,d.itemProperty=d.parserResult.itemName,d.refreshItems=function(e){e=e||d.parserResult.source(t);var n=d.selected;if(angular.isArray(n)&&!n.length||!d.removeSelected)d.setItemsFn(e);else if(void 0!==e){var r=e.filter(function(e){return n.indexOf(e)<0});d.setItemsFn(r)}},t.$watchCollection(d.parserResult.source,function(e){if(void 0===e||null===e)d.items=[];else{if(!angular.isArray(e))throw o("items","Expected an array but got '{0}'.",e);d.refreshItems(e),d.ngModel.$modelValue=null}})};var p;d.refresh=function(e){void 0!==e&&(p&&r.cancel(p),p=r(function(){t.$eval(e)},d.refreshDelay))},d.setActiveItem=function(e){d.activeIndex=d.items.indexOf(e)},d.isActive=function(e){if(!d.open)return!1;var t=d.items.indexOf(e[d.itemProperty]),n=t===d.activeIndex;return!n||0>t&&d.taggingLabel!==!1||0>t&&d.taggingLabel===!1?!1:(n&&!angular.isUndefined(d.onHighlightCallback)&&e.$eval(d.onHighlightCallback),n)},d.isDisabled=function(e){if(d.open){var t,n=d.items.indexOf(e[d.itemProperty]),r=!1;return n>=0&&!angular.isUndefined(d.disableChoiceExpression)&&(t=d.items[n],r=!!e.$eval(d.disableChoiceExpression),t._uiSelectChoiceDisabled=r),r}},d.select=function(e,n,i){if(void 0===e||!e._uiSelectChoiceDisabled){if(!d.items&&!d.search)return;if(!e||!e._uiSelectChoiceDisabled){if(d.tagging.isActivated){if(d.taggingLabel===!1)if(d.activeIndex<0){if(e=void 0!==d.tagging.fct?d.tagging.fct(d.search):d.search,!e||angular.equals(d.items[0],e))return}else e=d.items[d.activeIndex];else if(0===d.activeIndex){if(void 0===e)return;if(void 0!==d.tagging.fct&&"string"==typeof e){if(e=d.tagging.fct(d.search),!e)return}else"string"==typeof e&&(e=e.replace(d.taggingLabel,"").trim())}if(d.selected&&angular.isArray(d.selected)&&d.selected.filter(function(t){return angular.equals(t,e)}).length>0)return void d.close(n)}t.$broadcast("uis:select",e);var a={};a[d.parserResult.itemName]=e,r(function(){d.onSelectCallback(t,{$item:e,$model:d.parserResult.modelMapper(t,a)})}),d.closeOnSelect&&d.close(n),i&&"click"===i.type&&(d.clickTriggeredSelect=!0)}}},d.close=function(e){d.open&&(d.ngModel&&d.ngModel.$setTouched&&d.ngModel.$setTouched(),l(),d.open=!1,t.$broadcast("uis:close",e))},d.setFocus=function(){d.focus||d.focusInput[0].focus()},d.clear=function(e){d.select(void 0),e.stopPropagation(),d.focusser[0].focus()},d.toggle=function(e){d.open?(d.close(),e.preventDefault(),e.stopPropagation()):d.activate()},d.isLocked=function(e,t){var n,r=d.selected[t];return r&&!angular.isUndefined(d.lockChoiceExpression)&&(n=!!e.$eval(d.lockChoiceExpression),r._uiSelectChoiceLocked=n),n};var h=null;d.sizeSearchInput=function(){var e=d.searchInput[0],n=d.searchInput.parent().parent()[0],i=function(){return n.clientWidth*!!e.offsetParent},a=function(t){if(0===t)return!1;var n=t-e.offsetLeft-10;return 50>n&&(n=t),d.searchInput.css("width",n+"px"),!0};d.searchInput.css("width","10px"),r(function(){null!==h||a(i())||(h=t.$watch(i,function(e){a(e)&&(h(),h=null)}))})},d.searchInput.on("keydown",function(n){var i=n.which;t.$apply(function(){var t=!1;if((d.items.length>0||d.tagging.isActivated)&&(u(i),d.taggingTokens.isActivated)){for(var a=0;a<d.taggingTokens.tokens.length;a++)d.taggingTokens.tokens[a]===e.MAP[n.keyCode]&&d.search.length>0&&(t=!0);t&&r(function(){d.searchInput.triggerHandler("tagged");var t=d.search.replace(e.MAP[n.keyCode],"").trim();d.tagging.fct&&(t=d.tagging.fct(t)),t&&d.select(t,!0)})}}),e.isVerticalMovement(i)&&d.items.length>0&&c()}),d.searchInput.on("paste",function(e){var t=e.originalEvent.clipboardData.getData("text/plain");if(t&&t.length>0&&d.taggingTokens.isActivated&&d.tagging.fct){var n=t.split(d.taggingTokens.tokens[0]);n&&n.length>0&&(angular.forEach(n,function(e){var t=d.tagging.fct(e);t&&d.select(t,!0)}),e.preventDefault(),e.stopPropagation())}}),d.searchInput.on("tagged",function(){r(function(){l()})}),t.$on("$destroy",function(){d.searchInput.off("keyup keydown tagged blur paste")})}]),n.directive("uiSelect",["$document","uiSelectConfig","uiSelectMinErr","uisOffset","$compile","$parse","$timeout",function(e,t,n,r,i,a,o){return{restrict:"EA",templateUrl:function(e,n){var r=n.theme||t.theme;return r+(angular.isDefined(n.multiple)?"/select-multiple.tpl.html":"/select.tpl.html")},replace:!0,transclude:!0,require:["uiSelect","^ngModel"],scope:!0,controller:"uiSelectCtrl",controllerAs:"$select",compile:function(i,s){return angular.isDefined(s.multiple)?i.append("<ui-select-multiple/>").removeAttr("multiple"):i.append("<ui-select-single/>"),function(i,s,l,u,c){function d(e){if(h.open){var t=!1;if(t=window.jQuery?window.jQuery.contains(s[0],e.target):s[0].contains(e.target),!t&&!h.clickTriggeredSelect){var n=["input","button","textarea"],r=angular.element(e.target).scope(),a=r&&r.$select&&r.$select!==h;a||(a=~n.indexOf(e.target.tagName.toLowerCase())),h.close(a),i.$digest()}h.clickTriggeredSelect=!1}}function f(){var t=r(s);v=angular.element('<div class="ui-select-placeholder"></div>'),v[0].style.width=t.width+"px",v[0].style.height=t.height+"px",s.after(v),y=s[0].style.width,e.find("body").append(s),s[0].style.position="absolute",s[0].style.left=t.left+"px",s[0].style.top=t.top+"px",s[0].style.width=t.width+"px"}function p(){null!==v&&(v.replaceWith(s),v=null,s[0].style.position="",s[0].style.left="",s[0].style.top="",s[0].style.width=y)}var h=u[0],g=u[1];h.generatedId=t.generateId(),h.baseTitle=l.title||"Select box",h.focusserTitle=h.baseTitle+" focus",h.focusserId="focusser-"+h.generatedId,h.closeOnSelect=function(){return angular.isDefined(l.closeOnSelect)?a(l.closeOnSelect)():t.closeOnSelect}(),h.onSelectCallback=a(l.onSelect),h.onRemoveCallback=a(l.onRemove),h.ngModel=g,h.choiceGrouped=function(e){return h.isGrouped&&e&&e.name},l.tabindex&&l.$observe("tabindex",function(e){h.focusInput.attr("tabindex",e),s.removeAttr("tabindex")}),i.$watch("searchEnabled",function(){var e=i.$eval(l.searchEnabled);h.searchEnabled=void 0!==e?e:t.searchEnabled}),i.$watch("sortable",function(){var e=i.$eval(l.sortable);h.sortable=void 0!==e?e:t.sortable}),l.$observe("disabled",function(){h.disabled=void 0!==l.disabled?l.disabled:!1}),l.$observe("resetSearchInput",function(){var e=i.$eval(l.resetSearchInput);h.resetSearchInput=void 0!==e?e:!0}),l.$observe("tagging",function(){if(void 0!==l.tagging){var e=i.$eval(l.tagging);h.tagging={isActivated:!0,fct:e!==!0?e:void 0}}else h.tagging={isActivated:!1,fct:void 0}}),l.$observe("taggingLabel",function(){void 0!==l.tagging&&("false"===l.taggingLabel?h.taggingLabel=!1:h.taggingLabel=void 0!==l.taggingLabel?l.taggingLabel:"(new)")}),l.$observe("taggingTokens",function(){if(void 0!==l.tagging){var e=void 0!==l.taggingTokens?l.taggingTokens.split("|"):[",","ENTER"];h.taggingTokens={isActivated:!0,tokens:e}}}),angular.isDefined(l.autofocus)&&o(function(){h.setFocus()}),angular.isDefined(l.focusOn)&&i.$on(l.focusOn,function(){o(function(){h.setFocus()})}),e.on("click",d),i.$on("$destroy",function(){e.off("click",d)}),c(i,function(e){var t=angular.element("<div>").append(e),r=t.querySelectorAll(".ui-select-match");if(r.removeAttr("ui-select-match"),r.removeAttr("data-ui-select-match"),1!==r.length)throw n("transcluded","Expected 1 .ui-select-match but got '{0}'.",r.length);s.querySelectorAll(".ui-select-match").replaceWith(r);var i=t.querySelectorAll(".ui-select-choices");if(i.removeAttr("ui-select-choices"),i.removeAttr("data-ui-select-choices"),1!==i.length)throw n("transcluded","Expected 1 .ui-select-choices but got '{0}'.",i.length);s.querySelectorAll(".ui-select-choices").replaceWith(i)});var m=i.$eval(l.appendToBody);(void 0!==m?m:t.appendToBody)&&(i.$watch("$select.open",function(e){e?f():p()}),i.$on("$destroy",function(){p()}));var v=null,y=""}}}}]),n.directive("uiSelectMatch",["uiSelectConfig",function(e){return{restrict:"EA",require:"^uiSelect",replace:!0,transclude:!0,templateUrl:function(t){var n=t.parent().attr("theme")||e.theme,r=t.parent().attr("multiple");return n+(r?"/match-multiple.tpl.html":"/match.tpl.html")},link:function(t,n,r,i){function a(e){i.allowClear=angular.isDefined(e)?""===e?!0:"true"===e.toLowerCase():!1}i.lockChoiceExpression=r.uiLockChoice,r.$observe("placeholder",function(t){i.placeholder=void 0!==t?t:e.placeholder}),r.$observe("allowClear",a),a(r.allowClear),i.multiple&&i.sizeSearchInput()}}}]),n.directive("uiSelectMultiple",["uiSelectMinErr","$timeout",function(t,n){return{restrict:"EA",require:["^uiSelect","^ngModel"],controller:["$scope","$timeout",function(e,t){var n,r=this,i=e.$select;e.$evalAsync(function(){n=e.ngModel}),r.activeMatchIndex=-1,r.updateModel=function(){n.$setViewValue(Date.now()),r.refreshComponent()},r.refreshComponent=function(){i.refreshItems(),i.sizeSearchInput()},r.removeChoice=function(n){var a=i.selected[n];if(!a._uiSelectChoiceLocked){var o={};o[i.parserResult.itemName]=a,i.selected.splice(n,1),r.activeMatchIndex=-1,i.sizeSearchInput(),t(function(){i.onRemoveCallback(e,{$item:a,$model:i.parserResult.modelMapper(e,o)})}),r.updateModel()}},r.getPlaceholder=function(){return i.selected.length?void 0:i.placeholder}}],controllerAs:"$selectMultiple",link:function(r,i,a,o){function s(e){return angular.isNumber(e.selectionStart)?e.selectionStart:e.value.length}function l(t){function n(){switch(t){case e.LEFT:return~p.activeMatchIndex?c:o;case e.RIGHT:return~p.activeMatchIndex&&l!==o?u:(d.activate(),!1);case e.BACKSPACE:return~p.activeMatchIndex?(p.removeChoice(l),c):o;case e.DELETE:return~p.activeMatchIndex?(p.removeChoice(p.activeMatchIndex),l):!1}}var r=s(d.searchInput[0]),i=d.selected.length,a=0,o=i-1,l=p.activeMatchIndex,u=p.activeMatchIndex+1,c=p.activeMatchIndex-1,f=l;return r>0||d.search.length&&t==e.RIGHT?!1:(d.close(),f=n(),d.selected.length&&f!==!1?p.activeMatchIndex=Math.min(o,Math.max(a,f)):p.activeMatchIndex=-1,!0)}function u(e){if(void 0===e||void 0===d.search)return!1;var t=e.filter(function(e){return void 0===d.search.toUpperCase()||void 0===e?!1:e.toUpperCase()===d.search.toUpperCase()}).length>0;return t}function c(e,t){var n=-1;if(angular.isArray(e))for(var r=angular.copy(e),i=0;i<r.length;i++)if(void 0===d.tagging.fct)r[i]+" "+d.taggingLabel===t&&(n=i);else{var a=r[i];a.isTag=!0,angular.equals(a,t)&&(n=i)}return n}var d=o[0],f=r.ngModel=o[1],p=r.$selectMultiple;d.multiple=!0,d.removeSelected=!0,d.focusInput=d.searchInput,f.$parsers.unshift(function(){for(var e,t={},n=[],i=d.selected.length-1;i>=0;i--)t={},t[d.parserResult.itemName]=d.selected[i],e=d.parserResult.modelMapper(r,t),n.unshift(e);return n}),f.$formatters.unshift(function(e){var t,n=d.parserResult.source(r,{$select:{search:""}}),i={};if(!n)return e;var a=[],o=function(e,n){if(e&&e.length){for(var o=e.length-1;o>=0;o--){if(i[d.parserResult.itemName]=e[o],t=d.parserResult.modelMapper(r,i),d.parserResult.trackByExp){var s=/\.(.+)/.exec(d.parserResult.trackByExp);if(s.length>0&&t[s[1]]==n[s[1]])return a.unshift(e[o]),!0}if(angular.equals(t,n))return a.unshift(e[o]),!0}return!1}};if(!e)return a;for(var s=e.length-1;s>=0;s--)o(d.selected,e[s])||o(n,e[s])||a.unshift(e[s]);return a}),r.$watchCollection(function(){return f.$modelValue},function(e,t){t!=e&&(f.$modelValue=null,p.refreshComponent())}),f.$render=function(){if(!angular.isArray(f.$viewValue)){if(!angular.isUndefined(f.$viewValue)&&null!==f.$viewValue)throw t("multiarr","Expected model value to be array but got '{0}'",f.$viewValue);d.selected=[]}d.selected=f.$viewValue,r.$evalAsync()},r.$on("uis:select",function(e,t){d.selected.push(t),p.updateModel()}),r.$on("uis:activate",function(){p.activeMatchIndex=-1}),r.$watch("$select.disabled",function(e,t){t&&!e&&d.sizeSearchInput()}),d.searchInput.on("keydown",function(t){var n=t.which;r.$apply(function(){var r=!1;e.isHorizontalMovement(n)&&(r=l(n)),r&&n!=e.TAB&&(t.preventDefault(),t.stopPropagation())})}),d.searchInput.on("keyup",function(t){if(e.isVerticalMovement(t.which)||r.$evalAsync(function(){d.activeIndex=d.taggingLabel===!1?-1:0}),d.tagging.isActivated&&d.search.length>0){if(t.which===e.TAB||e.isControl(t)||e.isFunctionKey(t)||t.which===e.ESC||e.isVerticalMovement(t.which))return;if(d.activeIndex=d.taggingLabel===!1?-1:0,d.taggingLabel===!1)return;var n,i,a,o,s=angular.copy(d.items),l=angular.copy(d.items),f=!1,p=-1;if(void 0!==d.tagging.fct){if(a=d.$filter("filter")(s,{isTag:!0}),a.length>0&&(o=a[0]),s.length>0&&o&&(f=!0,s=s.slice(1,s.length),l=l.slice(1,l.length)),n=d.tagging.fct(d.search),n.isTag=!0,l.filter(function(e){return angular.equals(e,d.tagging.fct(d.search))}).length>0)return;n.isTag=!0}else{if(a=d.$filter("filter")(s,function(e){return e.match(d.taggingLabel)}),a.length>0&&(o=a[0]),i=s[0],void 0!==i&&s.length>0&&o&&(f=!0,s=s.slice(1,s.length),l=l.slice(1,l.length)),n=d.search+" "+d.taggingLabel,c(d.selected,d.search)>-1)return;if(u(l.concat(d.selected)))return void(f&&(s=l,r.$evalAsync(function(){d.activeIndex=0,d.items=s})));if(u(l))return void(f&&(d.items=l.slice(1,l.length)))}f&&(p=c(d.selected,n)),p>-1?s=s.slice(p+1,s.length-1):(s=[],s.push(n),s=s.concat(l)),r.$evalAsync(function(){d.activeIndex=0,d.items=s})}}),d.searchInput.on("blur",function(){n(function(){p.activeMatchIndex=-1})})}}}]),n.directive("uiSelectSingle",["$timeout","$compile",function(t,n){return{restrict:"EA",require:["^uiSelect","^ngModel"],link:function(r,i,a,o){var s=o[0],l=o[1];l.$parsers.unshift(function(e){var t,n={};return n[s.parserResult.itemName]=e,t=s.parserResult.modelMapper(r,n)}),l.$formatters.unshift(function(e){var t,n=s.parserResult.source(r,{$select:{search:""}}),i={};if(n){var a=function(n){return i[s.parserResult.itemName]=n,t=s.parserResult.modelMapper(r,i),t==e};if(s.selected&&a(s.selected))return s.selected;for(var o=n.length-1;o>=0;o--)if(a(n[o]))return n[o]}return e}),r.$watch("$select.selected",function(e){l.$viewValue!==e&&l.$setViewValue(e)}),l.$render=function(){s.selected=l.$viewValue},r.$on("uis:select",function(e,t){s.selected=t}),r.$on("uis:close",function(e,n){t(function(){s.focusser.prop("disabled",!1),n||s.focusser[0].focus()},0,!1)}),r.$on("uis:activate",function(){u.prop("disabled",!0)});var u=angular.element("<input ng-disabled='$select.disabled' class='ui-select-focusser ui-select-offscreen' type='text' id='{{ $select.focusserId }}' aria-label='{{ $select.focusserTitle }}' aria-haspopup='true' role='button' />");n(u)(r),s.focusser=u,s.focusInput=u,i.parent().append(u),u.bind("focus",function(){r.$evalAsync(function(){s.focus=!0})}),u.bind("blur",function(){r.$evalAsync(function(){s.focus=!1})}),u.bind("keydown",function(t){return t.which===e.BACKSPACE?(t.preventDefault(),t.stopPropagation(),s.select(void 0),void r.$apply()):void(t.which===e.TAB||e.isControl(t)||e.isFunctionKey(t)||t.which===e.ESC||((t.which==e.DOWN||t.which==e.UP||t.which==e.ENTER||t.which==e.SPACE)&&(t.preventDefault(),t.stopPropagation(),s.activate()),r.$digest()))}),u.bind("keyup input",function(t){t.which===e.TAB||e.isControl(t)||e.isFunctionKey(t)||t.which===e.ESC||t.which==e.ENTER||t.which===e.BACKSPACE||(s.activate(u.val()),u.val(""),r.$digest())})}}}]),n.directive("uiSelectSort",["$timeout","uiSelectConfig","uiSelectMinErr",function(e,t,n){return{require:"^uiSelect",link:function(t,r,i,a){if(null===t[i.uiSelectSort])throw n("sort","Expected a list to sort");var o=angular.extend({axis:"horizontal"},t.$eval(i.uiSelectSortOptions)),s=o.axis,l="dragging",u="dropping",c="dropping-before",d="dropping-after";t.$watch(function(){return a.sortable},function(e){e?r.attr("draggable",!0):r.removeAttr("draggable")}),r.on("dragstart",function(e){r.addClass(l),(e.dataTransfer||e.originalEvent.dataTransfer).setData("text/plain",t.$index)}),r.on("dragend",function(){r.removeClass(l)});var f,p=function(e,t){this.splice(t,0,this.splice(e,1)[0])},h=function(e){e.preventDefault();var t="vertical"===s?e.offsetY||e.layerY||(e.originalEvent?e.originalEvent.offsetY:0):e.offsetX||e.layerX||(e.originalEvent?e.originalEvent.offsetX:0);t<this["vertical"===s?"offsetHeight":"offsetWidth"]/2?(r.removeClass(d),r.addClass(c)):(r.removeClass(c),r.addClass(d))},g=function(t){t.preventDefault();var n=parseInt((t.dataTransfer||t.originalEvent.dataTransfer).getData("text/plain"),10);e.cancel(f),f=e(function(){m(n)},20)},m=function(e){var n=t.$eval(i.uiSelectSort),a=n[e],o=null;o=r.hasClass(c)?e<t.$index?t.$index-1:t.$index:e<t.$index?t.$index:t.$index+1,p.apply(n,[e,o]),t.$apply(function(){t.$emit("uiSelectSort:change",{array:n,item:a,from:e,to:o})}),r.removeClass(u),r.removeClass(c),r.removeClass(d),r.off("drop",g)};r.on("dragenter",function(){r.hasClass(l)||(r.addClass(u),r.on("dragover",h),r.on("drop",g))}),r.on("dragleave",function(e){e.target==r&&(r.removeClass(u),r.removeClass(c),r.removeClass(d),r.off("dragover",h),r.off("drop",g))})}}}]),n.service("uisRepeatParser",["uiSelectMinErr","$parse",function(e,t){var n=this;n.parse=function(n){var r=n.match(/^\s*(?:([\s\S]+?)\s+as\s+)?([\S]+?)\s+in\s+([\s\S]+?)(?:\s+track\s+by\s+([\s\S]+?))?\s*$/);if(!r)throw e("iexp","Expected expression in form of '_item_ in _collection_[ track by _id_]' but got '{0}'.",n);return{itemName:r[2],source:t(r[3]),trackByExp:r[4],modelMapper:t(r[1]||r[2])}},n.getGroupNgRepeatExpression=function(){return"$group in $select.groups"},n.getNgRepeatExpression=function(e,t,n,r){var i=e+" in "+(r?"$group.items":t);return n&&(i+=" track by "+n),i}}])}(),angular.module("ui.select").run(["$templateCache",function(e){e.put("bootstrap/choices.tpl.html",'<ul class="ui-select-choices ui-select-choices-content dropdown-menu" role="listbox" ng-show="$select.items.length > 0"><li class="ui-select-choices-group" id="ui-select-choices-{{ $select.generatedId }}"><div class="divider" ng-show="$select.isGrouped && $index > 0"></div><div ng-show="$select.isGrouped" class="ui-select-choices-group-label dropdown-header" ng-bind="$group.name"></div><div id="ui-select-choices-row-{{ $select.generatedId }}-{{$index}}" class="ui-select-choices-row" ng-class="{active: $select.isActive(this), disabled: $select.isDisabled(this)}" role="option"><a href="javascript:void(0)" class="ui-select-choices-row-inner"></a></div></li></ul>'),e.put("bootstrap/match-multiple.tpl.html",'<span class="ui-select-match"><span ng-repeat="$item in $select.selected"><span class="ui-select-match-item btn btn-default btn-xs" tabindex="-1" type="button" ng-disabled="$select.disabled" ng-click="$selectMultiple.activeMatchIndex = $index;" ng-class="{\'btn-primary\':$selectMultiple.activeMatchIndex === $index, \'select-locked\':$select.isLocked(this, $index)}" ui-select-sort="$select.selected"><span class="close ui-select-match-close" ng-hide="$select.disabled" ng-click="$selectMultiple.removeChoice($index)">&nbsp;&times;</span> <span uis-transclude-append=""></span></span></span></span>'),e.put("bootstrap/match.tpl.html",'<div class="ui-select-match" ng-hide="$select.open" ng-disabled="$select.disabled" ng-class="{\'btn-default-focus\':$select.focus}"><span tabindex="-1" class="btn btn-default form-control ui-select-toggle" aria-label="{{ $select.baseTitle }} activate" ng-disabled="$select.disabled" ng-click="$select.activate()" style="outline: 0;"><span ng-show="$select.isEmpty()" class="ui-select-placeholder text-muted">{{$select.placeholder}}</span> <span ng-hide="$select.isEmpty()" class="ui-select-match-text pull-left" ng-class="{\'ui-select-allow-clear\': $select.allowClear && !$select.isEmpty()}" ng-transclude=""></span> <i class="caret pull-right" ng-click="$select.toggle($event)"></i> <a ng-show="$select.allowClear && !$select.isEmpty()" aria-label="{{ $select.baseTitle }} clear" style="margin-right: 10px" ng-click="$select.clear($event)" class="btn btn-xs btn-link pull-right"><i class="glyphicon glyphicon-remove" aria-hidden="true"></i></a></span></div>'),e.put("bootstrap/select-multiple.tpl.html",'<div class="ui-select-container ui-select-multiple ui-select-bootstrap dropdown form-control" ng-class="{open: $select.open}"><div><div class="ui-select-match"></div><input type="text" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" class="ui-select-search input-xs" placeholder="{{$selectMultiple.getPlaceholder()}}" ng-disabled="$select.disabled" ng-hide="$select.disabled" ng-click="$select.activate()" ng-model="$select.search" role="combobox" aria-label="{{ $select.baseTitle }}" ondrop="return false;"></div><div class="ui-select-choices"></div></div>'),e.put("bootstrap/select.tpl.html",'<div class="ui-select-container ui-select-bootstrap dropdown" ng-class="{open: $select.open}"><div class="ui-select-match"></div><input type="text" autocomplete="off" tabindex="-1" aria-expanded="true" aria-label="{{ $select.baseTitle }}" aria-owns="ui-select-choices-{{ $select.generatedId }}" aria-activedescendant="ui-select-choices-row-{{ $select.generatedId }}-{{ $select.activeIndex }}" class="form-control ui-select-search" placeholder="{{$select.placeholder}}" ng-model="$select.search" ng-show="$select.searchEnabled && $select.open"><div class="ui-select-choices"></div></div>'),e.put("select2/choices.tpl.html",'<ul class="ui-select-choices ui-select-choices-content select2-results"><li class="ui-select-choices-group" ng-class="{\'select2-result-with-children\': $select.choiceGrouped($group) }"><div ng-show="$select.choiceGrouped($group)" class="ui-select-choices-group-label select2-result-label" ng-bind="$group.name"></div><ul role="listbox" id="ui-select-choices-{{ $select.generatedId }}" ng-class="{\'select2-result-sub\': $select.choiceGrouped($group), \'select2-result-single\': !$select.choiceGrouped($group) }"><li role="option" id="ui-select-choices-row-{{ $select.generatedId }}-{{$index}}" class="ui-select-choices-row" ng-class="{\'select2-highlighted\': $select.isActive(this), \'select2-disabled\': $select.isDisabled(this)}"><div class="select2-result-label ui-select-choices-row-inner"></div></li></ul></li></ul>'),e.put("select2/match-multiple.tpl.html",'<span class="ui-select-match"><li class="ui-select-match-item select2-search-choice" ng-repeat="$item in $select.selected" ng-class="{\'select2-search-choice-focus\':$selectMultiple.activeMatchIndex === $index, \'select2-locked\':$select.isLocked(this, $index)}" ui-select-sort="$select.selected"><span uis-transclude-append=""></span> <a href="javascript:;" class="ui-select-match-close select2-search-choice-close" ng-click="$selectMultiple.removeChoice($index)" tabindex="-1"></a></li></span>'),e.put("select2/match.tpl.html",'<a class="select2-choice ui-select-match" ng-class="{\'select2-default\': $select.isEmpty()}" ng-click="$select.toggle($event)" aria-label="{{ $select.baseTitle }} select"><span ng-show="$select.isEmpty()" class="select2-chosen">{{$select.placeholder}}</span> <span ng-hide="$select.isEmpty()" class="select2-chosen" ng-transclude=""></span> <abbr ng-if="$select.allowClear && !$select.isEmpty()" class="select2-search-choice-close" ng-click="$select.clear($event)"></abbr> <span class="select2-arrow ui-select-toggle"><b></b></span></a>'),e.put("select2/select-multiple.tpl.html",'<div class="ui-select-container ui-select-multiple select2 select2-container select2-container-multi" ng-class="{\'select2-container-active select2-dropdown-open open\': $select.open, \'select2-container-disabled\': $select.disabled}"><ul class="select2-choices"><span class="ui-select-match"></span><li class="select2-search-field"><input type="text" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" role="combobox" aria-expanded="true" aria-owns="ui-select-choices-{{ $select.generatedId }}" aria-label="{{ $select.baseTitle }}" aria-activedescendant="ui-select-choices-row-{{ $select.generatedId }}-{{ $select.activeIndex }}" class="select2-input ui-select-search" placeholder="{{$selectMultiple.getPlaceholder()}}" ng-disabled="$select.disabled" ng-hide="$select.disabled" ng-model="$select.search" ng-click="$select.activate()" style="width: 34px;" ondrop="return false;"></li></ul><div class="select2-drop select2-with-searchbox select2-drop-active" ng-class="{\'select2-display-none\': !$select.open}"><div class="ui-select-choices"></div></div></div>'),e.put("select2/select.tpl.html",'<div class="ui-select-container select2 select2-container" ng-class="{\'select2-container-active select2-dropdown-open open\': $select.open, \'select2-container-disabled\': $select.disabled, \'select2-container-active\': $select.focus, \'select2-allowclear\': $select.allowClear && !$select.isEmpty()}"><div class="ui-select-match"></div><div class="select2-drop select2-with-searchbox select2-drop-active" ng-class="{\'select2-display-none\': !$select.open}"><div class="select2-search" ng-show="$select.searchEnabled"><input type="text" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" role="combobox" aria-expanded="true" aria-owns="ui-select-choices-{{ $select.generatedId }}" aria-label="{{ $select.baseTitle }}" aria-activedescendant="ui-select-choices-row-{{ $select.generatedId }}-{{ $select.activeIndex }}" class="ui-select-search select2-input" ng-model="$select.search"></div><div class="ui-select-choices"></div></div></div>'),
e.put("selectize/choices.tpl.html",'<div ng-show="$select.open" class="ui-select-choices selectize-dropdown single"><div class="ui-select-choices-content selectize-dropdown-content"><div class="ui-select-choices-group optgroup" role="listbox"><div ng-show="$select.isGrouped" class="ui-select-choices-group-label optgroup-header" ng-bind="$group.name"></div><div role="option" class="ui-select-choices-row" ng-class="{active: $select.isActive(this), disabled: $select.isDisabled(this)}"><div class="option ui-select-choices-row-inner" data-selectable=""></div></div></div></div></div>'),e.put("selectize/match.tpl.html",'<div ng-hide="($select.open || $select.isEmpty())" class="ui-select-match" ng-transclude=""></div>'),e.put("selectize/select.tpl.html",'<div class="ui-select-container selectize-control single" ng-class="{\'open\': $select.open}"><div class="selectize-input" ng-class="{\'focus\': $select.open, \'disabled\': $select.disabled, \'selectize-focus\' : $select.focus}" ng-click="$select.activate()"><div class="ui-select-match"></div><input type="text" autocomplete="off" tabindex="-1" class="ui-select-search ui-select-toggle" ng-click="$select.toggle($event)" placeholder="{{$select.placeholder}}" ng-model="$select.search" ng-hide="!$select.searchEnabled || ($select.selected && !$select.open)" ng-disabled="$select.disabled" aria-label="{{ $select.baseTitle }}"></div><div class="ui-select-choices"></div></div>')}])},function(e,t,n){var r,i;(function(){function n(e){function t(t,n,r,i,a,o){for(;a>=0&&o>a;a+=e){var s=i?i[a]:a;r=n(r,t[s],s,t)}return r}return function(n,r,i,a){r=C(r,a,4);var o=!A(n)&&x.keys(n),s=(o||n).length,l=e>0?0:s-1;return arguments.length<3&&(i=n[o?o[l]:l],l+=e),t(n,r,i,o,l,s)}}function a(e){return function(t,n,r){n=E(n,r);for(var i=O(t),a=e>0?0:i-1;a>=0&&i>a;a+=e)if(n(t[a],a,t))return a;return-1}}function o(e,t,n){return function(r,i,a){var o=0,s=O(r);if("number"==typeof a)e>0?o=a>=0?a:Math.max(a+s,o):s=a>=0?Math.min(a+1,s):a+s+1;else if(n&&a&&s)return a=n(r,i),r[a]===i?a:-1;if(i!==i)return a=t(h.call(r,o,s),x.isNaN),a>=0?a+o:-1;for(a=e>0?o:s-1;a>=0&&s>a;a+=e)if(r[a]===i)return a;return-1}}function s(e,t){var n=L.length,r=e.constructor,i=x.isFunction(r)&&r.prototype||d,a="constructor";for(x.has(e,a)&&!x.contains(t,a)&&t.push(a);n--;)a=L[n],a in e&&e[a]!==i[a]&&!x.contains(t,a)&&t.push(a)}var l=this,u=l._,c=Array.prototype,d=Object.prototype,f=Function.prototype,p=c.push,h=c.slice,g=d.toString,m=d.hasOwnProperty,v=Array.isArray,y=Object.keys,b=f.bind,w=Object.create,$=function(){},x=function(e){return e instanceof x?e:this instanceof x?void(this._wrapped=e):new x(e)};"undefined"!=typeof e&&e.exports&&(t=e.exports=x),t._=x,x.VERSION="1.8.3";var C=function(e,t,n){if(void 0===t)return e;switch(null==n?3:n){case 1:return function(n){return e.call(t,n)};case 2:return function(n,r){return e.call(t,n,r)};case 3:return function(n,r,i){return e.call(t,n,r,i)};case 4:return function(n,r,i,a){return e.call(t,n,r,i,a)}}return function(){return e.apply(t,arguments)}},E=function(e,t,n){return null==e?x.identity:x.isFunction(e)?C(e,t,n):x.isObject(e)?x.matcher(e):x.property(e)};x.iteratee=function(e,t){return E(e,t,1/0)};var _=function(e,t){return function(n){var r=arguments.length;if(2>r||null==n)return n;for(var i=1;r>i;i++)for(var a=arguments[i],o=e(a),s=o.length,l=0;s>l;l++){var u=o[l];t&&void 0!==n[u]||(n[u]=a[u])}return n}},S=function(e){if(!x.isObject(e))return{};if(w)return w(e);$.prototype=e;var t=new $;return $.prototype=null,t},k=function(e){return function(t){return null==t?void 0:t[e]}},T=Math.pow(2,53)-1,O=k("length"),A=function(e){var t=O(e);return"number"==typeof t&&t>=0&&T>=t};x.each=x.forEach=function(e,t,n){t=C(t,n);var r,i;if(A(e))for(r=0,i=e.length;i>r;r++)t(e[r],r,e);else{var a=x.keys(e);for(r=0,i=a.length;i>r;r++)t(e[a[r]],a[r],e)}return e},x.map=x.collect=function(e,t,n){t=E(t,n);for(var r=!A(e)&&x.keys(e),i=(r||e).length,a=Array(i),o=0;i>o;o++){var s=r?r[o]:o;a[o]=t(e[s],s,e)}return a},x.reduce=x.foldl=x.inject=n(1),x.reduceRight=x.foldr=n(-1),x.find=x.detect=function(e,t,n){var r;return r=A(e)?x.findIndex(e,t,n):x.findKey(e,t,n),void 0!==r&&-1!==r?e[r]:void 0},x.filter=x.select=function(e,t,n){var r=[];return t=E(t,n),x.each(e,function(e,n,i){t(e,n,i)&&r.push(e)}),r},x.reject=function(e,t,n){return x.filter(e,x.negate(E(t)),n)},x.every=x.all=function(e,t,n){t=E(t,n);for(var r=!A(e)&&x.keys(e),i=(r||e).length,a=0;i>a;a++){var o=r?r[a]:a;if(!t(e[o],o,e))return!1}return!0},x.some=x.any=function(e,t,n){t=E(t,n);for(var r=!A(e)&&x.keys(e),i=(r||e).length,a=0;i>a;a++){var o=r?r[a]:a;if(t(e[o],o,e))return!0}return!1},x.contains=x.includes=x.include=function(e,t,n,r){return A(e)||(e=x.values(e)),("number"!=typeof n||r)&&(n=0),x.indexOf(e,t,n)>=0},x.invoke=function(e,t){var n=h.call(arguments,2),r=x.isFunction(t);return x.map(e,function(e){var i=r?t:e[t];return null==i?i:i.apply(e,n)})},x.pluck=function(e,t){return x.map(e,x.property(t))},x.where=function(e,t){return x.filter(e,x.matcher(t))},x.findWhere=function(e,t){return x.find(e,x.matcher(t))},x.max=function(e,t,n){var r,i,a=-(1/0),o=-(1/0);if(null==t&&null!=e){e=A(e)?e:x.values(e);for(var s=0,l=e.length;l>s;s++)r=e[s],r>a&&(a=r)}else t=E(t,n),x.each(e,function(e,n,r){i=t(e,n,r),(i>o||i===-(1/0)&&a===-(1/0))&&(a=e,o=i)});return a},x.min=function(e,t,n){var r,i,a=1/0,o=1/0;if(null==t&&null!=e){e=A(e)?e:x.values(e);for(var s=0,l=e.length;l>s;s++)r=e[s],a>r&&(a=r)}else t=E(t,n),x.each(e,function(e,n,r){i=t(e,n,r),(o>i||i===1/0&&a===1/0)&&(a=e,o=i)});return a},x.shuffle=function(e){for(var t,n=A(e)?e:x.values(e),r=n.length,i=Array(r),a=0;r>a;a++)t=x.random(0,a),t!==a&&(i[a]=i[t]),i[t]=n[a];return i},x.sample=function(e,t,n){return null==t||n?(A(e)||(e=x.values(e)),e[x.random(e.length-1)]):x.shuffle(e).slice(0,Math.max(0,t))},x.sortBy=function(e,t,n){return t=E(t,n),x.pluck(x.map(e,function(e,n,r){return{value:e,index:n,criteria:t(e,n,r)}}).sort(function(e,t){var n=e.criteria,r=t.criteria;if(n!==r){if(n>r||void 0===n)return 1;if(r>n||void 0===r)return-1}return e.index-t.index}),"value")};var R=function(e){return function(t,n,r){var i={};return n=E(n,r),x.each(t,function(r,a){var o=n(r,a,t);e(i,r,o)}),i}};x.groupBy=R(function(e,t,n){x.has(e,n)?e[n].push(t):e[n]=[t]}),x.indexBy=R(function(e,t,n){e[n]=t}),x.countBy=R(function(e,t,n){x.has(e,n)?e[n]++:e[n]=1}),x.toArray=function(e){return e?x.isArray(e)?h.call(e):A(e)?x.map(e,x.identity):x.values(e):[]},x.size=function(e){return null==e?0:A(e)?e.length:x.keys(e).length},x.partition=function(e,t,n){t=E(t,n);var r=[],i=[];return x.each(e,function(e,n,a){(t(e,n,a)?r:i).push(e)}),[r,i]},x.first=x.head=x.take=function(e,t,n){return null==e?void 0:null==t||n?e[0]:x.initial(e,e.length-t)},x.initial=function(e,t,n){return h.call(e,0,Math.max(0,e.length-(null==t||n?1:t)))},x.last=function(e,t,n){return null==e?void 0:null==t||n?e[e.length-1]:x.rest(e,Math.max(0,e.length-t))},x.rest=x.tail=x.drop=function(e,t,n){return h.call(e,null==t||n?1:t)},x.compact=function(e){return x.filter(e,x.identity)};var M=function(e,t,n,r){for(var i=[],a=0,o=r||0,s=O(e);s>o;o++){var l=e[o];if(A(l)&&(x.isArray(l)||x.isArguments(l))){t||(l=M(l,t,n));var u=0,c=l.length;for(i.length+=c;c>u;)i[a++]=l[u++]}else n||(i[a++]=l)}return i};x.flatten=function(e,t){return M(e,t,!1)},x.without=function(e){return x.difference(e,h.call(arguments,1))},x.uniq=x.unique=function(e,t,n,r){x.isBoolean(t)||(r=n,n=t,t=!1),null!=n&&(n=E(n,r));for(var i=[],a=[],o=0,s=O(e);s>o;o++){var l=e[o],u=n?n(l,o,e):l;t?(o&&a===u||i.push(l),a=u):n?x.contains(a,u)||(a.push(u),i.push(l)):x.contains(i,l)||i.push(l)}return i},x.union=function(){return x.uniq(M(arguments,!0,!0))},x.intersection=function(e){for(var t=[],n=arguments.length,r=0,i=O(e);i>r;r++){var a=e[r];if(!x.contains(t,a)){for(var o=1;n>o&&x.contains(arguments[o],a);o++);o===n&&t.push(a)}}return t},x.difference=function(e){var t=M(arguments,!0,!0,1);return x.filter(e,function(e){return!x.contains(t,e)})},x.zip=function(){return x.unzip(arguments)},x.unzip=function(e){for(var t=e&&x.max(e,O).length||0,n=Array(t),r=0;t>r;r++)n[r]=x.pluck(e,r);return n},x.object=function(e,t){for(var n={},r=0,i=O(e);i>r;r++)t?n[e[r]]=t[r]:n[e[r][0]]=e[r][1];return n},x.findIndex=a(1),x.findLastIndex=a(-1),x.sortedIndex=function(e,t,n,r){n=E(n,r,1);for(var i=n(t),a=0,o=O(e);o>a;){var s=Math.floor((a+o)/2);n(e[s])<i?a=s+1:o=s}return a},x.indexOf=o(1,x.findIndex,x.sortedIndex),x.lastIndexOf=o(-1,x.findLastIndex),x.range=function(e,t,n){null==t&&(t=e||0,e=0),n=n||1;for(var r=Math.max(Math.ceil((t-e)/n),0),i=Array(r),a=0;r>a;a++,e+=n)i[a]=e;return i};var N=function(e,t,n,r,i){if(!(r instanceof t))return e.apply(n,i);var a=S(e.prototype),o=e.apply(a,i);return x.isObject(o)?o:a};x.bind=function(e,t){if(b&&e.bind===b)return b.apply(e,h.call(arguments,1));if(!x.isFunction(e))throw new TypeError("Bind must be called on a function");var n=h.call(arguments,2),r=function(){return N(e,r,t,this,n.concat(h.call(arguments)))};return r},x.partial=function(e){var t=h.call(arguments,1),n=function(){for(var r=0,i=t.length,a=Array(i),o=0;i>o;o++)a[o]=t[o]===x?arguments[r++]:t[o];for(;r<arguments.length;)a.push(arguments[r++]);return N(e,n,this,this,a)};return n},x.bindAll=function(e){var t,n,r=arguments.length;if(1>=r)throw new Error("bindAll must be passed function names");for(t=1;r>t;t++)n=arguments[t],e[n]=x.bind(e[n],e);return e},x.memoize=function(e,t){var n=function(r){var i=n.cache,a=""+(t?t.apply(this,arguments):r);return x.has(i,a)||(i[a]=e.apply(this,arguments)),i[a]};return n.cache={},n},x.delay=function(e,t){var n=h.call(arguments,2);return setTimeout(function(){return e.apply(null,n)},t)},x.defer=x.partial(x.delay,x,1),x.throttle=function(e,t,n){var r,i,a,o=null,s=0;n||(n={});var l=function(){s=n.leading===!1?0:x.now(),o=null,a=e.apply(r,i),o||(r=i=null)};return function(){var u=x.now();s||n.leading!==!1||(s=u);var c=t-(u-s);return r=this,i=arguments,0>=c||c>t?(o&&(clearTimeout(o),o=null),s=u,a=e.apply(r,i),o||(r=i=null)):o||n.trailing===!1||(o=setTimeout(l,c)),a}},x.debounce=function(e,t,n){var r,i,a,o,s,l=function(){var u=x.now()-o;t>u&&u>=0?r=setTimeout(l,t-u):(r=null,n||(s=e.apply(a,i),r||(a=i=null)))};return function(){a=this,i=arguments,o=x.now();var u=n&&!r;return r||(r=setTimeout(l,t)),u&&(s=e.apply(a,i),a=i=null),s}},x.wrap=function(e,t){return x.partial(t,e)},x.negate=function(e){return function(){return!e.apply(this,arguments)}},x.compose=function(){var e=arguments,t=e.length-1;return function(){for(var n=t,r=e[t].apply(this,arguments);n--;)r=e[n].call(this,r);return r}},x.after=function(e,t){return function(){return--e<1?t.apply(this,arguments):void 0}},x.before=function(e,t){var n;return function(){return--e>0&&(n=t.apply(this,arguments)),1>=e&&(t=null),n}},x.once=x.partial(x.before,2);var D=!{toString:null}.propertyIsEnumerable("toString"),L=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"];x.keys=function(e){if(!x.isObject(e))return[];if(y)return y(e);var t=[];for(var n in e)x.has(e,n)&&t.push(n);return D&&s(e,t),t},x.allKeys=function(e){if(!x.isObject(e))return[];var t=[];for(var n in e)t.push(n);return D&&s(e,t),t},x.values=function(e){for(var t=x.keys(e),n=t.length,r=Array(n),i=0;n>i;i++)r[i]=e[t[i]];return r},x.mapObject=function(e,t,n){t=E(t,n);for(var r,i=x.keys(e),a=i.length,o={},s=0;a>s;s++)r=i[s],o[r]=t(e[r],r,e);return o},x.pairs=function(e){for(var t=x.keys(e),n=t.length,r=Array(n),i=0;n>i;i++)r[i]=[t[i],e[t[i]]];return r},x.invert=function(e){for(var t={},n=x.keys(e),r=0,i=n.length;i>r;r++)t[e[n[r]]]=n[r];return t},x.functions=x.methods=function(e){var t=[];for(var n in e)x.isFunction(e[n])&&t.push(n);return t.sort()},x.extend=_(x.allKeys),x.extendOwn=x.assign=_(x.keys),x.findKey=function(e,t,n){t=E(t,n);for(var r,i=x.keys(e),a=0,o=i.length;o>a;a++)if(r=i[a],t(e[r],r,e))return r},x.pick=function(e,t,n){var r,i,a={},o=e;if(null==o)return a;x.isFunction(t)?(i=x.allKeys(o),r=C(t,n)):(i=M(arguments,!1,!1,1),r=function(e,t,n){return t in n},o=Object(o));for(var s=0,l=i.length;l>s;s++){var u=i[s],c=o[u];r(c,u,o)&&(a[u]=c)}return a},x.omit=function(e,t,n){if(x.isFunction(t))t=x.negate(t);else{var r=x.map(M(arguments,!1,!1,1),String);t=function(e,t){return!x.contains(r,t)}}return x.pick(e,t,n)},x.defaults=_(x.allKeys,!0),x.create=function(e,t){var n=S(e);return t&&x.extendOwn(n,t),n},x.clone=function(e){return x.isObject(e)?x.isArray(e)?e.slice():x.extend({},e):e},x.tap=function(e,t){return t(e),e},x.isMatch=function(e,t){var n=x.keys(t),r=n.length;if(null==e)return!r;for(var i=Object(e),a=0;r>a;a++){var o=n[a];if(t[o]!==i[o]||!(o in i))return!1}return!0};var P=function(e,t,n,r){if(e===t)return 0!==e||1/e===1/t;if(null==e||null==t)return e===t;e instanceof x&&(e=e._wrapped),t instanceof x&&(t=t._wrapped);var i=g.call(e);if(i!==g.call(t))return!1;switch(i){case"[object RegExp]":case"[object String]":return""+e==""+t;case"[object Number]":return+e!==+e?+t!==+t:0===+e?1/+e===1/t:+e===+t;case"[object Date]":case"[object Boolean]":return+e===+t}var a="[object Array]"===i;if(!a){if("object"!=typeof e||"object"!=typeof t)return!1;var o=e.constructor,s=t.constructor;if(o!==s&&!(x.isFunction(o)&&o instanceof o&&x.isFunction(s)&&s instanceof s)&&"constructor"in e&&"constructor"in t)return!1}n=n||[],r=r||[];for(var l=n.length;l--;)if(n[l]===e)return r[l]===t;if(n.push(e),r.push(t),a){if(l=e.length,l!==t.length)return!1;for(;l--;)if(!P(e[l],t[l],n,r))return!1}else{var u,c=x.keys(e);if(l=c.length,x.keys(t).length!==l)return!1;for(;l--;)if(u=c[l],!x.has(t,u)||!P(e[u],t[u],n,r))return!1}return n.pop(),r.pop(),!0};x.isEqual=function(e,t){return P(e,t)},x.isEmpty=function(e){return null==e?!0:A(e)&&(x.isArray(e)||x.isString(e)||x.isArguments(e))?0===e.length:0===x.keys(e).length},x.isElement=function(e){return!(!e||1!==e.nodeType)},x.isArray=v||function(e){return"[object Array]"===g.call(e)},x.isObject=function(e){var t=typeof e;return"function"===t||"object"===t&&!!e},x.each(["Arguments","Function","String","Number","Date","RegExp","Error"],function(e){x["is"+e]=function(t){return g.call(t)==="[object "+e+"]"}}),x.isArguments(arguments)||(x.isArguments=function(e){return x.has(e,"callee")}),"function"!=typeof/./&&"object"!=typeof Int8Array&&(x.isFunction=function(e){return"function"==typeof e||!1}),x.isFinite=function(e){return isFinite(e)&&!isNaN(parseFloat(e))},x.isNaN=function(e){return x.isNumber(e)&&e!==+e},x.isBoolean=function(e){return e===!0||e===!1||"[object Boolean]"===g.call(e)},x.isNull=function(e){return null===e},x.isUndefined=function(e){return void 0===e},x.has=function(e,t){return null!=e&&m.call(e,t)},x.noConflict=function(){return l._=u,this},x.identity=function(e){return e},x.constant=function(e){return function(){return e}},x.noop=function(){},x.property=k,x.propertyOf=function(e){return null==e?function(){}:function(t){return e[t]}},x.matcher=x.matches=function(e){return e=x.extendOwn({},e),function(t){return x.isMatch(t,e)}},x.times=function(e,t,n){var r=Array(Math.max(0,e));t=C(t,n,1);for(var i=0;e>i;i++)r[i]=t(i);return r},x.random=function(e,t){return null==t&&(t=e,e=0),e+Math.floor(Math.random()*(t-e+1))},x.now=Date.now||function(){return(new Date).getTime()};var I={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},F=x.invert(I),j=function(e){var t=function(t){return e[t]},n="(?:"+x.keys(e).join("|")+")",r=RegExp(n),i=RegExp(n,"g");return function(e){return e=null==e?"":""+e,r.test(e)?e.replace(i,t):e}};x.escape=j(I),x.unescape=j(F),x.result=function(e,t,n){var r=null==e?void 0:e[t];return void 0===r&&(r=n),x.isFunction(r)?r.call(e):r};var H=0;x.uniqueId=function(e){var t=++H+"";return e?e+t:t},x.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var B=/(.)^/,V={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},U=/\\|'|\r|\n|\u2028|\u2029/g,z=function(e){return"\\"+V[e]};x.template=function(e,t,n){!t&&n&&(t=n),t=x.defaults({},t,x.templateSettings);var r=RegExp([(t.escape||B).source,(t.interpolate||B).source,(t.evaluate||B).source].join("|")+"|$","g"),i=0,a="__p+='";e.replace(r,function(t,n,r,o,s){return a+=e.slice(i,s).replace(U,z),i=s+t.length,n?a+="'+\n((__t=("+n+"))==null?'':_.escape(__t))+\n'":r?a+="'+\n((__t=("+r+"))==null?'':__t)+\n'":o&&(a+="';\n"+o+"\n__p+='"),t}),a+="';\n",t.variable||(a="with(obj||{}){\n"+a+"}\n"),a="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+a+"return __p;\n";try{var o=new Function(t.variable||"obj","_",a)}catch(s){throw s.source=a,s}var l=function(e){return o.call(this,e,x)},u=t.variable||"obj";return l.source="function("+u+"){\n"+a+"}",l},x.chain=function(e){var t=x(e);return t._chain=!0,t};var q=function(e,t){return e._chain?x(t).chain():t};x.mixin=function(e){x.each(x.functions(e),function(t){var n=x[t]=e[t];x.prototype[t]=function(){var e=[this._wrapped];return p.apply(e,arguments),q(this,n.apply(x,e))}})},x.mixin(x),x.each(["pop","push","reverse","shift","sort","splice","unshift"],function(e){var t=c[e];x.prototype[e]=function(){var n=this._wrapped;return t.apply(n,arguments),"shift"!==e&&"splice"!==e||0!==n.length||delete n[0],q(this,n)}}),x.each(["concat","join","slice"],function(e){var t=c[e];x.prototype[e]=function(){return q(this,t.apply(this._wrapped,arguments))}}),x.prototype.value=function(){return this._wrapped},x.prototype.valueOf=x.prototype.toJSON=x.prototype.value,x.prototype.toString=function(){return""+this._wrapped},r=[],i=function(){return x}.apply(t,r),!(void 0!==i&&(e.exports=i))}).call(this)}]);